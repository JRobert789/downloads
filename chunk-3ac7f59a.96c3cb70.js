(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3ac7f59a"],{"86c5":function(e,t,o){},ad36:function(e,t,o){"use strict";o.r(t);var i=o("5530"),s=(o("4d63"),o("ac1f"),o("25f0"),o("d3b7"),o("b680"),o("d36b")),a={item1:[{key:"siteTitle",label:s.a.t("siteConfig.siteFullName")},{key:"backendSiteTitle",label:s.a.t("siteConfig.backendSiteTitle")},{key:"iosUrl",label:s.a.t("siteConfig.iosUrl"),info:s.a.t("siteConfig.urlInfo")},{key:"androidUrl",label:s.a.t("siteConfig.androidUrl"),info:s.a.t("siteConfig.urlInfo")},{key:"navDomain",label:s.a.t("siteConfig.promotionDomain"),info:s.a.t("siteConfig.urlInfo")},{key:"downloadPageUrl",label:s.a.t("siteConfig.downloadPageUrl"),info:s.a.t("siteConfig.urlInfo")},{key:"transferPageUrl",label:s.a.t("siteConfig.transferPageUrl"),info:s.a.t("siteConfig.urlInfo")}],item2:[{key:"pcLogoUrl",label:s.a.t("siteConfig.PCpic"),data:"pcLogoUrl"},{key:"mobileLogoUrl",label:s.a.t("siteConfig.mobileLogoUrl"),data:"mobileLogoUrl"}],item4:[]},l=o("9dac"),r=o("2f62"),n={data:function(){return{formItem:a,rules:{navDomain:[{pattern:/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\*\+,;=.]+$/,message:this.$t("siteConfig.siteConfigValidator1")}],iosUrl:[{pattern:/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\*\+,;=.]+$/,message:this.$t("siteConfig.siteConfigValidator1")}],androidUrl:[{pattern:/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\*\+,;=.]+$/,message:this.$t("siteConfig.siteConfigValidator1")}],transferPageUrl:[{pattern:/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\*\+,;=.]+$/,message:this.$t("siteConfig.siteConfigValidator1")}],downloadPageUrl:[{pattern:/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\*\+,;=.]+$/,message:this.$t("siteConfig.siteConfigValidator1")}],checkRate:[{pattern:/^[+]{0,1}(\d+)$/,message:this.$t("siteConfig.siteConfigValidator2")}],maxCommission:[{pattern:/^([0-9]|10)$/,message:this.$t("siteConfig.siteConfigValidator3")}],checkRate2:[{pattern:/^100$|^([1-9]|[1-9]\d)$/,message:this.$t("siteConfig.siteConfigValidator4")}],lowestCommissionRebate:[{pattern:new RegExp("^(([1-9]{1}\\d*)|([0]{1}))(\\.(\\d){0,2})?$"),message:this.$t("siteConfig.siteConfigValidator2")}]},form:{siteTitle:"",backendSiteTitle:"",tel1:"",tel2:"",qq:"",skype:"",iosUrl:"",androidUrl:"",navDomain:"",transferPageUrl:"",downloadPageUrl:"",siteKeywords:"",siteDesc:"",isEnable:1,assertTime:"",lowestCommissionRebate:0,dictCode:null,id:""},upList:[],upList2:[],upList3:[],showDrawer:!1,userName:"",rebateRemark:{},defaultProxyId:"",showSpin:!1,showProxySpin:!1,visible:!1,imgPath:""}},methods:{checkMaintainDate:function(e){var t=new Date(this.$utils.formatDate2Server(Date.now(),"YYYY/MM/DD hh:mm:ss")).getTime(),o=e.getTime();return!(!e||t>o)},uploadSuccess:function(e){this.form.mobileLogoUrl=e.path},uploadRemove:function(){this.form.mobileLogoUrl=""},uploadSuccess2:function(e){this.form.faviconUrl=e.path},uploadRemove2:function(){this.form.faviconUrl=""},uploadSuccess3:function(e){this.form.loginLogoUrl=e.path},uploadRemove3:function(){this.form.loginLogoUrl=""},query:function(){var e=this;this.showSpin=!0,this.$get("/platform/site/tob/getSiteInfo").then((function(t){if(t){var o=t.lowestCommissionRebate,i=t.mobileLogoUrl,s=t.id,a=t.defaultProxyId,l=t.faviconUrl,r=t.loginLogoUrl;i=e.$formatImageUrl(i),l=e.$formatImageUrl(l),r=e.$formatImageUrl(r),["downloadPageUrl","transferPageUrl","siteTitle","backendSiteTitle","tel1","tel2","qq","skype","iosUrl","androidUrl","siteKeywords","siteDesc","assertTime","navDomain"].forEach((function(o){e.form[o]=t[o]})),["lowestCommissionRebate"].forEach((function(o){e.form[o]=+t[o]})),e.form.lowestCommissionRebate=+o/1e3,e.form.id=s,e.defaultProxyId=a,e.form.mobileLogoUrl=i,e.form.faviconUrl=l,e.form.loginLogoUrl=r,e.form.assertTime=t.assertTime,e.form.isEnable=t.isEnable,e.upList.push({name:"image",url:i}),e.upList2.push({name:"image",url:l}),e.upList3.push({name:"image",url:r})}})).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.showSpin=!1}))},updateSite:function(){var e=this;this.$refs.siteform.validate((function(t){if(t){var o=Object.assign({},e.form,{lowestCommissionRebate:1e3*e.form.lowestCommissionRebate});if(2==+o.isEnable){if(!o.assertTime)return void e.$Message.error(e.$t("siteConfig.siteConfigErrorMsg2"));if(!e.checkMaintainDate(o.assertTime))return e.$Message.error(e.$t("siteConfig.siteConfigErrorMsg1"));o.assertTime=e.$utils.formatDate(o.assertTime,"YYYY-MM-DD hh:mm:ss")}else delete o.assertTime;e.showSpin=!0,e.$post("/platform/site/tob/saveSiteInfo",Object(i.a)(Object(i.a)({},o),{},{defaultProxyId:e.defaultProxyId})).then((function(){e.form.dictCode=null,e.$Message.success(e.$t("changeSuccess"))})).catch((function(t){e.$Message.error(t.message),e.query()})).finally((function(){e.upList=[],e.upList2=[],e.upList3=[],e.query(),e.showSpin=!1}))}else e.$Message.warning(e.$t("siteConfig.siteConfigErrorMsg3"))}))}},components:{upload:l.a},filters:{tofixed:function(e){return(e/100).toFixed(1)}},mounted:function(){this.query()},computed:Object(i.a)({},Object(r.c)("site",["imgServer"]))},m=n,f=(o("fe23"),o("2877")),p=Object(f.a)(m,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"site"},[o("Form",{ref:"siteform",attrs:{model:e.form,rules:e.rules,"label-width":160}},[e._l(e.formItem.item1,(function(t){return o("FormItem",{key:t.key,attrs:{label:t.label,prop:t.key}},[t.info?[o("div",{staticClass:"site__input"},["number"===t.type?[o("InputNumber",{attrs:{min:0,placeholder:t.placeholder||e.$t("siteConfig.pleaseInput")+t.label},model:{value:e.form[t.key],callback:function(o){e.$set(e.form,t.key,o)},expression:"form[i.key]"}}),t.append?o("span",{attrs:{slot:"append"},slot:"append"},[e._v(e._s(t.append))]):e._e()]:o("Input",{attrs:{placeholder:t.placeholder||e.$t("siteConfig.pleaseInput")+t.label},model:{value:e.form[t.key],callback:function(o){e.$set(e.form,t.key,o)},expression:"form[i.key]"}})],2),o("p",[e._v(e._s(t.info))])]:o("Input",{attrs:{type:t.type||"text",rows:6,disabled:t.disabled||!1,placeholder:t.placeholder||e.$t("siteConfig.pleaseInput")+t.label},model:{value:e.form[t.key],callback:function(o){e.$set(e.form,t.key,o)},expression:"form[i.key]"}})],2)})),o("FormItem",{attrs:{label:e.$t("siteConfig.faviconUrl")}},[o("upload",{ref:"upRef2",attrs:{list:e.upList2},on:{"upload-remove":e.uploadRemove2,"upload-success":e.uploadSuccess2},model:{value:e.form.faviconUrl,callback:function(t){e.$set(e.form,"faviconUrl",t)},expression:"form.faviconUrl"}})],1),o("FormItem",{attrs:{label:e.$t("siteConfig.mobileLogoUrl")}},[o("upload",{ref:"upRef2",attrs:{list:e.upList},on:{"upload-remove":e.uploadRemove,"upload-success":e.uploadSuccess},model:{value:e.form.mobileLogoUrl,callback:function(t){e.$set(e.form,"mobileLogoUrl",t)},expression:"form.mobileLogoUrl"}})],1),o("FormItem",{attrs:{label:e.$t("siteConfig.loginLogoUrl")}},[o("upload",{ref:"upRef2",attrs:{list:e.upList3},on:{"upload-remove":e.uploadRemove3,"upload-success":e.uploadSuccess3},model:{value:e.form.loginLogoUrl,callback:function(t){e.$set(e.form,"loginLogoUrl",t)},expression:"form.loginLogoUrl"}})],1),o("FormItem",{key:"isEnable",attrs:{label:e.$t("siteConfig.isEnable"),prop:"isEnable"}},[o("Checkbox",{attrs:{"true-value":2,"false-value":1},model:{value:e.form.isEnable,callback:function(t){e.$set(e.form,"isEnable",t)},expression:"form['isEnable']"}},[e._v(e._s(e._f("lang")("siteConfig.isEnableTips")))])],1),2==e.form.isEnable?o("FormItem",{key:"assertTime",attrs:{label:e.$t("siteConfig.maintainTime"),prop:"assertTime"}},[o("DatePicker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss",placeholder:e.$t("siteConfig.chooseMaintainTime")},model:{value:e.form.assertTime,callback:function(t){e.$set(e.form,"assertTime",t)},expression:"form['assertTime']"}})],1):e._e(),e._l(e.formItem.item4,(function(t){return o("FormItem",{key:t.key,attrs:{label:t.label,prop:t.key}},[t.info?[o("div",{staticClass:"site__input"},[o("InputNumber",{attrs:{min:t.min,max:t.max,placeholder:t.placeholder||e.$t("siteConfig.pleaseInput")+t.label},model:{value:e.form[t.key],callback:function(o){e.$set(e.form,t.key,o)},expression:"form[i.key]"}}),t.append?o("span",{attrs:{slot:"append"},slot:"append"},[e._v(e._s(t.append))]):e._e()],1),o("p",[e._v(e._s(t.info))])]:o("InputNumber",{attrs:{min:t.min,max:t.max,placeholder:t.placeholder||e.$t("siteConfig.pleaseInput")+t.label},model:{value:e.form[t.key],callback:function(o){e.$set(e.form,t.key,o)},expression:"form[i.key]"}})],2)})),o("FormItem",{attrs:{label:e.$t("siteConfig.lowestCommissionRebate"),prop:"lowestCommissionRebate"}},[o("div",{staticClass:"percentage"},[o("InputNumber",{attrs:{min:0},model:{value:e.form.lowestCommissionRebate,callback:function(t){e.$set(e.form,"lowestCommissionRebate",t)},expression:"form.lowestCommissionRebate"}}),e._v("% "),o("label",{staticStyle:{color:"red"}},[e._v(e._s(e._f("lang")("siteConfig.lowestCommissionRebateTips")))]),e.showProxySpin?o("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)]),o("FormItem",[o("Button",{attrs:{type:"primary",disabled:!e.pageauthoritys.save},on:{click:e.updateSite}},[e._v(e._s(e._f("lang")("confirm")))])],1)],2),o("div",{staticClass:"tips"},[o("p",[e._v(e._s(e._f("lang")("siteConfig.warmtipsTitle"))+"ï¼š")]),o("p",[e._v(e._s(e._f("lang")("siteConfig.warmtipsContent")))])]),e.showSpin?o("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)}),[],!1,null,null,null);t.default=p.exports},fe23:function(e,t,o){"use strict";o("86c5")}}]);