(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3d490050"],{"608a":function(t,s,i){},6898:function(t,s,i){"use strict";i.r(s);var e=i("ade3"),a=(i("7db0"),i("d3b7"),i("159b"),{data:function(){return{dataList:{isRegister:0,regConfigList:[],smsNum:0},default:{},isLoad:!1}},methods:{beforeChange:function(t){var s,i=this,a=t.isDisplay,n=t.fieldCode,o="mobile",l="email",r=(s={},Object(e.a)(s,o,l),Object(e.a)(s,l,o),s);if(r[n]&&!a){var f=this.dataList.regConfigList.find((function(t){return t.fieldCode===r[n]}));if(f&&f.isDisplay)return new Promise((function(t,s){i.$Modal.confirm({title:i.$t("tips"),content:i.$t("sysrelation.emailMobileTip"),onOk:function(){f.isDisplay=0,t()},onCancel:s})}))}return Promise.resolve()},formatConfigName:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=t.fieldCode,i=t.fieldName,e=this.$t("siteConfig.fieldCodeMap");return e&&e[s]?e[s]:i},query:function(){var t=this;this.isLoad=!0,this.$get("/platform/siteRegisterConfig/tob/queryRegConfig").then((function(s){t.dataList=JSON.parse(JSON.stringify(s)),t.default=JSON.parse(JSON.stringify(s))})).catch((function(s){t.$Message.error(s.message)})).finally((function(){t.isLoad=!1}))},save:function(){var t=this;this.isLoad=!0;var s=[],i=[],e=[],a=this.dataList,n=a.isRegister,o=a.regConfigList,l=a.smsNum;o.forEach((function(t){+t.isDisplay&&s.push(t.id),+t.isRequired&&i.push(t.id),+t.isVerify&&e.push(t.id)})),this.$post("/platform/siteRegisterConfig/tob/updateRegConfig",{smsNum:l,isRegister:n,regConfigList:JSON.stringify(o)},{formatway:"repeat"}).then((function(){t.$Message.success(t.$t("modifySuccess"))})).catch((function(s){t.$Message.error(s.message)})).finally((function(){t.isLoad=!1}))},todefault:function(){this.dataList=JSON.parse(JSON.stringify(this.default))}},mounted:function(){this.query()}}),n=a,o=(i("b434"),i("2877")),l=Object(o.a)(n,(function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"registerplayer"},[i("table",{staticClass:"cmtable"},[i("th",{attrs:{colspan:"2"}},[t._v(t._s(t._f("lang")("siteConfig.onlineAddNew")))]),i("tr",[i("td",{attrs:{width:"50%"}},[t._v(t._s(t._f("lang")("siteConfig.func")))]),i("td",{attrs:{width:"50%"}},[t._v(t._s(t._f("lang")("siteConfig.set")))])]),i("tr",[i("td",[t._v(t._s(t._f("lang")("siteConfig.isRegister")))]),i("td",[i("i-switch",{attrs:{"true-value":1,"false-value":0},model:{value:t.dataList.isRegister,callback:function(s){t.$set(t.dataList,"isRegister",s)},expression:"dataList.isRegister"}},[i("span",{attrs:{slot:"open"},slot:"open"},[t._v(t._s(t._f("lang")("siteConfig.yes")))]),i("span",{attrs:{slot:"close"},slot:"close"},[t._v(t._s(t._f("lang")("siteConfig.no")))])])],1)]),i("tr",[i("td",[t._v(t._s(t._f("lang")("siteConfig.smsNum")))]),i("td",[i("InputNumber",{attrs:{min:0,max:100},model:{value:t.dataList.smsNum,callback:function(s){t.$set(t.dataList,"smsNum",s)},expression:"dataList.smsNum"}})],1)])]),i("table",{staticClass:"cmtable"},[i("th",{attrs:{colspan:"4"}},[t._v(t._s(t._f("lang")("siteConfig.onlineAddNew")))]),i("tr",[i("td",{attrs:{width:"20%"}},[t._v(t._s(t._f("lang")("siteConfig.colTitie1")))]),i("td",{attrs:{width:"20%"}},[t._v(t._s(t._f("lang")("siteConfig.colTitie2")))]),i("td",{attrs:{width:"20%"}},[t._v(t._s(t._f("lang")("siteConfig.colTitie3")))]),i("td",{attrs:{width:"20%"}},[t._v(t._s(t._f("lang")("siteConfig.colTitie4")))])]),t._l(t.dataList.regConfigList,(function(s,e){return i("tr",{key:e},[i("td",[t._v(t._s(t.formatConfigName(s)))]),i("td",[i("i-switch",{attrs:{"true-value":1,"false-value":0},model:{value:s.isDisplay,callback:function(i){t.$set(s,"isDisplay",i)},expression:"i.isDisplay"}},[i("span",{attrs:{slot:"open"},slot:"open"},[t._v(t._s(t._f("lang")("siteConfig.yes")))]),i("span",{attrs:{slot:"close"},slot:"close"},[t._v(t._s(t._f("lang")("siteConfig.no")))])])],1),i("td",[i("i-switch",{attrs:{"true-value":1,"false-value":0},model:{value:s.isRequired,callback:function(i){t.$set(s,"isRequired",i)},expression:"i.isRequired"}},[i("span",{attrs:{slot:"open"},slot:"open"},[t._v(t._s(t._f("lang")("siteConfig.yes")))]),i("span",{attrs:{slot:"close"},slot:"close"},[t._v(t._s(t._f("lang")("siteConfig.no")))])])],1),i("td",[i("i-switch",{attrs:{"true-value":1,"false-value":0},model:{value:s.isVerify,callback:function(i){t.$set(s,"isVerify",i)},expression:"i.isVerify"}},[i("span",{attrs:{slot:"open"},slot:"open"},[t._v(t._s(t._f("lang")("siteConfig.yes")))]),i("span",{attrs:{slot:"close"},slot:"close"},[t._v(t._s(t._f("lang")("siteConfig.no")))])])],1)])}))],2),i("div",{staticClass:"operation-btn-group"},[i("Button",{staticClass:"m-r-20",attrs:{type:"primary",disabled:!t.pageauthoritys.save},on:{click:function(s){return t.save()}}},[t._v(t._s(t._f("lang")("confirm")))]),i("Button",{on:{click:function(s){return t.todefault()}}},[t._v(t._s(t._f("lang")("cancel")))])],1),t.isLoad?i("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)}),[],!1,null,null,null);s.default=l.exports},b434:function(t,s,i){"use strict";i("608a")}}]);