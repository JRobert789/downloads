(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-51fc4e0b"],{"1ac3":function(t,e,a){"use strict";var s=a("3835"),n=a("5530"),o=(a("a9e3"),a("b680"),a("d81d"),a("d3b7"),a("159b"),a("fb6a"),a("99af"),a("2b06")),r=(a("b64b"),a("ac1f"),a("5319"),{props:{value:{default:!1,type:Boolean},type:{default:"",type:[String,Number]},selected:{default:null,type:Object},remarks:{default:null,type:Array}},data:function(){return{loading:!1,load:!1,showDrawer:!1,title:"",remark:"",index:"-1",isSendMessage:!1,generations:{}}},components:{},methods:{initModal:function(){var t=this.type,e="",a="";this.index="-1","remark"===this.type?(e=this.$t("fund.viewChaneRemark"),a=this.selected.remark):4==+t?(e=this.$t("fund.tips"),a=this.selected.remark):6==+t?e=this.$t("fund.thirdPartyAgency"):3==+t?(e=this.$t("fund.confirmCancelWithdrawal"),a=this.selected.remark):2==+t&&(e=this.$t("fund.confirmRefuseWithdrawal"),a=this.selected.remark),this.title=e,this.remark=a},getThirdList:function(){var t=this;if(!this.load){this.load=!0;var e=this.selected.userId;this.$post("/deposit/payThirdAccount/tob/findThirdAccountList",{userId:e}).then((function(e){t.generations=e;var a=Object.keys(t.generations);a&&a.length&&(t.remark=a[0])})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.load=!1}))}},savePay:function(){var t=this;if(!this.loading){var e=this.selected,a=e.applyMoney,s=e.handlingFee,o=e.withdrawNo,r=e.otherFee;if(this.remark)this.remark=this.remark.replace(/(^\s*)|(\s*$)/g,"");else if(6==+this.type)return void this.$Message.error(this.$t("fund.noHaveTypes"));var i={remark:this.remark,withdrawNo:o,isSendMessage:this.isSendMessage?"T":"F"};6==+this.type&&(delete i.remark,i.thirdId=this.remark),"remark"!==this.type&&(i=Object(n.a)(Object(n.a)({},i),{status:this.type,handlingFee:s,otherFee:r||0,factMoney:(a-s-r).toFixed()}));var l="remark"!==this.type?"/withdraw/order/tob/updateOrderStatus":"/withdraw/order/tob/updateOrderRemark";this.loading=!0,this.$post(l,i,{"Content-type":"application/json"}).then((function(){var e=t.$t("fund.manualWithdrawalSuccess");6===t.type?e=t.$t("fund.thirdPartyAgencySubmitted"):3===t.type?e=t.$t("fund.lotpayErrMsg6"):2===t.type?e=t.$t("fund.lotpayErrMsg7"):"remark"===t.type&&(e=t.selected.remark?t.$t("fund.remarkChangeSuccess"):t.$t("fund.remarkAddSuccess")),t.$Message.success(e),t.$emit("save")})).catch((function(e){var a=e.message;if(110020==+e.code&&(a=t.$t("fund.paymentFailed"),-1!==e.message.indexOf("｜"))){var s=e.message.lastIndexOf("｜");a=t.$t("fund.paymentFailed")+e.message.substring(s+1,e.message.length)}t.$Message.error(a)})).finally((function(){t.loading=!1}))}}},computed:{value2:{get:function(){return this.initModal(),this.value},set:function(t){this.$emit("input",t)}}},watch:{value:function(t){t&&6===this.type&&this.getThirdList()}}}),i=r,l=(a("d492"),a("2877")),u=Object(l.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{title:t.title},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},[4==+t.type?a("div",[t._v(t._s(t._f("lang")("fund.lotpayErrMsg3")))]):6==+t.type?a("div",[a("Form",{attrs:{"label-width":80}},[a("FormItem",{attrs:{label:t.$t("fund.paymentPlatform"),prop:"roleName"}},[a("Select",{staticClass:"modal_select_style",attrs:{placeholder:t.$t("fund.noHaveTypes")},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}},t._l(t.generations,(function(e,s){return a("Option",{key:s,attrs:{value:s}},[t._v(t._s(e))])})),1)],1)],1)],1):a("div",[a("Form",{attrs:{"label-width":80}},[a("FormItem",{attrs:{label:t.$t("fund.remark"),prop:"remark"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:10}},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)],1),"remark"!==t.type?a("div",{staticClass:"modal_notice"},[a("div",[a("Checkbox",{model:{value:t.isSendMessage,callback:function(e){t.isSendMessage=e},expression:"isSendMessage"}},[t._v(t._s(t._f("lang")("fund.isSendMessage")))])],1),3==+t.type?a("p",[t._v(t._s(t._f("lang")("fund.cancelWithdrwaOrderTips")))]):2==+t.type?a("p",[t._v(t._s(t._f("lang")("fund.refuseWithdrwaOrderTips")))]):t._e()]):t._e()],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticStyle:{"margin-left":"8px"},attrs:{loading:t.loading,type:"text"},on:{click:function(e){return t.$emit("input",!1)}}},[t._v(t._s(t._f("lang")("cancel")))]),a("Button",{attrs:{loading:t.loading,type:"primary"},on:{click:function(e){return t.savePay()}}},[t._v(t._s(t._f("lang")("confirm")))])],1),t.load?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)],1)}),[],!1,null,null,null),c=u.exports,d={props:{value:{default:!1,type:Boolean}},data:function(){return{totalTime:30,time_s:o.d,promiseTimer:"",current:""}},methods:{init:function(){this.totalTime>0?(this.current=this.totalTime,this.countDown()):this.current=0},countDown:function(){var t=this;clearInterval(this.promiseTimer),this.promiseTimer=setInterval((function(){var e=t.current;0===--e?t.$emit("query"):t.current=e}),1e3)},changeRefershTime:function(t){"none"===t?(clearInterval(this.promiseTimer),this.current=0,this.totalTime=0):(this.current=t,this.totalTime=+t,this.countDown())}},watch:{value:function(t){t?(clearInterval(this.promiseTimer),this.init()):this.totalTime&&this.countDown()}},mounted:function(){this.init()}},f=d,p=Object(l.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Dropdown",{staticClass:"listDown",attrs:{trigger:"click"}},[a("Button",[t._v(t._s(t.current?""+t.current+t.$t("fund.second"):t.$t("fund.noRefresh"))),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},t._l(t.time_s,(function(e,s){return a("DropdownItem",{key:s,attrs:{name:e.key},nativeOn:{click:function(a){return t.changeRefershTime(e.key)}}},[t._v(t._s(e.name))])})),1)],1)}),[],!1,null,null,null),_=p.exports,h={components:{},props:{value:{default:!1,type:Boolean},id:{default:"",type:String},selectObj:{default:function(){},type:Object}},data:function(){return{showSpin:!1,dataList:[],userInfoData:{},bankInfo:{},editInfo:{},handlingFee:0,otherFee:0,memberTax:0,platformTax:0}},methods:{showsameip:function(t){t&&this.$refs.ordersameip.open(t)},doOption:function(t){if(this.handlingFee+this.otherFee+this.memberTax+this.platformTax>=+this.userInfoData.applyMoney/100)this.$Message.error(this.$t("fund.paymentVal"));else{var e=Object(n.a)(Object(n.a)({},this.userInfoData),{},{handlingFee:(100*(this.handlingFee||0)).toFixed(),otherFee:(100*(this.otherFee||0)).toFixed()});this.$emit("checkOption",{checkInfo:e,type:t})}},query:function(){var t=this;this.showSpin=!0,this.$get("/withdraw/order/tob/getOpDetailArg",{withdrawNo:this.selectObj.withdrawNo},{"Content-type":"application/json"}).then((function(e){var a=e.userDetailArgResp,s=e.userBank;t.bankInfo=s||{},t.memberTax=+a.memberTax/100||0,t.platformTax=+a.platformTax/100||0,t.$post("/user/tob/getUserDetailApi",{id:t.selectObj.userId}).then((function(e){var s=e.phone;t.userInfoData=Object(n.a)(Object(n.a)({},a),{},{phone:s})})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.showSpin=!1}))})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.showSpin=!1}))},pageSizeChange:function(t){this.pageSize=t,this.query(1)},copy:function(t){this.$utils.copy(t)?this.$Message.success(this.$t("fund.lotpayErrMsg10")):this.$Message.error(this.$t("fund.lotpayErrMsg11"))}},computed:{showDrawer:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},watch:{value:function(t){t&&(this.handlingFee=Number(((this.selectObj.handlingFee||0)/100).toFixed(2)),this.otherFee=Number(((this.selectObj.otherFee||0)/100).toFixed(2)),this.query())}}},m=h,y=(a("bc1c"),Object(l.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Drawer",{staticClass:"check_out_container",attrs:{title:t.$t("fund.checkOut"),width:"1200"},model:{value:t.showDrawer,callback:function(e){t.showDrawer=e},expression:"showDrawer"}},[a("div",[a("span",[t._v(t._s(t.$t("fund.actualPayment",{m:t.userInfoData.username})))])]),t.userInfoData.userRemark?a("div",{staticClass:"block_row"},[a("span",[t._v(t._s(t._f("lang")("fund.remark"))+" "+t._s(t.userInfoData.userRemark))])]):t._e(),a("div",{staticClass:"block_row"},[a("table",[a("tr",[a("th",{staticClass:"th_left"},[t._v(t._s(t._f("lang")("fund.withdrawalType")))]),a("th",{staticClass:"th_left"},[t._v(t._s(t._f("lang")("fund.channel")))]),a("th",{staticClass:"th_left"},[t._v(t._s(t._f("lang")("fund.realName")))]),a("th",{staticClass:"th_left"},[t._v(t._s(t._f("lang")("fund.cardNo")))]),a("th",{staticClass:"th_left"},[t._v("SWFITCode")]),a("th",{staticClass:"th_left"},[t._v("E-mail")]),a("th",{staticClass:"th_left"},[t._v(t._s(t._f("lang")("fund.tel")))])]),a("tr",[t.bankInfo.chanName?a("td",[t._v("USDT")]):a("td",[t._v(t._s(t._f("lang")("fund.bankCard")))]),a("td",[t._v(t._s(t.bankInfo.chanName||t.bankInfo.bankName))]),a("td",[t._v(t._s(t.bankInfo.realName))]),a("td",[t._v(t._s(t.selectObj.usdtAddress||t.selectObj.account))]),a("td",[t._v(t._s(t.bankInfo.ifscCode))]),a("td",[t._v(t._s(t.bankInfo.email||""))]),a("td",[t._v(t._s(t.userInfoData.phone))])])])]),a("div",{staticClass:"block_row"},[a("table",[a("tr",[a("th",[t._v(t._s(t._f("lang")("fund.player")))]),a("th",[t._v(t._s(t._f("lang")("fund.totalDeposit")))]),a("th",[t._v(t._s(t._f("lang")("fund.totalWithdrawal")))]),a("th",[t._v(t._s(t._f("lang")("fund.regTime")))]),a("th",[t._v(t._s(t._f("lang")("fund.playerBalance")))]),a("th",[t._v(t._s(t._f("lang")("fund.playerRemark")))]),a("th",[t._v(t._s(t._f("lang")("fund.todayWithdrawalNumber")))]),a("th",[t._v(t._s(t._f("lang")("fund.orderNumber")))]),a("th",[t._v(t._s(t._f("lang")("fund.amountOfWithdrawal")))]),a("th",[t._v(t._s(t._f("lang")("fund.actualAmountOfWithdrawal")))])]),a("tr",[a("td",[t._v(t._s(t.userInfoData.username))]),a("td",[t._v(t._s(t._f("to100fix")(t.userInfoData.totalDepositMoney||0)))]),a("td",[t._v(t._s(t._f("to100fix")(t.userInfoData.totalWithdrawMoney||0)))]),a("td",[t._v(t._s(t.userInfoData.userCreateTime))]),a("td",[t._v(t._s(t._f("to100fix")(t.userInfoData.userFunds)))]),a("td",[t._v(t._s(t.userInfoData.userRemark||""))]),a("td",[t._v(t._s(t.userInfoData.todayWithdrawCount||0))]),a("td",[t._v(t._s(t.userInfoData.withdrawNo))]),a("td",[t._v(" "+t._s(t._f("to100fix")(t.userInfoData.applyMoney))),a("span",{staticClass:"button-copy",on:{click:function(e){t.copy((t.userInfoData.applyMoney/100).toFixed(2))}}},[t._v(t._s(t._f("lang")("fund.copy")))])]),a("td",[a("span",{staticStyle:{color:"red"}},[t._v(t._s(t._f("tofix")(t.userInfoData.applyMoney/100-t.otherFee-t.handlingFee-t.memberTax-t.platformTax)))]),a("span",{staticClass:"button-copy",on:{click:function(e){t.copy((t.userInfoData.applyMoney/100-t.otherFee-t.handlingFee-t.memberTax-t.platformTax).toFixed(2))}}},[t._v(t._s(t._f("lang")("fund.copy")))])])])])]),a("div",{staticClass:"block_row"},[a("table",[a("tr",[a("td",{staticClass:"block_cheche_title"},[t._v(t._s(t._f("lang")("fund.paymentSettlement")))]),t.userInfoData?[a("td",{staticClass:"block_cheche_content",attrs:{colspan:"8"}},[a("div",{staticClass:"block_cheche_line"},[a("span",{staticClass:"cheche_line_title"},[t._v(t._s(t._f("lang")("fund.deduction"))+"：")]),a("span",{staticClass:"cheche_line_content"},[t._v(t._s(t._f("lang")("fund.withdrawalFee"))+"：")]),a("InputNumber",{staticClass:"check_input",attrs:{min:0,type:"number",size:"small"},model:{value:t.handlingFee,callback:function(e){t.handlingFee=e},expression:"handlingFee"}}),a("span",{staticClass:"cheche_line_content"},[t._v(t._s(t._f("lang")("fund.otherFee"))+"：")]),a("InputNumber",{staticClass:"check_input",attrs:{min:0,size:"small"},model:{value:t.otherFee,callback:function(e){t.otherFee=e},expression:"otherFee"}}),a("span",{staticClass:"cheche_line_content"},[t._v(t._s(t._f("lang")("fund.memberTax"))+"：")]),a("InputNumber",{staticClass:"check_input",attrs:{min:0,size:"small",disabled:!0},model:{value:t.memberTax,callback:function(e){t.memberTax=e},expression:"memberTax"}}),a("span",{staticClass:"cheche_line_content"},[t._v(t._s(t._f("lang")("fund.platformTax"))+"：")]),a("InputNumber",{staticClass:"check_input",attrs:{min:0,size:"small",disabled:!0},model:{value:t.platformTax,callback:function(e){t.platformTax=e},expression:"platformTax"}})],1),a("div",{staticClass:"block_cheche_line"},[a("span",{staticClass:"cheche_line_title"},[t._v(t._s(t._f("lang")("fund.totalDeduction"))+"：")]),a("span",{staticClass:"cheche_line_content"},[t._v(t._s(t._f("lang")("fund.withdrawalFeePlusOther")))]),a("span",{staticClass:"cheche_line_value"},[t._v(t._s(t._f("tofix")(t.handlingFee+t.otherFee+t.memberTax+t.platformTax)))])]),a("div",{staticClass:"block_cheche_line"},[a("span",{staticClass:"cheche_line_title"},[t._v(t._s(t._f("lang")("fund.withdrawalCash"))+"：")]),a("span",{staticClass:"cheche_line_value"},[t._v(t._s(t._f("to100fix")(t.userInfoData.applyMoney)))]),a("span",{staticClass:"cheche_line_title marginleft"},[t._v(t._s(t._f("lang")("fund.actualWithdrawal"))+"：")]),a("span",{staticClass:"cheche_line_value"},[t._v(t._s(t._f("tofix")(t.userInfoData.applyMoney/100-t.handlingFee-t.otherFee-t.platformTax-t.memberTax)))])])])]:[a("td",{attrs:{colspan:"7"}},[t._v(t._s(t._f("lang")("fund.noAudit")))]),a("td",[a("Button",{attrs:{size:"small",disabled:""}},[t._v(t._s(t._f("lang")("fund.confirmApproval")))])],1)]],2)])]),a("div",{staticClass:"drawer_bottom"},[a("Button",{staticClass:"check_button fr",on:{click:function(e){t.showDrawer=!1}}},[t._v(t._s(t._f("lang")("fund.close")))]),0==+t.selectObj.status?[t.selectObj.applyerId?[t.pageauthoritys.cancelWithdrwaOrder?a("Button",{staticClass:"check_button fr",on:{click:function(e){return t.doOption(3)}}},[t._v(t._s(t._f("lang")("fund.cancelWithdrwaOrder")))]):t._e(),t.pageauthoritys.refuseWithdrwaOrder?a("Button",{staticClass:"check_button fr",on:{click:function(e){return t.doOption(2)}}},[t._v(t._s(t._f("lang")("fund.refuseWithdrwaOrder")))]):t._e(),t.pageauthoritys.check?a("Button",{staticClass:"check_button fr",on:{click:function(e){return t.doOption(4)}}},[t._v(t._s(t._f("lang")("fund.manualWithdrawal")))]):t._e(),t.pageauthoritys.thirdPartyAgency?a("Button",{staticClass:"check_button fr",on:{click:function(e){return t.doOption(6)}}},[t._v(t._s(t._f("lang")("fund.thirdPartyAgency")))]):t._e()]:[t.pageauthoritys.cancelWithdrwaOrder?a("Button",{staticClass:"check_button fr",attrs:{disabled:""}},[t._v(t._s(t._f("lang")("fund.cancelWithdrwaOrder")))]):t._e(),t.pageauthoritys.refuseWithdrwaOrder?a("Button",{staticClass:"check_button fr",attrs:{disabled:""}},[t._v(t._s(t._f("lang")("fund.refuseWithdrwaOrder")))]):t._e(),t.pageauthoritys.check?a("Button",{staticClass:"check_button fr",attrs:{disabled:""}},[t._v(t._s(t._f("lang")("fund.manualWithdrawal")))]):t._e(),t.pageauthoritys.thirdPartyAgency?a("Button",{staticClass:"check_button fr",attrs:{disabled:""}},[t._v(t._s(t._f("lang")("fund.thirdPartyAgency")))]):t._e()]]:t._e()],2),t.showSpin?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)}),[],!1,null,null,null)),v=y.exports,g=a("feb9"),b=a("2f62"),w={props:{isDemo:{default:0,type:Number},isHistory:{default:!1,type:Boolean}},data:function(){var t=new Date,e=2==this.$route.query.date?new Date(new Date(t)-7776e6):new Date,a=2==this.$route.query.date?"0":this.isHistory?"4":"all";return{modal1:!1,status_s:o.c,bankType_s:o.a,type_s:o.e,time_s:o.d,dateOptions:o.b,levelList:[],remarkModel:[],formItem:{status:a,date:[new Date(e),new Date],type:0,bankType:0,userAccountName:"",startFund:"",endFund:"",isDemo:this.isDemo},pageNo:1,pageSize:100,dataList:[],dataChooseList:[{key:0,val:this.$t("fund.today")},{key:1,val:this.$t("fund.yesterday")},{key:2,val:this.$t("fund.twoday")}],dataChooseKey:0,totalElements:0,isLoad:!1,excelloading:!1,showModal:!1,showCheckDrawer:!1,type:"",showPopList:!1,selectObj:{},userDetail:{},userdrawerDetail:null,sameIPadd:"",statusList:{0:this.$t("fund.unconfirmed"),2:this.$t("fund.rejected"),3:this.$t("fund.cancelled"),4:this.$t("fund.confirmed"),5:this.$t("fund.paymentOnBehalfIsAbnormal"),6:this.$t("fund.payingOnBehalf")},dateSearchType:"1",summationList:[]}},components:{modal:c,timer:_,userDetailDrawer:g.a,checkDrawer:v},methods:{handledoExcel:function(){this.$router.push("/exportRecord")},showCheckHandler:function(t){this.isHistory||(this.selectObj=t,this.showCheckDrawer=!0)},changeDateKey:function(t){if(this.dataChooseKey!==t)switch(this.dataChooseKey=t,t){case 0:this.formItem.date=[new Date,new Date];break;case 1:this.formItem.date=[new Date(new Date-864e5),new Date(new Date-864e5)];break;case 2:this.formItem.date=[new Date(new Date-864e5),new Date]}},confirmBack:function(t){var e=this;this.$Modal.confirm({title:this.$t("fund.lotpayErrMsg1"),okText:this.$t("fund.recovery"),onOk:function(){var a={id:t.id,status:"ERROR_TO_WAIT"};e.$post("pay/lotPayWithdrawCheck/updateGenerateStatus",a).then((function(){e.$Message.success(e.$t("fund.lotpayErrMsg2")),e.query(e.pageNo)})).catch((function(t){e.$Message.error(t.message)}))}})},opensameiP:function(t){t&&this.$refs.ordersameip.open(t)},reconfirm:function(t,e){var a=this;this.$Modal.confirm({title:e?this.$t("fund.lotpayErrMsg3"):this.$t("fund.lotpayErrMsg4"),onOk:function(){a.updateGenerateStatus(t,e)},onCancel:function(){a.showCheckDrawer=!1}})},updateGenerateStatus:function(t,e){var a=this,s=t.applyMoney,n=t.handlingFee,o=t.withdrawNo,r=t.otherFee,i={factMoney:(s-n-r).toFixed(),handlingFee:n,withdrawNo:o,otherFee:r,status:this.type};this.$post("/withdraw/order/tob/updateOrderStatus",i,{"Content-type":"application/json"}).then((function(){var t=a.$t("fund.lotpayErrMsg5");e?3==+a.type?t=a.$t("fund.lotpayErrMsg6"):2==+a.type&&(t=a.$t("fund.lotpayErrMsg7")):t=a.$t("fund.lotpayErrMsg8"),a.$Message.success(t),a.query(a.pageNo),a.showCheckDrawer=!1})).catch((function(t){a.showCheckDrawer=!1,a.$Message.error(t.message)}))},showUserInfo:function(t){this.isHistory||(this.userdrawerDetail=Object(n.a)(Object(n.a)({},t),{},{id:t.userId}))},fna:function(t){this.$router.push({path:"/proxyuser",query:{transfer:t.userName}})},setValue:function(t){this.userdrawerDetail=t},query:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.isHistory){var a=this.formItem.date.map((function(t){return t.getTime()})),o=Object(s.a)(a,2),r=o[0],i=o[1],l=26784e5;if(i-r>=l)return this.$Message.info(this.$t("fund.maxSearchTip"))}if(!this.isLoad){this.isLoad=!0;var u=this.formItem,c=u.status,d=u.date,f=u.type,p=u.bankType,_=u.userAccountName,h=u.startFund,m=u.endFund,y={type:f,dateSearchType:this.dateSearchType,startTime:this.$utils.formatDate(d[0],"YYYY-MM-DD")+" 00:00:00",endTime:this.$utils.formatDate(d[1],"YYYY-MM-DD")+" 23:59:59",isDemo:this.isDemo};_&&(0==+f?y.username=_:1==+f?y.withdrawNo=_:2==+f?y.applyerName=_:this.isHistory&&"teamUserName"===f&&(y.teamUserName=_,delete y.type)),0!=+p&&(y.bankType=p),"all"!==c&&(y.status=c),h&&(y.minMoney=(100*h).toFixed()),m&&(y.maxMoney=(100*m).toFixed());var v=Object(n.a)({page:this.pageNo=e,size:this.pageSize},y),g="/withdraw/order/tob/queryPage";this.isHistory&&(g="/withdraw/order/tob/queryHistoryPage"),this.$get(g,v).then((function(e){if(!e)return t.dataList=[],void(t.totalElements=0);var a=[],s=0;if(t.isHistory){a=e.content,s=e.totalElements;var n=e||{totalApplyMoney:0,totalFactMoney:0},o=n.totalApplyMoney,r=n.totalFactMoney;t.summationList=[{title:t.$t("fund.applyPaymentTotal"),value:t.$utils.toYuan(o)},{title:t.$t("fund.actualPaymentTotal"),value:t.$utils.toYuan(r)}]}else{var i=e||{pageInfo:{},allRealMoney:0,allApplyMoney:0},l=i.allApplyMoney,u=i.allRealMoney,c=i.pageInfo;a=c.content,s=c.totalElements,t.summationList=[{title:t.$t("fund.applyPaymentTotal"),value:t.$utils.toYuan(l)},{title:t.$t("fund.actualPaymentTotal"),value:t.$utils.toYuan(u)}]}a&&a.length?(t.dataList=a,t.totalElements=+s,t.dataList.forEach((function(e){if(0==+e.status&&e.applyerId!==t.userInfo.id){["bankAccount","usdtAddress"].forEach((function(a){e[a]&&(e[a]=t.formatStr(e[a]))}))}}))):(t.dataList=[],t.totalElements=0)})).catch((function(e){t.$Message.error(e.message),t.dataList=[],t.totalElements=0})).finally((function(){t.isLoad=!1}))}},search:function(){this.formItem.startFund&&this.formItem.endFund&&+this.formItem.startFund>=+this.formItem.endFund?this.$Message.error(this.$t("fund.lotpayErrMsg9")):this.query(1)},pageSizeChange:function(t){this.pageSize=t,this.query(1)},getStatusText:function(t,e){var a=this.$t("fund.unconfirmed");return e?a=this.$t("fund.locked"):0==+t?a=this.$t("fund.unconfirmed"):1==+t?a=this.$t("fund.processing"):2==+t?a=this.$t("fund.rejected"):4==+t?a=this.$t("fund.confirmed"):3==+t&&(a=this.$t("fund.cancelled")),a},getColor:function(t,e){var a="";switch(e){case"isFirst":return 1==+t.isFirstWithdraw&&(a="#ff0000"),{color:a};case"isDelDiscout":return"T"===t.isDelDiscout&&(a="#ff0000"),{color:a};case"status":return a="#0000ff",2==+t?a="#333333":2==+t?a="#ff0000":4==+t?a="#00CC00":3==+t&&(a="#FF6600"),{color:a,width:"50px"};case"applyMoney":return+t.factMoney-t.applyMoney<0&&(a="#ff0000"),{color:a};case"factMoney":return{color:a=+t.factMoney<0?"#ff0000":"#0000ff"};case"oneColor":return{color:a=+t<=1e6?"#000":"#FF0000"}}},getPoptipInfo:function(t){var e=this;if(!this.isHistory){this.showPopList=!0;var a={withdrawNo:t.withdrawNo},s=t.status,o=t.factMoney;this.$get("/withdraw/order/tob/getOpDetailArg",a,{"Content-type":"application/json"}).then((function(a){var r=a.userBank,i=a.userDetailArgResp;e.showPopList=!1,e.$post("/user/tob/getUserDetailApi",{id:t.userId}).then((function(t){e.userDetail=Object(n.a)(Object(n.a)(Object(n.a)({},i),r),{},{isStatus:s,factMoney:o},t)})).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.showPopList=!1}))})).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.showPopList=!1}))}},openRemarkModal:function(t){this.showModal=!0,this.selectObj=t,this.type="remark"},checkOption:function(t){var e=t.checkInfo,a=t.type;if(6==+a)return this.type=a,void(this.showModal=!0);this.type=a,this.reconfirm(e,1),this.selectObj=e},saveRemark:function(){this.showModal=!1,this.showCheckDrawer=!1,this.query(this.pageNo)},copy:function(t){this.$utils.copy(t)?this.$Message.success(this.$t("fund.lotpayErrMsg10")):this.$Message.error(this.$t("fund.lotpayErrMsg11"))},changeLockStatus:function(t,e){var a=this;if(!this.isHistory){var s=t.id,n=t.applyerId,o=t.withdrawNo,r={};if(e){if(!n)return void this.$Message.error(this.$t("fund.lotpayErrMsg12"));this.type=e,this.showModal=!0,this.selectObj=t}else n?(r.applyerId=s,r.lock=0,r.withdrawNo=o,this.$post("/withdraw/order/tob/lockOrder",r,{"Content-type":"application/json"}).then((function(){a.$Message.success(a.$t("fund.lotpayErrMsg8")),a.query(a.pageNo)})).catch((function(t){a.$Message.error(t.message)}))):(r.applyerId=s,r.lock=1,r.withdrawNo=o,this.$post("/withdraw/order/tob/lockOrder",r,{"Content-type":"application/json"}).then((function(){a.$Message.success(a.$t("fund.lotpayErrMsg13")),a.query(a.pageNo)})).catch((function(t){a.$Message.error(t.message)})))}},loadexcel:function(t){var e=this;if(this.isHistory){var a=this.formItem.date.map((function(t){return t.getTime()})),o=Object(s.a)(a,2),r=o[0];if(o[1]-r>26784e5)return this.$Message.info(this.$t("fund.maxSearchTip"))}if(!this.dataList.length||t&&!this.totalElements)this.$Message.error(this.$t("fund.lotpayErrMsg14"));else{var i=this.formItem,l=i.status,u=i.date,c=i.type,d=i.userAccountName,f=i.startFund,p=i.endFund,_=i.bankType,h={type:c,dateSearchType:this.dateSearchType,startTime:this.$utils.formatDate(u[0],"YYYY-MM-DD")+" 00:00:00",endTime:this.$utils.formatDate(u[1],"YYYY-MM-DD")+" 23:59:59",isDemo:this.isDemo};d&&(0==+c?h.username=d:1==+c?h.withdrawNo=d:2==+c?h.applyerName=d:this.isHistory&&"teamUserName"===c&&(h.teamUserName=d,delete h.type)),"all"!==l&&(h.status=l),f&&(h.minMoney=(100*f).toFixed()),p&&(h.maxMoney=(100*p).toFixed()),t||(h.page=this.pageNo,h.size=this.pageSize),0!==_&&(h.bankType=_);var m=Object(n.a)({},h),y="/withdraw/order/tob/exportOrder";this.isHistory&&(y="/withdraw/order/tob/exportHistoryOrder"),this.$download(y,m,{"Content-type":"application/json"}).then((function(t){e.modal1=!0})).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.excelloading=!1}))}},formatStr:function(t){if(t){var e=t.length,a=t.slice(0,Math.floor(e/2)).substring(0,3),s=t.slice(Math.floor(e/2),e);return s=s.substring(s.length-4),"".concat(a,"******").concat(s)}return t}},mounted:function(){this.$route.query.loginName&&(this.formItem.type=0,this.formItem.userAccountName=this.$route.query.loginName),this.query(1)},computed:Object(n.a)({},Object(b.e)("site",["userInfo"]))},k=w,$=(a("d594"),Object(l.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lot_pay"},[a("Form",{attrs:{model:t.formItem,inline:""}},[a("FormItem",[a("Select",{staticClass:"lot_pay-select",on:{"on-change":function(e){return t.query()}},model:{value:t.formItem.status,callback:function(e){t.$set(t.formItem,"status",e)},expression:"formItem.status"}},t._l(t.status_s,(function(e,s){return a("Option",{key:s,attrs:{value:e.key}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",[a("Select",{staticStyle:{width:"90px"},model:{value:t.formItem.type,callback:function(e){t.$set(t.formItem,"type",e)},expression:"formItem.type"}},[t._l(t.type_s,(function(e,s){return a("Option",{key:s,attrs:{value:e.key}},[t._v(t._s(e.name))])})),t.isHistory?a("Option",{attrs:{value:"teamUserName"}},[t._v(" "+t._s(t._f("lang")("fund.teamQuery"))+" ")]):t._e()],2),a("Input",{staticClass:"lot_pay-input",attrs:{placeholder:t.$t("fund.pleaseInput")},model:{value:t.formItem.userAccountName,callback:function(e){t.$set(t.formItem,"userAccountName",e)},expression:"formItem.userAccountName"}})],1),a("FormItem",[t._v(" "+t._s(t.$t("fund.type"))+" "),a("Select",{staticStyle:{width:"90px"},model:{value:t.formItem.bankType,callback:function(e){t.$set(t.formItem,"bankType",e)},expression:"formItem.bankType"}},[a("Option",{attrs:{value:0}},[t._v(t._s(t._f("lang")("fund.all")))]),t._l(t.bankType_s,(function(e,s){return a("Option",{key:s,attrs:{value:s}},[t._v(t._s(e))])}))],2)],1),a("FormItem",[a("Select",{model:{value:t.dateSearchType,callback:function(e){t.dateSearchType=e},expression:"dateSearchType"}},[a("Option",{attrs:{value:"1"}},[t._v(t._s(t._f("lang")("fund.submission")))]),a("Option",{attrs:{value:"2"}},[t._v(t._s(t._f("lang")("fund.operating")))])],1)],1),a("FormItem",[t._l(t.dataChooseList,(function(e){return a("Button",{key:e.key,staticStyle:{"margin-right":"10px"},attrs:{type:t.dataChooseKey===e.key?"primary":"default"},on:{click:function(a){return t.changeDateKey(e.key)}}},[t._v(t._s(e.val))])})),a("DatePicker",{ref:"historyDate",attrs:{type:"daterange",options:t.dateOptions,clearable:!1},model:{value:t.formItem.date,callback:function(e){t.$set(t.formItem,"date",e)},expression:"formItem.date"}})],2),a("FormItem",[t._v(" "+t._s(t.$t("fund.screening"))+" "),a("Input",{staticClass:"lot_pay-input",attrs:{type:"number",placeholder:t.$t("fund.minimum")},model:{value:t.formItem.startFund,callback:function(e){t.$set(t.formItem,"startFund",e)},expression:"formItem.startFund"}}),t._v(" - "),a("Input",{staticClass:"lot_pay-input",attrs:{type:"number",placeholder:t.$t("fund.maximum")},model:{value:t.formItem.endFund,callback:function(e){t.$set(t.formItem,"endFund",e)},expression:"formItem.endFund"}})],1),t.isHistory?t._e():a("FormItem",[a("timer",{on:{query:function(e){return t.query()}},model:{value:t.isLoad,callback:function(e){t.isLoad=e},expression:"isLoad"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary",icon:"md-search"},on:{click:function(e){return t.search()}}},[t._v(t._s(t._f("lang")("fund.search")))])],1),a("FormItem",[a("Dropdown",{staticClass:"listDown",attrs:{trigger:"click"}},[a("Button",{attrs:{type:"primary",loading:t.excelloading}},[t._v(" "+t._s(t._f("lang")("fund.export"))+" "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{nativeOn:{click:function(e){return t.loadexcel()}}},[t._v(t._s(t._f("lang")("fund.currentData")))]),a("DropdownItem",{nativeOn:{click:function(e){return t.loadexcel(!0)}}},[t._v(t._s(t._f("lang")("fund.allData")))])],1)],1)],1)],1),a("div",{staticClass:"lot_pay__hint",domProps:{innerHTML:t._s(t.$t("fund.abnormalTip"))}}),a("table",[a("tr",[a("th",[t._v(t._s(t._f("lang")("fund.account")))]),a("th",[t._v(t._s(t._f("lang")("fund.userDetail")))]),a("th",[t._v(t._s(t._f("lang")("fund.withdrawalNumber")))]),a("th",[t._v(t._s(t._f("lang")("fund.returnNo")))]),a("th",[t._v(t._s(t._f("lang")("fund.type")))]),a("th",[t._v(t._s(t._f("lang")("fund.cardNo")))]),a("th",[t._v(t._s(t._f("lang")("fund.withdrawal")))]),a("th",[t._v(t._s(t._f("lang")("fund.memberTax")))]),a("th",[t._v(t._s(t._f("lang")("fund.platformTax")))]),a("th",[t._v(t._s(t._f("lang")("fund.fee")))]),a("th",[t._v(t._s(t._f("lang")("fund.actualWithdrawal")))]),a("th",[t._v(t._s(t._f("lang")("fund.firstWithdrawal")))]),a("th",[t._v(t._s(t._f("lang")("fund.numberOfWithdrawals")))]),t.isHistory?t._e():a("th",[t._v(t._s(t._f("lang")("fund.operate")))]),a("th",[t._v(t._s(t._f("lang")("fund.submission")))]),a("th",[t._v(t._s(t._f("lang")("fund.operating")))]),a("th",[t._v(t._s(t._f("lang")("fund.operator")))]),a("th",[t._v(t._s(t._f("lang")("fund.remark")))]),a("th",[t._v(t._s(t._f("lang")("fund.state")))])]),t.dataList.length?t._l(t.dataList,(function(e,s){return a("tr",{key:s,class:{"demo-table-info-row":e.isReminder}},[a("td",{staticStyle:{width:"160px"}},[t.isHistory?[a("div",[a("span",[t._v(t._s(e.userName))]),a("span",{staticClass:"button-copy",on:{click:function(a){return t.copy(e.userName)}}},[t._v(t._s(t._f("lang")("fund.copy")))])])]:[0==e.isNormal?a("span",{staticClass:"lot_pay__hint-red"},[t._v("【"+t._s(t._f("lang")("fund.abnormal"))+"】")]):t._e(),a("a",{on:{click:function(a){return t.showUserInfo(e)}}},[t._v(t._s(e.userName))]),0!=+t.isDemo?a("span",{staticStyle:{color:"red"}},[t._v("【"+t._s(t._f("lang")("fund.test"))+"】")]):t._e(),a("Poptip",{attrs:{placement:"right",title:t.$t("fund.detail")},on:{"on-popper-show":function(a){return t.getPoptipInfo(e)},"on-popper-hide":function(e){t.userDetail={}}}},[a("Icon",{attrs:{type:"md-alert",color:"#2d8cf0"}}),a("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t._f("lang")("fund.detail")))]),a("div",{staticClass:"pop_list",attrs:{slot:"content"},slot:"content"},[t.userDetail.username?[a("table",[a("tr",[a("th",[t._v(t._s(t._f("lang")("fund.player")))]),a("th",[t._v(t._s(t._f("lang")("fund.realName")))]),a("th",[t._v(t._s(t._f("lang")("fund.actualWithdrawal")))])]),a("tr",[a("td",[t._v(t._s(t.userDetail.username))]),a("td",[t._v(t._s(t.userDetail.realName))]),a("td",[t._v(t._s(t._f("to100fix")(t.userDetail.factMoney)))])])]),a("p",[t._v(" "+t._s(t._f("lang")("fund.orderState"))+"："),a("span",{style:t.getColor(t.userDetail.isStatus,"status")},[t._v(t._s(t.getStatusText(t.userDetail.isStatus,t.userDetail.isTsLock)))])]),a("p",[a("span",[t._v(t._s(t._f("lang")("fund.withdrawalType"))+"：")]),t.userDetail.chanName?a("span",[t._v("USDT")]):a("span",[t._v(t._s(t._f("lang")("fund.bankCard")))])]),t.userDetail.chanName?a("p",[a("span",[t._v(t._s(t._f("lang")("fund.channel"))+" ："+t._s(t.userDetail.chanName))]),a("span",{staticClass:"button-copy bt_pr",on:{click:function(e){return t.copy(t.userDetail.chanName)}}},[t._v(t._s(t._f("lang")("fund.copy")))])]):a("p",[a("span",[t._v(t._s(t._f("lang")("fund.channel"))+" ："+t._s(t.userDetail.bankName))]),a("span",{staticClass:"button-copy bt_pr",on:{click:function(e){return t.copy(t.userDetail.bankName)}}},[t._v(t._s(t._f("lang")("fund.copy")))])]),e.bankAccount?a("p",[a("span",[t._v(t._s(t._f("lang")("fund.cardNo"))+" ："+t._s(e.bankAccount))]),a("span",{staticClass:"button-copy bt_pr",on:{click:function(a){return t.copy(e.bankAccount)}}},[t._v(t._s(t._f("lang")("fund.copy")))])]):a("p",[a("span",[t._v(t._s(t._f("lang")("fund.cardNo"))+" ："+t._s(e.usdtAddress))]),a("span",{staticClass:"button-copy bt_pr",on:{click:function(a){return t.copy(e.usdtAddress)}}},[t._v(t._s(t._f("lang")("fund.copy")))])]),a("p",[a("span",[t._v(t._s(t._f("lang")("fund.applyMoney"))+"：")]),a("span",{staticStyle:{color:"#ff0000"}},[t._v(t._s(t._f("to100fix")(t.userDetail.applyMoney)))]),a("span",{staticClass:"button-copy bt_pr",on:{click:function(e){t.copy((t.userDetail.applyMoney/100).toFixed(2))}}},[t._v(t._s(t._f("lang")("fund.copy")))])]),a("p",[t._v(t._s(t._f("lang")("fund.rankLevel"))+"："+t._s(t.userDetail.rankLevel))]),a("p",[t._v(t._s(t._f("lang")("fund.userFunds"))+"："+t._s(t._f("to100fix")(t.userDetail.userFunds)))]),a("p",[t._v(t._s(t._f("lang")("fund.highUserName"))+"："+t._s(t.userDetail.highUserName))]),a("p",[t._v(t._s(t._f("lang")("fund.loginIp"))+"："+t._s(t.userDetail.loginIp||""))]),a("p",[t._v(" "+t._s(t._f("lang")("fund.userDetail"))+"："),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.userDetail.remark||""))])])]:[a("p",[t._v(t._s(t._f("lang")("fund.querying"))+"...")])],t.showPopList?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],2)],1),a("span",{staticClass:"button-copy",on:{click:function(a){return t.copy(e.userName)}}},[t._v(t._s(t._f("lang")("fund.copy")))])]],2),a("td",{staticStyle:{"max-width":"200px","word-break":"break-all"}},[t._v(t._s(e.userRemark))]),a("td",[t._v(t._s(e.withdrawNo))]),a("td",[t._v(t._s(e.returnNo||""))]),a("td",[t._v(t._s(t.bankType_s[e.bankType]))]),1==+e.bankType?a("td",{staticStyle:{width:"160px","word-break":"break-all"}},[t._v(t._s(e.bankAccount))]):a("td",{staticStyle:{width:"160px","word-break":"break-all"}},[t._v(t._s(e.usdtAddress))]),a("td",{style:t.getColor(e.applyMoney,"oneColor")},[t._v(t._s(t._f("to100fix")(e.applyMoney)))]),a("td",[t._v(t._s(t._f("to100fix")(e.memberTax)))]),a("td",[t._v(t._s(t._f("to100fix")(e.platformTax)))]),a("td",[t._v(t._s(t._f("to100fix")(e.handlingFee)))]),t.isHistory?a("td",[t._v(" "+t._s(t._f("to100fix")(e.factMoney))+" ")]):a("td",{style:t.getColor(e,"factMoney"),on:{click:function(a){return t.showCheckHandler(e)}}},[t._v(" "+t._s(t._f("to100fix")(e.factMoney))+" ")]),a("td",{staticStyle:{width:"38px"},style:t.getColor(e,"isFirst")},[t._v(t._s(1==+e.isFirstWithdraw?t.$t("fund.yes"):t.$t("fund.no")))]),a("td",[t._v(t._s(e.totalWithdrawCount))]),t.isHistory?t._e():a("td",[0==+e.status||6==+e.status||5==+e.status?[6!=+e.status&&5!=+e.status?[e.applyerId?a("Icon",{staticStyle:{"font-size":"18px",color:"#e4393c"},attrs:{type:"md-lock"}}):a("Icon",{staticStyle:{"font-size":"18px",color:"#04ce47"},attrs:{type:"md-unlock"}}),t.pageauthoritys.lockAndUnlock?a("span",{staticClass:"option_item",on:{click:function(a){return t.changeLockStatus(e)}}},[t._v(t._s(e.applyerId?t.$t("fund.unlock"):t.$t("fund.lock")))]):t._e()]:t._e(),t.pageauthoritys.check?a("span",{staticClass:"option_item",staticStyle:{color:"blue"},style:{cursor:e.applyerId?"pointer":"default"},on:{click:function(a){return t.changeLockStatus(e,4)}}},[t._v(" "+t._s(t._f("lang")("fund.manualWithdrawal")))]):t._e(),t.pageauthoritys.thirdPartyAgency&&6!=+e.status&&5!=+e.status?a("span",{staticClass:"option_item",staticStyle:{color:"blue"},style:{cursor:e.applyerId?"pointer":"default"},on:{click:function(a){return t.changeLockStatus(e,6)}}},[t._v(t._s(t._f("lang")("fund.thirdPartyAgency")))]):t._e(),t.pageauthoritys.cancelWithdrwaOrder?a("span",{staticClass:"option_item",staticStyle:{color:"#FF6600"},style:{cursor:e.applyerId?"pointer":"default"},on:{click:function(a){return t.changeLockStatus(e,3)}}},[t._v(" "+t._s(t._f("lang")("fund.cancelWithdrwaOrder")))]):t._e(),t.pageauthoritys.refuseWithdrwaOrder?a("span",{staticClass:"option_item",staticStyle:{color:"red"},style:{cursor:e.applyerId?"pointer":"default"},on:{click:function(a){return t.changeLockStatus(e,2)}}},[t._v(" "+t._s(t._f("lang")("fund.refuseWithdrwaOrder")))]):t._e()]:t._e()],2),a("td",{staticStyle:{width:"78px"}},[t._v(t._s(e.createTime))]),a("td",{staticStyle:{width:"78px"}},[t._v(t._s(e.applyTime))]),a("td",[a("span",[t._v(t._s(e.applyerName))]),e.thirdName?a("span",{staticStyle:{color:"#FF2323"}},[t._v(t._s(e.thirdName))]):t._e(),"4"===e.status?a("span",{staticStyle:{color:"#FF2323"}},[t._v(t._s(t._f("lang")("fund.manual")))]):t._e()]),a("td",[e.remark?a("div",{staticClass:"td__groupName",attrs:{title:e.remark}},[a("a",{on:{click:function(a){return t.openRemarkModal(e)}}},[t._v(t._s(e.remark))])]):a("Button",{attrs:{size:"small"},on:{click:function(a){return t.openRemarkModal(e)}}},[t._v(t._s(t._f("lang")("fund.addRemark")))])],1),a("td",{style:t.getColor(e.status,"status")},[t._v(t._s(t.statusList[e.status]))])])})):[a("tr",[a("td",{staticClass:"td_center",attrs:{colspan:t.isHistory?18:19}},[t._v(t._s(t._f("lang")("fund.noData")))])])]],2),a("m-page",{attrs:{total:t.totalElements,pageSize:t.pageSize,"page-size-opts":[100,200,300],summation:t.summationList},on:{"on-change":t.query,"on-page-size-change":t.pageSizeChange},model:{value:t.pageNo,callback:function(e){t.pageNo=e},expression:"pageNo"}}),t.isLoad?a("Spin",{attrs:{size:"large",fix:""}}):t._e(),a("modal",{attrs:{type:t.type,remarks:t.remarkModel,selected:t.selectObj},on:{save:t.saveRemark},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}}),a("userDetailDrawer",{on:{showtransfer:t.fna},model:{value:t.userdrawerDetail,callback:function(e){t.userdrawerDetail=e},expression:"userdrawerDetail"}}),a("checkDrawer",{attrs:{id:t.selectObj.id,selectObj:t.selectObj},on:{checkOption:t.checkOption},model:{value:t.showCheckDrawer,callback:function(e){t.showCheckDrawer=e},expression:"showCheckDrawer"}}),a("Modal",{attrs:{title:t.$t("proxy.warnTips"),"ok-text":t.$t("proxy.goNow"),"cancel-text":t.$t("proxy.stayPage")},on:{"on-ok":t.handledoExcel},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("p",[t._v(t._s(t.$t("proxy.exportingTip")))])])],1)}),[],!1,null,null,null));e.a=$.exports},"1b2a":function(t,e,a){},"2b06":function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"e",(function(){return o})),a.d(e,"a",(function(){return r})),a.d(e,"d",(function(){return i})),a.d(e,"b",(function(){return l}));var s=a("d36b"),n=[{key:"all",name:s.a.t("fund.all")},{key:"4",name:s.a.t("fund.confirmed")},{key:"3",name:s.a.t("fund.cancelled")},{key:"2",name:s.a.t("fund.rejected")},{key:"0",name:s.a.t("fund.unconfirmed")},{key:"6",name:s.a.t("fund.payingOnBehalf")},{key:"5",name:s.a.t("fund.paymentOnBehalfIsAbnormal")}],o=[{key:0,name:s.a.t("fund.userAccount")},{key:2,name:s.a.t("fund.operator")}],r={1:s.a.t("fund.bankCard"),2:"TRC20",3:"ERC20",4:"BEP20"},i=[{key:"none",name:s.a.t("fund.noRefresh")},{key:"10",name:"10"+s.a.t("fund.second")},{key:"30",name:"30"+s.a.t("fund.second")},{key:"100",name:"100"+s.a.t("fund.second")},{key:"300",name:"300"+s.a.t("fund.second")},{key:"500",name:"500"+s.a.t("fund.second")}],l={shortcuts:[{text:s.a.t("fund.today"),value:function(){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0);var e=new Date;return e.setHours(23),e.setMinutes(59),e.setSeconds(59),[new Date(t),e]}},{text:s.a.t("fund.yesterday"),value:function(){var t=new Date;t.setTime(t.getTime()-864e5),t.setHours(0),t.setMinutes(0),t.setSeconds(0);var e=new Date(t);return e.setHours(23),e.setMinutes(59),e.setSeconds(59),[t,e]}},{text:s.a.t("fund.lastweek"),value:function(){var t=new Date,e=t.getDay()||7,a=864e5,s=new Date(t-e*a),n=new Date(t-(e+6)*a);return n.setHours(0),n.setMinutes(0),n.setSeconds(0),s.setHours(23),s.setMinutes(59),s.setSeconds(59),[n,s]}},{text:s.a.t("fund.thismonth"),value:function(){var t=new Date;t.setDate(1);var e=new Date(t);e.setHours(0),e.setMinutes(0),e.setSeconds(0);var a=new Date;return a.setHours(23),a.setMinutes(59),a.setSeconds(59),[e,a]}},{text:s.a.t("fund.lastmonth"),value:function(){var t,e,a=new Date;return a.setDate(0),(t=new Date(a)).setHours(23),t.setMinutes(59),t.setSeconds(59),a.setDate(1),(e=new Date(a)).setHours(0),e.setMinutes(0),e.setSeconds(0),[e,t]}},{text:s.a.t("fund.last7"),value:function(){var t=new Date,e=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setTime(e.getTime()-5184e5),[e,t]}},{text:s.a.t("fund.last30"),value:function(){var t=new Date,e=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setTime(e.getTime()-25056e5),[e,t]}}],disabledDate:function(t){return t&&t.valueOf()>Date.now()||t.valueOf()<Date.now()-7776e6}}},"3aac":function(t,e,a){},"51b4":function(t,e,a){"use strict";a("3aac")},a4f7:function(t,e,a){},b8de:function(t,e,a){},bc1c:function(t,e,a){"use strict";a("a4f7")},bc9e:function(t,e,a){"use strict";a("b8de")},d492:function(t,e,a){"use strict";a("1b2a")},d594:function(t,e,a){"use strict";a("fcfa")},fcfa:function(t,e,a){},feb9:function(t,e,a){"use strict";var s=a("3835"),n=(a("d3b7"),a("ac1f"),a("1276"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Modal",{staticClass:"samelp",attrs:{title:"同IP用户列表","footer-hide":!0},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t.loading?a("Spin",{attrs:{fix:""}}):t._e(),a("div",{staticStyle:{"max-height":"500px",overflow:"auto"}},[a("table",{staticClass:"cmtable"},[a("tr",[a("th",[t._v("序号")]),a("th",[t._v("用户名")]),a("th",[t._v("最后登录时间")]),a("th",[t._v("盈亏金额")])]),t._l(t.dataList,(function(e,s){return a("tr",{key:e.id},[a("td",[t._v(t._s(s+1))]),a("td",[a("span",{staticClass:"select",on:{click:function(a){return t.setValue(e)}}},[t._v(" "+t._s(e.userName))])]),a("td",[t._v(" "+t._s(e.lastLoginTime)+" ")]),a("td",[t._v(" "+t._s(t.profit[e.id]||0)+" ")])])}))],2)])],1)}),o=a("5530"),r=a("2f62"),i={name:"sameip",props:{value:{default:""}},data:function(){return{show:!1,dataList:[],profit:{},loading:!1}},computed:Object(o.a)({},Object(r.c)("site",["siteInfo"])),methods:{setValue:function(t){this.$emit("setValue",t),this.show=!1},getData:function(){var t=this;this.loading=!0,this.$get("/pay/lotPayWithdrawCheck/queryIdenticalIP",{loginIp:this.value,siteCode:this.siteInfo.siteCode}).then((function(e){t.dataList=e.userList,t.profit=e.userProfit})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.loading=!1}))}},watch:{value:function(){this.value?(this.show=!0,this.getData()):this.show=!1},show:function(){this.show||this.$emit("input","")}}},l=i,u=(a("bc9e"),a("2877")),c=Object(u.a)(l,n,[],!1,null,null,null).exports,d={name:"userdetail",props:{value:{type:Object,default:null},isTest:{type:Boolean,default:!1}},data:function(){return{recentDepositTypeList:["","","",this.$t("proxy.userdetailTable14"),this.$t("proxy.userdetailTable15"),this.$t("proxy.Manualdeposit"),this.$t("proxy.onlinePayment"),this.$t("proxy.userdetailTable16")],show:!1,loading:!1,balanceList:[],userDeposit:{},userInfoData:{},member:{},userIpcount:0,sameIPadd:"",other:{},userstatus:"",thirdfundList:[],moneyList:{},orderList:{},report:{}}},computed:{title:function(){return this.value?(this.value.loginName||this.value.userName)+this.$t("proxy.userdetails"):this.$t("proxy.userdetails")}},methods:{resetSore:function(){var t=this;this.loading=!0,this.$post("/user/tob/updateUserInfo",{id:this.userInfoData.id,growthValue:0}).then((function(){t.getData()})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.loading=!1}))},setValue:function(t){this.$emit("input",t)},getData:function(){var t=this;this.loading=!0,this.$post("/user/tob/getUserDetailApi",{id:this.value.id}).then((function(e){t.getMoneyList(),t.getorderList(),t.data=e,t.balanceList=e.balanceList,t.userDeposit=e.userDeposit||{},t.userInfoData=e,t.userIpcount=e.userIpCount,t.member=e.member||{},t.other=e,t.userstatus=e.status+""})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.loading=!1}))},getMoneyList:function(){var t=this;return this.$get("/funds/aggregation/tob/userInfo",{userId:this.value.id}).then((function(e){t.moneyList=e||{}})).catch((function(e){t.$Message.error(e.message)}))},getorderList:function(){var t=this;return this.$post("/user/tob/getUserOrderApi",{id:this.value.id}).then((function(e){t.report=e.report||{},t.orderList=e||{};var a=t.orderList,s=a.orderTime,n=a.lastOrderTime;s&&(t.orderList.orderTime=t.$utils.formatDate(s,"YYYY-MM-DD")),n&&(t.orderList.lastOrderTime=t.$utils.formatDate(n,"YYYY-MM-DD"))})).catch((function(e){t.$Message.error(e.message)}))},updateStatus:function(t){var e=this,a=t.split(""),n=Object(s.a)(a,2),o=n[0],r=n[1];o-=1,this.loading=!0,this.$post("/user/tob/changeStatus",{id:this.userInfoData.id,task:o,status:r}).then((function(){e.$Message.success(e.$t("changeSuccess"));var a={10:e.$t("proxy.Using"),11:e.$t("proxy.Deactivate"),21:e.$t("proxy.Pausecrawl"),31:e.$t("proxy.freeze"),41:e.$t("proxy.blacklist")};e.value.status=a[t]})).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.loading=!1}))}},watch:{value:function(){this.value?(this.getData(),this.show=!0):this.show=!1},show:function(){this.show||this.$emit("input",null)}},components:{sameIp:c},mounted:function(){}},f=d,p=(a("51b4"),Object(u.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"userdetail"},[a("Drawer",{staticClass:"noctxpad",attrs:{width:"1000",title:t.title},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t.loading?a("Spin",{attrs:{fix:""}}):t._e(),t.value?a("div",{staticClass:"userdetailboxcontent"},[a("div",{staticClass:"boxtop"},[a("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("proxy.Information"))+" ")]),a("Row",[a("i-col",{attrs:{span:"4"}},[a("div",[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.proxyTable9"))+": ")]),t._v(" "+t._s(t.userInfoData.level)+" ")])]),a("i-col",{attrs:{span:"4"}},[a("div",[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.Logindays"))+": ")]),t._v(" "+t._s(t.userInfoData.loginCountByDay)+" ")])]),t.userInfoData.usedName?a("i-col",{attrs:{span:"6"}},[a("div",[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.Formername"))+": ")]),t._v(" "+t._s(t.userInfoData.usedName)+" ")])]):t._e(),a("i-col",{attrs:{span:t.userInfoData.usedName?6:12}},[a("div",[t._l((t.userInfoData.path||"").split("-"),(function(e){return[a("span",{key:e,staticClass:"abutton"},[t._v(t._s(e))]),t._v(" / ")]}))],2)]),a("i-col",{attrs:{span:"4"}},[a("div",[!t.isTest&&t.pageauthoritys.removeProxy?a("span",{staticClass:"abutton",on:{click:function(e){return t.$emit("showtransfer",t.value)}}},[t._v(t._s(t.$t("proxy.Accountmigration")))]):t._e()])])],1),a("Row",[a("i-col",{attrs:{span:"4"}},[a("div",[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.addBankForm2"))+": ")]),t._v(" "+t._s(t.userInfoData.realName)+" ")])]),a("i-col",{attrs:{span:"4"}},[a("div",[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.Gender"))+": ")]),t._v(" "+t._s(t.userInfoData.sex?t.$t("proxy.Male"):t.$t("proxy.Female"))+" ")])]),a("i-col",{attrs:{span:"4"}},[a("div",[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.Growthvalue"))+": ")]),t._v(" "+t._s(t.userInfoData.growthValue)+" ")])]),a("i-col",{attrs:{span:"4"}},[a("div",[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.userlevel"))+": ")]),t._v(" "+t._s(t.userInfoData.rankLevel)+" ")])]),a("i-col",{attrs:{span:"4"}},[a("div",[a("Tooltip",{attrs:{content:t.$t("proxy.teamSizeTips"),"max-width":"300"}},[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.teamSize"))+": ")]),t._v(" "+t._s(t.userInfoData.teamSize)+" ")])],1)]),a("i-col",{attrs:{span:"4"}},[t.pageauthoritys.resetSore?a("Poptip",{attrs:{confirm:"",title:t.$t("proxy.resetSoreTips")},on:{"on-ok":function(e){return t.resetSore()}}},[a("span",{staticClass:"abutton"},[t._v(" "+t._s(t.$t("proxy.resetSore"))+" ")])]):t._e()],1),a("i-col",{attrs:{span:"4"}},[t.pageauthoritys.detail?a("span",{staticClass:"abutton",on:{click:function(e){return t.$router.push("/userdetail/baseinfo?userid="+t.userInfoData.id)}}},[t._v(t._s(t.$t("proxy.ChangePassword")))]):t._e()])],1),a("Row",[a("i-col",{attrs:{span:"6"}},[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.proxyTable4"))+": "),a("Select",{staticStyle:{width:"50%"},attrs:{disabled:!t.pageauthoritys.changeStatus},on:{"on-change":t.updateStatus},model:{value:t.userstatus,callback:function(e){t.userstatus=e},expression:"userstatus"}},[a("Option",{attrs:{value:"10"}},[t._v(t._s(t.$t("proxy.Using")))]),a("Option",{attrs:{value:"11"}},[t._v(t._s(t.$t("proxy.Deactivate")))]),a("Option",{attrs:{value:"21"}},[t._v(t._s(t.$t("proxy.Pausecrawl")))]),a("Option",{attrs:{value:"31"}},[t._v(t._s(t.$t("proxy.freeze")))]),a("Option",{attrs:{value:"41"}},[t._v(t._s(t.$t("proxy.blacklist")))])],1)],1)]),a("i-col",{attrs:{span:"8"}},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("proxy.proxyTable14"))+": ")]),t._v(t._s(t.userInfoData.lastLoginTime))]),a("i-col",{attrs:{span:"6"}},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("proxy.proxyTable12"))+": ")]),a("Tooltip",{attrs:{content:t.userInfoData.loginIp,placement:"top"}},[a("span",[t._v(t._s(t.userInfoData.loginIp))])]),t.other.userIpCount?[a("span",{staticClass:"abutton",on:{click:function(e){t.sameIPadd=t.userInfoData.lastLoginIp}}},[t._v(" ("+t._s(t.other.userIpCount)+") ")])]:t._e()],2),a("i-col",{attrs:{span:"4"}},[a("span",{staticClass:"abutton",on:{click:function(e){return t.$router.push({path:"/operationLog"})}}},[t._v(t._s(t.$t("proxy.Operationlog")))])])],1)],1),a("div",{staticClass:"boxbottom"},[a("div",{staticClass:"title"},[t._v(" "+t._s(t.$t("proxy.details"))+" ")]),a("Row",[a("i-col",{attrs:{span:"16"}},[a("div",[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.totalAmount"))+": ")]),t._v(" "+t._s(t._f("tofix")((+t.moneyList.canAmount+ +t.moneyList.freezeAmount+ +t.moneyList.financialAmount||0)/100,2))+" ("+t._s(t.$t("proxy.Platformbalance"))+": "+t._s(t._f("tofix")((t.moneyList.canAmount||0)/100,2))+" + "+t._s(t.$t("proxy.Freezebalance"))+": "+t._s(t._f("tofix")((t.moneyList.freezeAmount||0)/100,2))+" + "+t._s(t.$t("proxy.financialAmount"))+": "+t._s(t._f("tofix")((t.moneyList.financialAmount||0)/100,2))+") "),a("span",{staticClass:"abutton",on:{click:t.getData}},[t._v(t._s(t.$t("proxy.Refresh")))])])]),a("i-col",{attrs:{span:"8"}},[a("div",[a("Row",[a("i-col",{attrs:{span:"6"}},[a("span",{staticClass:"abutton",on:{click:function(e){return t.$router.push({path:"/onlineinout/in",query:{username:t.userInfoData.userName}})}}},[t._v(t._s(t.$t("proxy.manualdeposit")))])]),a("i-col",{attrs:{span:"6"}},[a("span",{staticClass:"abutton",on:{click:function(e){return t.$router.push({path:"/onlineinout/out",query:{username:t.userInfoData.userName}})}}},[t._v(t._s(t.$t("proxy.Manualwithdrawal")))])]),a("i-col",{attrs:{span:"6"}},[a("span",{staticClass:"abutton",on:{click:function(e){return t.$router.push({path:"/logpayflow",query:{loginName:t.userInfoData.userName}})}}},[t._v(t._s(t.$t("proxy.Fundrecord")))])])],1)],1)])],1),a("Row",[a("i-col",{attrs:{span:"8"}},[a("div",[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.userdetailTable1"))+": ")]),t._v(" "+t._s(t.moneyList.totalDepositCount)+" "),a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.userdetailTable2"))+": ")]),t._v(" "+t._s(t._f("tofix")((t.moneyList.totalDepositMoney||0)/100,2))+" ")])]),a("i-col",{attrs:{span:"8"}},[a("div",[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.userdetailTable3"))+": ")]),t._v(" "+t._s(t.moneyList.totalWithdrawCount)+" "),a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.userdetailTable4"))+": ")]),t._v(" "+t._s(t._f("tofix")((t.moneyList.totalWithdrawMoney||0)/100,2))+" ")])]),a("i-col",{attrs:{span:"8"}},[a("div",[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.userdetailTable5"))+": ")]),t._v(" "+t._s(t._f("tofix")((t.moneyList.totalDepositMoney-t.moneyList.totalWithdrawMoney||0)/100,2))+" ")])])],1),a("Row",[a("i-col",{attrs:{span:"16"}},[a("Row",[a("i-col",{attrs:{span:"8"}},[a("span",{staticClass:"abutton",on:{click:function(e){return t.$router.push({path:"/amountVaryRecords/offlineDepositRecords",query:{loginName:t.userInfoData.userName}})}}},[t._v(t._s(t.$t("proxy.depositrecord")))])]),a("i-col",{attrs:{span:"8"}},[a("span",{staticClass:"abutton",on:{click:function(e){return t.$router.push({path:"/lotPaySet/lotPay",query:{loginName:t.userInfoData.userName}})}}},[t._v(t._s(t.$t("proxy.Withdrawalrecords")))])])],1)],1)],1),a("Row",[a("i-col",{attrs:{span:"8"}},[a("div",[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.userdetailTable6"))+": ")]),t._v(" "+t._s(t.moneyList.lastDepositTime)+" ")])]),a("i-col",{attrs:{span:"4"}},[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.userdetailTable7"))+": ")]),t._v(" "+t._s(t._f("tofix")((t.moneyList.lastDepositMoney||0)/100,2))+" ")]),a("i-col",{attrs:{span:"8"}},[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.userdetailTable8"))+": ")]),t._v(" "+t._s(t.recentDepositTypeList[t.moneyList.lastDepositType])+" ")])],1),a("Row",[a("i-col",{attrs:{span:"8"}},[a("div",[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.userdetailTable9"))+": ")]),t._v(" "+t._s(t.moneyList.lastWithdrawTime)+" ")])]),a("i-col",{attrs:{span:"8"}},[a("div",[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.userdetailTable10"))+": ")]),t._v(" "+t._s(t._f("tofix")((t.moneyList.lastWithdrawMoney||0)/100,2))+" ")])]),a("i-col",{attrs:{span:"8"}},[a("div",[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.userdetailTable11"))+": ")]),t._v(" "+t._s(t._f("tofix")((t.moneyList.totalOtherFee||0)/100,2))+" ")])])],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"4"}},[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.orderamount"))+": ")]),t._v(" "+t._s(t._f("tofix")((t.report.completedOrderAmount||0)/100,2))+" ")]),a("i-col",{attrs:{span:"4"}},[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.OrderQuantity"))+": ")]),t._v(" "+t._s(t.report.completedOrderCount||0)+" ")]),a("i-col",{attrs:{span:"4"}},[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.relativetable12"))+": ")]),t._v(" "+t._s(t._f("tofix")((t.report.commissionAmount||0)/100,2))+" ")])],1),a("Row",[a("i-col",{attrs:{span:"6"}},[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.relativetable13"))+": ")]),t._v(" "+t._s(t._f("tofix")((t.report.teamCommissionAmount||0)/100,2))+" ")]),a("i-col",{attrs:{span:"12"}},[a("span",{staticClass:"abutton",on:{click:function(e){return t.$router.push({path:"/orderManage/index"})}}},[t._v(t._s(t.$t("proxy.orderrecords")))])])],1),a("Row",[a("i-col",{attrs:{span:"6"}},[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.userdetailTable12"))+": ")]),t._v(" "+t._s(t.orderList.orderTime)+" ")]),a("i-col",{attrs:{span:"6"}},[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.userdetailTable13"))+": ")]),t._v(" "+t._s(t.orderList.lastOrderTime)+" ")])],1),a("Row",[a("i-col",{attrs:{span:"12"}},[t._v(" "+t._s(t.$t("proxy.dataRefreshTip"))+" ")])],1),a("Divider"),a("Row",[a("i-col",{attrs:{span:"6"}},[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.proxyTable15"))+": ")]),t._v(" "+t._s(t.userInfoData.createTime)+" ")]),a("i-col",{attrs:{span:"6"}},[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.proxyTable3"))+": ")]),t._v(" "+t._s(t.userInfoData.registerIp)+" ")]),a("i-col",{attrs:{span:"6"}},[a("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("proxy.proxyTable18"))+": ")]),t._v(" "+t._s(t.userInfoData.deviceCode)+" ")])],1)],1)]):t._e()],1),a("sameIp",{on:{setValue:t.setValue},model:{value:t.sameIPadd,callback:function(e){t.sameIPadd=e},expression:"sameIPadd"}})],1)}),[],!1,null,null,null));e.a=p.exports}}]);