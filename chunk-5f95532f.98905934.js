(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5f95532f"],{"0ead":function(e,t,a){"use strict";a("a7e4")},"2d72":function(e,t,a){},a7e4:function(e,t,a){},a92d:function(e,t,a){"use strict";a("2d72")},aa3f:function(e,t,a){"use strict";a.r(t);var s=a("3835"),r=(a("d3b7"),a("d81d"),a("fb6a"),a("159b"),a("ac1f"),a("5319"),a("1276"),a("ce26")),n=a("d36b"),i={shortcuts:[{ttext:n.a.t("fund.today"),value:function(){return Object(r.getTodayArr)()}},{text:n.a.t("fund.yesterday"),value:function(){var e=new Date;e.setTime(e.getTime()-864e5),e.setHours(0),e.setMinutes(0),e.setSeconds(0);var t=new Date(e);return t.setHours(23),t.setMinutes(59),t.setSeconds(59),[e,t]}},{text:n.a.t("fund.thisweek"),value:function(){var e=new Date,t=e.getDay()||7,a=new Date(e-864e5*(t-1));a.setHours(0),a.setMinutes(0),a.setSeconds(0);var s=new Date;return s.setHours(23),s.setMinutes(59),s.setSeconds(59),[a,s]}},{text:n.a.t("fund.lastweek"),value:function(){var e=new Date,t=e.getDay()||7,a=864e5,s=new Date(e-t*a),r=new Date(e-(t+6)*a);return r.setHours(0),r.setMinutes(0),r.setSeconds(0),s.setHours(23),s.setMinutes(59),s.setSeconds(59),[r,s]}},{text:n.a.t("nearly15Days"),value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-12096e5),t.setHours(0),t.setMinutes(0),t.setSeconds(0),e.setHours(23),e.setMinutes(59),e.setSeconds(59),[t,e]}},{text:n.a.t("fund.thismonth"),value:function(){var e=new Date;e.setDate(1);var t=new Date(e);t.setHours(0),t.setMinutes(0),t.setSeconds(0);var a=new Date;return a.setHours(23),a.setMinutes(59),a.setSeconds(59),[t,a]}}],disabledDate:function(e){return e&&e.valueOf()>Date.now()||e.valueOf()<Date.now()-7776e6}},o=(a("a9e3"),a("4e82"),a("b680"),{props:{value:{default:!1,type:Boolean},time:{default:function(){return["",""]},type:Array},rechargeNum:{default:null,type:Number},showType:{default:null,type:Number}},data:function(){var e=this;return{sort:"",titleList:{1:this.$t("newUserRecharge.columnsTitle3"),2:this.$t("newUserRecharge.columnsTitle6"),3:this.$t("newUserRecharge.columnsTitle7"),4:this.$t("newUserRecharge.columnsTitle8"),5:this.$t("newUserRecharge.columnsTitle9"),6:this.$t("newUserRecharge.columnsTitle4")},userName:"",nameType:0,showSpin:!1,value2:!1,typeList:{3:this.$t("proxy.userdetailTable14"),4:this.$t("lotlogpayflow.4"),5:this.$t("proxy.manualdeposit"),6:this.$t("tradeTypes.117"),7:this.$t("lotlogpayflow.7")},columns:[{title:this.$t("fund.userAccount"),key:"userName"},{title:this.$t("report.superiorAgent"),key:"highUsername",count:function(t){return"default"===t?e.$t("report.default"):t}},{title:this.$t("newUserRecharge.money"),key:"amount",thslot:"amount"},{title:this.$t("firstpayreport.talbe5"),key:"rechargeType",count:function(t){return e.typeList[t]}},{title:this.$t("firstpayreport.deposittime"),key:"rechargeTime"}],registColumns:[{title:this.$t("fund.userAccount"),key:"userName"},{title:this.$t("report.superiorAgent"),key:"highUserName",count:function(t){return"default"===t?e.$t("report.default"):t}},{title:this.$t("firstpayreport.talbe6"),key:"createTime"},{title:this.$t("proxy.proxyTable3"),key:"registerIp"}],footerData:[],dataList:[],totalElements:0,pageNum:1,pageSize:10}},methods:{pageSizeChange:function(e){this.pageSize=e,this.query(1)},query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.showType?this.queryRecharge(e):(this.footerData=[],this.queryRegistered(e))},queryRegistered:function(e){var t=this;this.showSpin=!0;var a={limit:this.pageSize,page:e,rechargeNum:this.rechargeNum,beginTime:this.$utils.formatDate(this.time[0]),endTime:this.$utils.formatDate(this.time[1])};this.nameType?a.highAccount=this.userName:a.userName=this.userName,this.$get("/user/tob/getUserRegisterInfo",a).then((function(e){var a=e||{},s=a.content,r=a.totalElements,n=a.page;t.totalElements=+r||0,t.pageNum=+n||0,t.dataList=s})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.showSpin=!1}))},queryRecharge:function(e,t){var a=this;this.showSpin=!0;var s={size:this.pageSize,page:e,rechargeNum:this.rechargeNum,startTimet:this.$utils.formatDate(this.time[0]),endTimet:this.$utils.formatDate(this.time[1])};this.nameType?s.highUsername=this.userName:this.userName&&(s.userName=this.userName),t&&(s.sort=t,this.sort=t),this.$get("/funds/new_user_recharge_report/tob/detailReport",s).then((function(e){var t=e.page,s=t.content,r=t.totalElements,n=t.page,i=e.totalDepositMoney;a.totalElements=+r||0,a.pageNum=+n||0,a.dataList=s.map((function(e){return e.amount/=100,e})),a.footerData=[{userName:a.$t("newUserRecharge.total"),amount:((i||0)/100).toFixed(2)}]})).catch((function(e){a.$Message.error(e.message)})).finally((function(){a.showSpin=!1}))},querySum:function(e){var t=this;delete e.pageNo,delete e.pageSize,this.showSpin=!0,this.$get("/report/pay/getRechargeDetailSum",e).then((function(e){t.total=+e,t.footerData=[{userName:t.$t("newUserRecharge.total"),amount:e/100||0}]})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.showSpin=!1}))}},watch:{value:function(){this.value?this.query():(this.userName="",this.nameType=0,this.dataList=[],this.footerData=[],this.sort=""),this.value2=this.value},value2:function(){this.$emit("input",this.value2)}}}),u=o,c=(a("a92d"),a("2877")),h=Object(c.a)(u,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Drawer",{attrs:{title:e.showType?e.titleList[e.rechargeNum]:e.$t("newUserRecharge.columnsTitle2"),width:"920"},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}},[a("div",{staticClass:"relative"},[a("Form",{attrs:{inline:""}},[a("FormItem",[a("Select",{model:{value:e.nameType,callback:function(t){e.nameType=t},expression:"nameType"}},[a("Option",{attrs:{value:0}},[e._v(e._s(e._f("lang")("fund.userAccount")))]),a("Option",{attrs:{value:1}},[e._v(e._s(e._f("lang")("report.superiorAgent")))])],1)],1),a("FormItem",[a("Input",{model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.query()}}},[e._v(e._s(e._f("lang")("query")))])],1)],1),a("m-table",{attrs:{border:"",columns:e.showType?e.columns:e.registColumns,data:e.dataList,footerData:e.footerData},scopedSlots:e._u([{key:"amount",fn:function(t){return t.row,[a("div",{staticClass:"newUserRecharge-amount"},[a("span",[e._v(e._s(e._f("lang")("userReport.depositAmount")))]),a("div",[a("Icon",{class:{active:"ASC"===e.sort},attrs:{type:"md-arrow-dropup"},on:{click:function(t){return e.queryRecharge(1,"ASC")}}}),a("Icon",{class:{active:"DESC"===e.sort},attrs:{type:"md-arrow-dropdown"},on:{click:function(t){return e.queryRecharge(1,"DESC")}}})],1)])]}},{key:"registeSum",fn:function(t){var s=t.row;return[a("span",[e._v(e._s(s.registeSum))])]}}])}),a("m-page",{attrs:{total:e.totalElements,pageSize:e.pageSize,pageSizeOpts:[10,20,30,50,100]},on:{"on-change":e.query,"on-page-size-change":e.pageSizeChange},model:{value:e.pageNum,callback:function(t){e.pageNum=t},expression:"pageNum"}}),e.showSpin?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)])}),[],!1,null,null,null),l={data:function(){return{showType:0,showSpin:!1,rechargeNum:2,detailTime:["",""],time:i.shortcuts[0].value(),showDateails:!1,timeOptions:i,columns:[{title:this.$t("newUserRecharge.columnsTitle1"),key:"statDay"},{title:this.$t("newUserRecharge.columnsTitle2"),slot:"registeSum",key:"registeSum"},{title:this.$t("newUserRecharge.columnsTitle3"),slot:"todayRechargeSum",key:"todayRechargeSum"},{title:this.$t("newUserRecharge.columnsTitle4"),slot:"nextDayRechargeSum",key:"nextDayRechargeSum"},{title:this.$t("newUserRecharge.columnsTitle5"),key:"firstRechargeRate",count:function(e){return e+"%"}},{title:this.$t("newUserRecharge.columnsTitle6"),slot:"secondRechargeSum",key:"secondRechargeSum"},{title:this.$t("newUserRecharge.columnsTitle7"),slot:"thirdRechargeSum",key:"thirdRechargeSum"},{title:this.$t("newUserRecharge.columnsTitle8"),slot:"fourRechargeSum",key:"fourRechargeSum"},{title:this.$t("newUserRecharge.columnsTitle9"),slot:"fiveRechargeSum",key:"fiveRechargeSum"},{title:this.$t("newUserRecharge.columnsTitle10"),key:"secondRechargeRate",count:function(e){return e+"%"}}],dataList:[],headerData:[]}},methods:{showNumInfo:function(e,t){this.rechargeNum=e,t===this.$t("newUserRecharge.total")?this.detailTime=this.time:this.detailTime=[t,"".concat(t," 23:59:59")],this.showType=1,this.showDateails=!0},showRegisteredInfo:function(e){if(this.showType=0,e===this.$t("newUserRecharge.total")){var t=this.dataList[0].statDay+" 23:59:59",a=this.dataList[this.dataList.length-1].statDay+" 23:59:59";this.detailTime=[a,t]}else this.detailTime=[e,"".concat(e," 23:59:59")];this.showDateails=!0},query:function(){var e=this;this.showSpin=!0;var t={startTimet:this.$utils.formatDate(this.time[0]),endTimet:this.$utils.formatDate(this.time[1])};this.$get("/funds/new_user_recharge_report/tob/report",t).then((function(t){e.dataList=t.map((function(e){return e.statDay=e.statDay.slice(0,10),e}));var a={statDay:e.$t("newUserRecharge.total"),registeSum:0,todayRechargeSum:0,nextDayRechargeSum:0,secondRechargeSum:0,thirdRechargeSum:0,fourRechargeSum:0,fiveRechargeSum:0};t.forEach((function(e){a.registeSum+=+e.registeSum,a.todayRechargeSum+=+e.todayRechargeSum,a.nextDayRechargeSum+=+e.nextDayRechargeSum,a.secondRechargeSum+=+e.secondRechargeSum,a.thirdRechargeSum+=+e.thirdRechargeSum,a.fourRechargeSum+=+e.fourRechargeSum,a.fiveRechargeSum+=+e.fiveRechargeSum})),a.firstRechargeRate=Math.round(100*((a.todayRechargeSum+a.nextDayRechargeSum)/a.registeSum*100||0))/100,a.secondRechargeRate=Math.round(100*(a.secondRechargeSum/(a.todayRechargeSum+a.nextDayRechargeSum)*100||0))/100,e.headerData=[a]})).catch((function(a){e.$Message.error(a.message,t)})).finally((function(){e.showSpin=!1}))},clearDate:function(){this.time=this.$utils.getTodayArr()},change:function(e,t){var a=Object(s.a)(e,2),r=a[0],n=a[1],i=this.$utils.formatDate(this.time[0])||"1990-01-01 00:00:00",o=this.$utils.formatDate(this.time[1])||"1990-01-01 23:59:59";"date"===t&&(this.time=[r.replace("00:00",i.split(" ")[1]),n.replace("00:00",o.split(" ")[1])]),this.lastDate=this.time}},computed:{},components:{detail:h.exports},mounted:function(){this.query()}},m=l,g=(a("0ead"),Object(c.a)(m,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("m-layout",{staticClass:"newUserRecharge",attrs:{nav:[{name:e.nowpagetitle}]}},[a("Form",{attrs:{inline:""}},[a("FormItem",[a("DatePicker",{attrs:{options:e.timeOptions,type:"daterange",format:"yyyy-MM-dd",placeholder:e.$t("newUserRecharge.pleaseChooseTime")},on:{"on-change":e.change,"on-clear":e.clearDate},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:e.query}},[e._v(e._s(e._f("lang")("newUserRecharge.query")))])],1)],1),a("m-table",{attrs:{border:"",columns:e.columns,data:e.dataList,headerData:e.headerData},scopedSlots:e._u([{key:"registeSum",fn:function(t){var s=t.row;return[+s.registeSum?a("span",{staticClass:"showInfo",on:{click:function(t){return e.showRegisteredInfo(s.statDay)}}},[e._v(e._s(s.registeSum))]):a("span",[e._v(e._s(s.registeSum))])]}},{key:"todayRechargeSum",fn:function(t){var s=t.row;return[+s.todayRechargeSum?a("span",{staticClass:"showInfo",on:{click:function(t){return e.showNumInfo(1,s.statDay)}}},[e._v(e._s(s.todayRechargeSum))]):a("span",[e._v(e._s(s.todayRechargeSum))])]}},{key:"nextDayRechargeSum",fn:function(t){var s=t.row;return[+s.nextDayRechargeSum?a("span",{staticClass:"showInfo",on:{click:function(t){return e.showNumInfo(6,s.statDay)}}},[e._v(e._s(s.nextDayRechargeSum))]):a("span",[e._v(e._s(s.nextDayRechargeSum))])]}},{key:"secondRechargeSum",fn:function(t){var s=t.row;return[+s.secondRechargeSum?a("span",{staticClass:"showInfo",on:{click:function(t){return e.showNumInfo(2,s.statDay)}}},[e._v(e._s(s.secondRechargeSum))]):a("span",[e._v(e._s(s.secondRechargeSum))])]}},{key:"thirdRechargeSum",fn:function(t){var s=t.row;return[+s.thirdRechargeSum?a("span",{staticClass:"showInfo",on:{click:function(t){return e.showNumInfo(3,s.statDay)}}},[e._v(e._s(s.thirdRechargeSum))]):a("span",[e._v(e._s(s.thirdRechargeSum))])]}},{key:"fourRechargeSum",fn:function(t){var s=t.row;return[+s.fourRechargeSum?a("span",{staticClass:"showInfo",on:{click:function(t){return e.showNumInfo(4,s.statDay)}}},[e._v(e._s(s.fourRechargeSum))]):a("span",[e._v(e._s(s.fourRechargeSum))])]}},{key:"fiveRechargeSum",fn:function(t){var s=t.row;return[+s.fiveRechargeSum?a("span",{staticClass:"showInfo",on:{click:function(t){return e.showNumInfo(5,s.statDay)}}},[e._v(e._s(s.fiveRechargeSum))]):a("span",[e._v(e._s(s.fiveRechargeSum))])]}}])}),a("div",{staticClass:"formula"},[a("div",[e._v(e._s(e._f("lang")("newUserRecharge.tips1")))]),a("div",[e._v(e._s(e._f("lang")("newUserRecharge.tips2")))]),a("div",[e._v(e._s(e._f("lang")("newUserRecharge.tips3")))]),a("div",[e._v(e._s(e._f("lang")("newUserRecharge.tips4")))]),a("div",[e._v(e._s(e._f("lang")("newUserRecharge.tips5")))]),a("div",[e._v(e._s(e._f("lang")("newUserRecharge.tips6")))]),a("div",[e._v(e._s(e._f("lang")("newUserRecharge.tips7")))]),a("div",[e._v(e._s(e._f("lang")("newUserRecharge.tips8")))])]),e.showSpin?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("detail",{attrs:{rechargeNum:e.rechargeNum,time:e.detailTime,showType:e.showType},model:{value:e.showDateails,callback:function(t){e.showDateails=t},expression:"showDateails"}})],1)}),[],!1,null,null,null));t.default=g.exports}}]);