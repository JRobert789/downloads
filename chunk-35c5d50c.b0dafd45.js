(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-35c5d50c"],{"005e":function(t,e,n){"use strict";var s=n("3835"),a=(n("d3b7"),n("a9e3"),n("d81d"),n("b680"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Modal",{attrs:{title:t.$t("fund.onlineTitle3")},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},[n("Form",{key:t.value,ref:"form",attrs:{"label-width":80,model:t.form,rules:t.rule},nativeOn:{submit:function(t){t.preventDefault()}}},[n("FormItem",{attrs:{label:t.$t("fund.user")}},[t._v(" "+t._s(t.info.userName)+" ")]),n("FormItem",{attrs:{label:t.$t("fund.applyInMoney")}},[t._v(" "+t._s(t.$utils.toYuan(t.info.depositMoney))+" ")]),n("FormItem",{attrs:{label:t.$t("fund.depositMoney"),prop:"depositMoney"}},[n("Input",{model:{value:t.form.depositMoney,callback:function(e){t.$set(t.form,"depositMoney",e)},expression:"form.depositMoney"}}),n("p",{staticStyle:{color:"#dddddd"}},[t._v(t._s(t._f("lang")("fund.offlineHint")))])],1),n("FormItem",{attrs:{label:t.$t("fund.remark"),prop:"remark"}},[n("Input",{model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t.showSpin?n("Spin",{attrs:{size:"large",fix:""}}):t._e(),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"text"},on:{click:function(e){return t.$emit("input",!1)}}},[t._v(t._s(t._f("lang")("cancel")))]),n("Button",{attrs:{type:"primary"},on:{click:function(e){return t.save()}}},[t._v(t._s(t._f("lang")("confirm")))])],1)],1)}),o={props:{value:{default:!1,type:Boolean},detail:{default:function(){},type:Object}},data:function(){return{info:{depositNo:"",payType:"",userName:"",depositMoney:0},showSpin:!1,form:{depositMoney:0,remark:""},rule:{depositMoney:[{required:!0,message:this.$t("fund.offlineVadidate1"),trigger:"blur"},{required:!0,pattern:/^(([1-9]{1}\d{0,9})|(0{1}))(\.\d{0,2})?$/,message:this.$t("fund.usdtVal3"),trigger:"blur"}],remark:[{required:!1,min:0,max:200,message:this.$t("fund.offlineVadidate4"),trigger:"blur"}]}}},methods:{keydownevent:function(t){13!==t.keyCode||window.hasEnterEvent||this.save()},save:function(){var t=this;this.showSpin||this.$refs.form.validate((function(e){e&&(t.showSpin=!0,t.$post("/deposit/onlineOrder/tob/confirmOnlineOrder",{depositNo:t.info.depositNo,money:t.info.depositMoney,realMoney:(100*+t.form.depositMoney).toFixed(),remark:t.form.remark}).then((function(){t.$Message.success(t.$t("operateSuccess")),t.$emit("save"),t.$emit("input",!1)})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.showSpin=!1})))}))}},computed:{value2:{get:function(){return this.value&&Object.assign(this.info,this.detail),this.value},set:function(t){this.$emit("input",t)}}},watch:{value:function(t){t?(document.addEventListener("keydown",this.keydownevent),this.form.depositMoney=this.$utils.toYuan(this.detail.depositMoney)):(this.form={depositMoney:0,remark:""},document.removeEventListener("keydown",this.keydownevent))}}},i=o,r=n("2877"),l=Object(r.a)(i,a,[],!1,null,null,null).exports,u={props:{isTest:{default:!1,type:Boolean}},data:function(){return{modal1:!1,pageSizeOption:[10,20,50,100,500],onlinePay:"all",payPlat:"all",payPlats:[],payStatus:!1,excelIng:!1,isDemo:0,groupIds:[],groups:[],depositMoney:null,maxDepositMoney:null,searchText:"",status:0,time:this.$utils.getTodayArr(),dataList:[],totalElements:0,pageNum:1,pageSize:20,showSpin:!1,payType:[],statusType:{all:this.$t("fund.all"),0:this.$t("fund.unconfirmed"),1:this.$t("fund.confirmed"),2:this.$t("fund.cancelled")},typeList:[this.$t("fund.userAccount"),this.$t("fund.userLevel"),this.$t("fund.depositNo")],typeListKeys:["userName","userRank","depositNo"],type:1,payList:{},dataChooseList:[{key:0,val:this.$t("fund.today")},{key:1,val:this.$t("fund.yesterday")},{key:2,val:this.$t("fund.twoday")}],dataChooseKey:0,columns:[{title:this.$t("fund.userAccount"),slot:"userName"},{title:this.$t("fund.paymentPlatform"),slot:"payPlatformName"},{title:this.$t("fund.returnNo"),key:"returnNo"},{title:this.$t("fund.depositNo"),key:"depositNo"},{title:this.$t("fund.depositAmount"),slot:"depositMoney"},{title:this.$t("fund.address"),key:"address"},{title:this.$t("fund.txid2"),slot:"txid",width:280},{title:this.$t("fund.operate"),slot:"option",width:140},{title:this.$t("fund.submission"),key:"createTime"},{title:this.$t("fund.operating"),key:"applyTime"},{title:this.$t("fund.operator"),key:"applyerName"},{title:this.$t("fund.status"),slot:"status"}],info:{},itemInfo:null,showUserInfoSpin:!1,showModal:!1,modalStatus:"",modalDefRemark:"",modalId:"",showDetails:!1,dateOption:{disabledDate:function(t){var e=new Date(t),n=new Date;return e>n||e<n-7776e6}},summationList:[{title:this.$t("fund.depositCurTotal"),value:"0.00"},{title:this.$t("fund.depositTotal"),value:"0.00"}],searchType:"0",payPlatforms:[],payService:"all"}},methods:{handledoExcel:function(){this.$router.push("/exportRecord")},confirmOrder:function(t){this.showDetails=!0,this.itemInfo=t},cancelOrder:function(t){var e=this;this.loading||(this.loading=!0,this.$post("/deposit/onlineOrder/tob/cancelOnlineOrder",{depositNo:t.depositNo}).then((function(){e.getData(1)})).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.loading=!1})))},changeDateKey:function(t){if(this.dataChooseKey!==t){this.dataChooseKey=t;var e=new Date;switch(t){case 0:this.time=[new Date(e),new Date(e)];break;case 1:this.time=[new Date(new Date(e)-864e5),new Date(new Date(e)-864e5)];break;case 2:this.time=[new Date(new Date(e)-864e5),new Date(e)]}}},rowClassName:function(t){return t.isReminder?"demo-table-info-row":""},closeUserGroup:function(){this.$refs.userGroup.value=!1},getPayPlatform:function(){var t=this;return this.$get("/platform/keyValue/tob/findByDictCode",{dictCode:"PAY_PLATFORM"}).then((function(e){t.payPlatforms=e}))},pageSizeChange:function(t){this.pageSize=t,this.query()},queryInfo:function(t){var e=this;this.showUserInfoSpin=!0,this.$post("/user/tob/getUserDetailApi",{id:t}).then((function(t){e.info=t||{}})).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.showUserInfoSpin=!1}))},openModal:function(t,e){this.modalStatus=e,this.modalDefRemark=t.remark,this.modalId=t.onlineId,this.showModal=!0},clear:function(){this.depositMoney=null,this.maxDepositMoney=null,this.searchText="",this.status=0,this.payService="all",this.time=this.$utils.getTodayArr()},excel:function(){var t=this;if(this.dataList.length){this.excelIng=!0;var e=this.time||[],n=Object(s.a)(e,2),a=n[0],o=n[1],i={number:this.pageNum,payService:"all"===this.payService?"":this.payService,size:this.pageSize,status:"all"===this.status?"":this.status,searchType:this.searchType,isDemo:this.isTest?2:0};this.searchText&&(i[this.typeListKeys[this.type]]=this.searchText),a&&(i.beginDate=this.$utils.formatDate(a,"YYYY-MM-DD")+" 00:00:00"),o&&(i.endDate=this.$utils.formatDate(o,"YYYY-MM-DD")+" 23:59:59"),this.$download("/deposit/onlineOrder/tob/exportOnlineOrder",i,{},"post").then((function(){t.modal1=!0})).catch((function(e){t.$Message.error(t.$t("fund.exportErrorInfo")+"："+e.message)})).finally((function(){t.excelIng=!1}))}else this.$Message.error(this.$t("fund.lotpayErrMsg14"))},getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.time||[],a=Object(s.a)(n,2),o=a[0],i=a[1],r={number:this.pageNum=e,payService:"all"===this.payService?"":this.payService,size:this.pageSize,status:"all"===this.status?"":this.status,searchType:this.searchType,isDemo:this.isTest?2:0};this.searchText&&(r[this.typeListKeys[this.type]]=this.searchText),o&&(r.beginDate=this.$utils.formatDate(o,"YYYY-MM-DD")+" 00:00:00"),i&&(r.endDate=this.$utils.formatDate(i,"YYYY-MM-DD")+" 23:59:59"),this.depositMoney&&(r.depositMoney=100*this.depositMoney),this.maxDepositMoney&&(r.maxDepositMoney=100*this.maxDepositMoney),this.showSpin||(this.showSpin=!0,this.$post("/deposit/onlineOrder/tob/findOnlineOrderByPage",r).then((function(e){if(e){var n=e.resultPage,s=void 0===n?{}:n,a=e.depositMoney,o=e.totalDepositMoney,i=s.content,r=s.totalElements;t.totalElements=Number(r),t.dataList=i.map((function(t){return Object.assign(t,{status:Number(t.status)||t.status})})),t.summationList=[{title:t.$t("fund.depositCurTotal"),value:t.$utils.toYuan(a)},{title:t.$t("fund.depositTotal"),value:t.$utils.toYuan(o)}]}})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.showSpin=!1})))}},mounted:function(){this.getPayPlatform(),this.getData(1)},beforeDestroy:function(){clearInterval(this.runtime)},filters:{tofixed:function(t){return t?(parseFloat(t)/100).toFixed(2):""}},components:{detail:l}},d=u,p=(n("f23b"),Object(r.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"offlinedepositrecords"},[n("Form",{attrs:{inline:""}},[n("FormItem",[n("Select",{model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[n("Option",{attrs:{value:"all"}},[t._v(t._s(t._f("lang")("fund.alltype")))]),n("Option",{attrs:{value:1}},[t._v(t._s(t._f("lang")("fund.handled")))]),n("Option",{attrs:{value:2}},[t._v(t._s(t._f("lang")("fund.cancelled")))]),n("Option",{attrs:{value:0}},[t._v(t._s(t._f("lang")("fund.unconfirmed")))])],1)],1),n("FormItem",{attrs:{label:t.$t("fund.paymentPlatform"),"label-width":70}},[n("Select",{model:{value:t.payService,callback:function(e){t.payService=e},expression:"payService"}},[n("Option",{attrs:{value:"all"}},[t._v(t._s(t._f("lang")("fund.all")))]),t._l(t.payPlatforms,(function(e){return n("Option",{key:e.dictKey,attrs:{value:e.dictKey}},[t._v(t._s(e.dictName))])}))],2)],1),n("FormItem",{attrs:{label:t.$t("fund.depositAmount"),"label-width":70}},[n("InputNumber",{attrs:{min:0,placeholder:t.$t("fund.minMoney")},model:{value:t.depositMoney,callback:function(e){t.depositMoney=e},expression:"depositMoney"}})],1),n("FormItem",[n("span",[t._v("-")])]),n("FormItem",[n("InputNumber",{attrs:{min:0,placeholder:t.$t("fund.maxMoney")},model:{value:t.maxDepositMoney,callback:function(e){t.maxDepositMoney=e},expression:"maxDepositMoney"}})],1),n("FormItem",[n("Input",{staticStyle:{width:"240px"},attrs:{placeholder:t.$t("fund.pleaseInput")+t.typeList[t.type]},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}},[n("Select",{staticStyle:{width:"100px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.typeList,(function(e,s){return n("Option",{key:s,attrs:{value:s}},[t._v(t._s(e))])})),1)],1)],1),n("FormItem",[n("Select",{model:{value:t.searchType,callback:function(e){t.searchType=e},expression:"searchType"}},[n("Option",{attrs:{value:"0"}},[t._v(t._s(t._f("lang")("fund.submission")))]),n("Option",{attrs:{value:"1"}},[t._v(t._s(t._f("lang")("fund.operating")))])],1)],1),n("FormItem",t._l(t.dataChooseList,(function(e){return n("Button",{key:e.key,staticStyle:{"margin-right":"10px"},on:{click:function(n){return t.changeDateKey(e.key)}}},[t._v(t._s(e.val))])})),1),n("FormItem",[n("DatePicker",{staticStyle:{width:"200px"},attrs:{options:t.dateOption,type:"daterange"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),n("FormItem"),n("FormItem",[n("Button",{attrs:{type:"primary",icon:"md-search"},on:{click:function(e){return t.getData(1)}}},[t._v(t._s(t._f("lang")("fund.search")))])],1),n("FormItem",[n("Dropdown",{attrs:{placement:"bottom-start"},on:{"on-click":t.excel}},[n("Button",{attrs:{type:"primary",loading:t.excelIng},on:{"on-click":function(e){return t.excel(1)}}},[t._v(" "+t._s(t._f("lang")("fund.export"))+" "),n("Icon",{attrs:{type:"ios-arrow-down"}})],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",{attrs:{name:"2",disabled:t.excelIng}},[t._v(t._s(t._f("lang")("fund.allData")))])],1)],1)],1),n("FormItem",[n("Button",{on:{click:function(e){return t.clear()}}},[t._v(t._s(t._f("lang")("clearSearch")))])],1)],1),n("m-table",{attrs:{columns:t.columns,data:t.dataList,size:"small",rowClassName:t.rowClassName},scopedSlots:t._u([{key:"userName",fn:function(e){var s=e.row;return[t._v(" "+t._s(s.userName)),t.isTest?n("span",{staticStyle:{color:"red"}},[t._v("【"+t._s(t._f("lang")("fund.test"))+"】")]):t._e(),n("m-poptip",{attrs:{title:t.$t("fund.remark"),placement:"right"},on:{"on-popper-show":function(e){return t.queryInfo(s.userId)}}},[n("Icon",{staticClass:"department-remark",attrs:{type:"ios-information-circle"}}),n("div",{attrs:{slot:"content"},slot:"content"},[n("table",{staticClass:"cmtable infotable"},[n("tr",[n("td",[t._v(t._s(t._f("lang")("fund.player")))]),n("td",[t._v(t._s(t._f("lang")("fund.depositAmount")))])]),n("tr",[n("td",[t._v(t._s(s.userName))]),n("td",[t._v(t._s(t._f("tofixed")(s.depositMoney)))])])]),n("ul",[n("li",[t._v(t._s(t._f("lang")("fund.userLevel"))+"："+t._s(t.info.rankLevel))]),n("li",[t._v(t._s(t._f("lang")("fund.userAmount"))+"："+t._s(t._f("tofixed")(t.info.totalAmount)))]),n("li",[t._v(t._s(t._f("lang")("fund.orderNo"))+"："+t._s(s.depositNo))]),n("li",[t._v(t._s(t._f("lang")("fund.highLevelAccount"))+"："+t._s(t.info.highUserName))]),n("li",[t._v(t._s(t._f("lang")("fund.userDetail"))+"："+t._s(t.info.remark))])]),t.showUserInfoSpin?n("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)],1)]}},{key:"payPlatformName",fn:function(e){var n=e.row;return[t._v(" "+t._s(n.payPlatformName)+" | "+t._s(n.payService)+" ")]}},{key:"status",fn:function(e){var s=e.row;return[n("span",{class:{"text-red":2===s.status,"text-green":1===s.status}},[t._v(" "+t._s(t.statusType[s.status]||s.status)+" ")]),n("m-poptip",{attrs:{content:s.remark,title:t.$t("fund.remark"),placement:"left"}},[n("Icon",{staticClass:"department-remark",attrs:{type:"ios-information-circle"}})],1)]}},{key:"depositMoney",fn:function(e){var s=e.row;return[n("span",{class:{"text-red":+s.applyMoney>=1e6}},[t._v(" "+t._s(t._f("tofixed")(s.applyMoney))+" ")]),n("m-poptip",{attrs:{title:t.$t("fund.remark"),placement:"right"}},[n("Icon",{staticClass:"department-remark",attrs:{type:"ios-information-circle"}}),n("div",{attrs:{slot:"content"},slot:"content"},[n("ul",[n("li",[t._v(t._s(t._f("lang")("fund.applicationAmount"))+":"+t._s(t._f("tofixed")(s.depositMoney)))]),n("li",[t._v(t._s(t._f("lang")("fund.depositAmount"))+":"+t._s(t._f("tofixed")(s.applyMoney||0)))]),n("li",[t._v(t._s(t._f("lang")("fund.depositDiscount"))+":"+t._s(t._f("tofixed")(s.depositDiscount)))]),n("li",[t._v(t._s(t._f("lang")("fund.otherDiscount"))+":"+t._s(t._f("tofixed")(s.otherDiscount)))]),n("li",[t._v(t._s(t._f("lang")("fund.totalMoney"))+":"+t._s(t._f("tofixed")(s.applyMoney||0)))])])])],1)]}},{key:"applyerName",fn:function(e){var s=e.row;return[n("span",[t._v(t._s("system"===s.applyerName?t.$t("fund.system"):s.applyerName))])]}},{key:"txid",fn:function(e){var s=e.row;return[n("span",{staticClass:"txid"},[t._v(t._s(s.txid))])]}},{key:"option",fn:function(e){var s=e.row;return[0===s.status?n("div",{staticClass:"option"},[t.pageauthoritys.modifyOrder?n("span",{on:{click:function(e){return t.confirmOrder(s)}}},[t._v(t._s(t.$t("fund.modifyOrder")))]):t._e(),t.pageauthoritys.revokeOrder?n("Poptip",{attrs:{transfer:"",confirm:"",title:t.$t("fund.revokeOrder")},on:{"on-ok":function(e){return t.cancelOrder(s)}}},[n("span",[t._v(t._s(t.$t("fund.revokeOrder")))])]):t._e()],1):t._e()]}}])}),t.showSpin?n("Spin",{attrs:{size:"large",fix:""}}):t._e(),n("m-page",{attrs:{total:t.totalElements,summation:t.summationList,pageSize:t.pageSize,pageSizeOpts:t.pageSizeOption},on:{"on-change":function(e){return t.getData(t.pageNum)},"on-page-size-change":t.pageSizeChange},model:{value:t.pageNum,callback:function(e){t.pageNum=e},expression:"pageNum"}}),n("detail",{attrs:{detail:t.itemInfo},on:{save:function(e){return t.getData(1)}},model:{value:t.showDetails,callback:function(e){t.showDetails=e},expression:"showDetails"}}),n("Modal",{attrs:{title:t.$t("proxy.warnTips"),"ok-text":t.$t("proxy.goNow"),"cancel-text":t.$t("proxy.stayPage")},on:{"on-ok":t.handledoExcel},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[n("p",[t._v(t._s(t.$t("proxy.exportingTip")))])])],1)}),[],!1,null,null,null));e.a=p.exports},"586a":function(t,e,n){},f23b:function(t,e,n){"use strict";n("586a")}}]);