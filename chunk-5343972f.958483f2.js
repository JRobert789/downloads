(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5343972f"],{"0ff4":function(t,e,n){},"1e96":function(t,e,n){"use strict";n("6b60")},5745:function(t,e,n){"use strict";n("0ff4")},"6b60":function(t,e,n){},a8e2:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return u}));var a=n("3835"),r=(n("b680"),n("d36b")),s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.a.t("report.".concat(t),e)},o={shortcuts:[{ttext:r.a.t("fund.today"),code:"today",value:function(){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0);var e=new Date;return e.setHours(23),e.setMinutes(59),e.setSeconds(59),[new Date(t),e]}},{text:r.a.t("fund.yesterday"),code:"yesterday",value:function(){var t=new Date;t.setTime(t.getTime()-864e5),t.setHours(0),t.setMinutes(0),t.setSeconds(0);var e=new Date(t);return e.setHours(23),e.setMinutes(59),e.setSeconds(59),[t,e]}},{text:r.a.t("fund.thisweek"),code:"week",value:function(){var t=new Date,e=t.getDay()||7,n=new Date(t-864e5*(e-1));return n.setHours(0),n.setMinutes(0),n.setSeconds(0),[n,new Date]}},{text:r.a.t("fund.lastweek"),code:"lastWeek",value:function(){var t=new Date,e=t.getDay()||7,n=864e5,a=new Date(t-e*n),r=new Date(t-(e+6)*n);return r.setHours(0),r.setMinutes(0),r.setSeconds(0),a.setHours(23),a.setMinutes(59),a.setSeconds(59),[r,a]}},{text:r.a.t("fund.thismonth"),code:"month",value:function(){var t=new Date;t.setDate(1);var e=new Date(t);e.setHours(0),e.setMinutes(0),e.setSeconds(0);var n=new Date;return n.setHours(23),n.setMinutes(59),n.setSeconds(59),[e,n]}},{text:r.a.t("nearlySevenDays"),value:function(){var t=new Date,e=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setTime(e.getTime()-5184e5),[e,t]}},{text:r.a.t("nearly15Days"),value:function(){var t=new Date,e=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setTime(e.getTime()-12096e5),[e,t]}},{text:r.a.t("nearly30Days"),value:function(){var t=new Date,e=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setTime(e.getTime()-25056e5),[e,t]}}],disabledDate:function(t){return t&&t.valueOf()>Date.now()||t.valueOf()<Date.now()-15552e6}},i=(r.a.t("fund.today"),r.a.t("fund.yesterday"),r.a.t("fund.lastweek"),r.a.t("fund.thismonth"),r.a.t("fund.lastmonth"),r.a.t("nearlySevenDays"),r.a.t("nearly15Days"),r.a.t("nearly30Days"),r.a.t("fund.today"),r.a.t("fund.yesterday"),r.a.t("fund.last7"),r.a.t("fund.thismonth"),r.a.t("fund.lastmonth"),[{key:"0",name:s("decrease")},{key:"1",name:s("increase")}]);function u(t){var e,n=Object(a.a)(t,2),r=n[0],s=n[1];return r=Date.parse(r),e=(s=Date.parse(s))-r,e=Math.abs(e),Math.floor(e/864e5)>30}},f510:function(t,e,n){"use strict";n.r(e);var a=(n("b680"),n("d3b7"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Drawer",{attrs:{title:t.drawerTitle,width:"750","mask-closable":!1},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},[n("Form",{ref:"form",attrs:{model:t.form,rules:t.rule,"label-width":220}},[n("FormItem",{attrs:{label:t.tfn("addReWardTitle1"),prop:"spanOfControl"}},[n("InputNumber",{staticClass:"rl_input",attrs:{min:1,max:9999999,precision:0},model:{value:t.form.spanOfControl,callback:function(e){t.$set(t.form,"spanOfControl",e)},expression:"form.spanOfControl"}}),t._v(" "+t._s(t.tfn("addReWardTitle1_after"))+" ")],1),n("FormItem",{attrs:{label:t.tfn("addReWardTitle2"),prop:"rechargeAmount"}},[n("InputNumber",{staticClass:"rl_input",attrs:{min:0,max:9999999,precision:2,"active-change":!1},model:{value:t.form.rechargeAmount,callback:function(e){t.$set(t.form,"rechargeAmount",e)},expression:"form.rechargeAmount"}}),t._v(" "+t._s(t.tfn("addReWardTitle1_after"))+" ")],1),n("FormItem",{attrs:{label:t.tfn("addReWardTitle3"),prop:"completedOrderCount"}},[n("InputNumber",{staticClass:"rl_input",attrs:{min:0,max:9999999,precision:0,"active-change":!1},model:{value:t.form.completedOrderCount,callback:function(e){t.$set(t.form,"completedOrderCount",e)},expression:"form.completedOrderCount"}}),t._v(" "+t._s(t.tfn("addReWardTitle3_after"))+" ")],1),n("FormItem",{attrs:{label:t.tfn("addReWardTitle4"),prop:"awardMoney"}},[n("InputNumber",{staticClass:"rl_input",attrs:{min:1,max:9999999,precision:2,"active-change":!1},model:{value:t.form.awardMoney,callback:function(e){t.$set(t.form,"awardMoney",e)},expression:"form.awardMoney"}}),t._v(" "+t._s(t.tfn("addReWardTitle4_after"))+" ")],1),n("FormItem",{attrs:{label:t.tfn("addReWardTitle5"),prop:"allowIpNum"}},[n("InputNumber",{staticClass:"rl_input",attrs:{min:1,max:9999,precision:0,"active-change":!1},model:{value:t.form.allowIpNum,callback:function(e){t.$set(t.form,"allowIpNum",e)},expression:"form.allowIpNum"}})],1),n("FormItem",{attrs:{label:t.$t("status")}},[n("i-switch",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1),n("FormItem",[n("Button",{attrs:{type:"primary"},on:{click:function(e){return t.save()}}},[t._v(t._s(t._f("lang")("confirm")))]),n("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.close()}}},[t._v(t._s(t._f("lang")("cancel")))])],1)],1),t.loading?n("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)}),r=n("5530"),s=(n("a9e3"),n("a8e2")),o={props:{value:{default:!1,type:Boolean},detail:{default:null,type:Object},maxLevel:{default:0,type:Number}},data:function(){return{drawerTitle:"",dateOptions:this.$utils.genDateConfig(90),loading:!1,form:{spanOfControl:null,rechargeAmount:null,completedOrderCount:null,awardMoney:null,status:!1},showSpin:!1,rule:{spanOfControl:[{type:"number",required:!0,message:this.tfn("pleaseEnterTheNo"),trigger:"blur"}],rechargeAmount:[{type:"number",required:!0,message:this.tfn("pleaseEnterTheAmount"),trigger:"blur"}],completedOrderCount:[{type:"number",required:!0,message:this.tfn("pleaseEnterTheNo"),trigger:"blur"}],awardMoney:[{type:"number",required:!0,message:this.tfn("pleaseEnterTheAmount2"),trigger:"blur"}],allowIpNum:[{type:"number",required:!0,message:this.tfn("pleaseEnterTheNo"),trigger:"blur"}]}}},methods:{tfn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$t("depositReward.".concat(t),e)},change:function(t){var e=t[0],n=this.$utils.formatDate(t[1],"YYYY-MM-DD")+" 23:59:59",a=[e,n];Object(s.c)(t)&&(a=[e,n=this.$utils.formatDate(new Date(new Date(e).getTime()+2592e6),"YYYY-MM-DD")+" 23:59:59"],this.$Message.info(this.$t("report.timeSpan"))),this.form=Object(r.a)(Object(r.a)({},this.form),{},{date:a})},init:function(){if(this.form={allowIpNum:2,spanOfControl:null,rechargeAmount:null,completedOrderCount:null,awardMoney:null,status:!1},this.$refs.form.resetFields(),this.detail){var t=this.detail,e=t.spanOfControl,n=t.rechargeAmount,a=t.completedOrderCount,r=t.awardMoney,s=t.status,o=t.allowIpNum;this.form={status:!!s,spanOfControl:e,allowIpNum:o,rechargeAmount:+(n/100).toFixed(2),completedOrderCount:a,awardMoney:+(r/100).toFixed(2)}}var i=Boolean(this.detail);this.drawerTitle=i?this.tfn("edit"):this.tfn("new")},close:function(){this.clear(),this.$emit("input",!1)},clear:function(){this.form={allowIpNum:null,spanOfControl:null,rechargeAmount:null,completedOrderCount:null,awardMoney:null,status:!1}},save:function(){var t=this;this.$refs.form.validate((function(e){if(e){if(t.loading)return;t.loading=!0;var n=Boolean(t.detail),a=n?"/activity/cumulativeReward/tob/update":"/activity/cumulativeReward/tob/save",r=t.form,s=r.spanOfControl,o=r.rechargeAmount,i=r.completedOrderCount,u=r.awardMoney,l=r.status,c=r.allowIpNum,d={};d.spanOfControl=s,d.allowIpNum=c,d.rechargeAmount=(100*o).toFixed(),d.completedOrderCount=i,d.awardMoney=(100*u).toFixed(),d.status=l?"1":"0",n&&(d.id=t.detail.id),t.$post(a,d).then((function(){t.$Message.success(n?t.$t("rebate.editSucceeded"):t.$t("rebate.addSucceeded")),t.$emit("save"),t.$emit("input",!1)})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.loading=!1}))}}))}},computed:{value2:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},watch:{value:function(t){t?this.init():this.clear()}}},i=o,u=(n("1e96"),n("2877")),l={data:function(){return{detail:null,showDrawer:!1,rewardSwitch:{isEnable:!1},excelloading:!1,dateOptions:this.$utils.genDateConfig(90),columns:[{title:this.tfn("serialNumber"),slot:"key",width:80,align:"center"},{title:this.tfn("firstChargeCondition"),slot:"condition",width:250,align:"center"},{title:this.tfn("rewardAmount"),key:"awardMoney",count:function(t){return(t/100).toFixed(2)},align:"center"},{title:this.tfn("addReWardTitle5"),key:"allowIpNum",align:"center"},{title:this.tfn("createTime"),key:"createTime",align:"center"},{title:this.$t("status"),slot:"status",align:"center"},{title:this.$t("operation"),slot:"operation",align:"center"}],gameList:[],dataList:[],bonus:0,levelPath:[],levelMap:{},form:{date:[null,null],userType:"0",userName:""},gameType:"",toUserId:"",proxyName:"",showSpin:!1,pageNo:1,pageSize:10,totalElements:0,lastDate:[null,null]}},components:{drawer:Object(u.a)(i,a,[],!1,null,null,null).exports},methods:{cancel:function(){},pageChange:function(t){this.pageNo=t,this.query()},pageSizeChange:function(t){this.pageSize=t,this.query()},tfn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$t("depositReward.".concat(t),e)},edit:function(t){this.detail=t,this.showDrawer=!0},save:function(){this.query()},query:function(){var t=this;this.showSpin=!0;var e={page:this.pageNo,size:this.pageSize};this.$get("/activity/cumulativeReward/tob/page",e).then((function(e){var n=e.content,a=e.page,r=e.totalElements;n.forEach((function(t){t.status=!!t.status})),t.pageNo=a,t.dataList=n,t.totalElements=+r})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.showSpin=!1}))},statusChange:function(t){var e=this;if(!this.showSpin){this.showSpin=!0;var n={status:t.status?"1":"0",id:t.id};this.$post("/activity/cumulativeReward/tob/updateStatus",n).then((function(){e.$Message.success(e.$t("opSuccess"))})).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.showSpin=!1,e.query()}))}},del:function(t){var e=this;this.showSpin=!0,this.$post("/activity/cumulativeReward/tob/delete",{id:t}).then((function(){e.$Message.success(e.$t("deleteSuccess"))})).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.showSpin=!1,e.query()}))},showCondition:function(t){return 0==t.rechargeAmount&&0==t.completedOrderCount?this.tfn("addReWardTitle1")+t.spanOfControl+" ":0==t.rechargeAmount&&0!=t.completedOrderCount?this.tfn("addReWardTitle1")+t.spanOfControl+" "+this.tfn("addReWardTitle1_after")+this.tfn("addReWardTitle3")+" "+t.completedOrderCount:0==t.completedOrderCount&&0!=t.rechargeAmount?this.tfn("addReWardTitle1")+t.spanOfControl+" "+this.tfn("addReWardTitle1_after")+this.tfn("addReWardTitle2")+" "+this.$utils.toYuan(t.rechargeAmount):this.tfn("addReWardTitle1")+t.spanOfControl+" "+this.tfn("addReWardTitle1_after")+this.tfn("addReWardTitle2")+" "+this.$utils.toYuan(t.rechargeAmount)+" "+this.tfn("addReWardTitle1_after")+this.tfn("addReWardTitle3")+t.completedOrderCount+" "+this.tfn("addReWardTitle3_after")}},watch:{showDrawer:function(t){t||(this.detail=null)}},mounted:function(){this.query()}},c=l,d=(n("5745"),Object(u.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"reward__settings"},[n("Form",{staticClass:"rs_form",attrs:{inline:""}},[n("FormItem",[n("Button",{attrs:{type:"primary"},on:{click:function(e){t.showDrawer=!t.showDrawer}}},[t._v(t._s(t.tfn("addedFirstDepositSettings")))])],1)],1),n("m-table",{ref:"selection",attrs:{border:"",columns:t.columns,data:t.dataList,"no-data-text":t.$t("rebate.noData")},scopedSlots:t._u([{key:"key",fn:function(e){var a=e.index;return[n("span",[t._v(t._s(a+1))])]}},{key:"condition",fn:function(e){var a=e.row;return[n("div",{staticStyle:{"word-break":"keep-all"}},[t._v(t._s(t.showCondition(a)))])]}},{key:"status",fn:function(e){var a=e.row;return[n("i-switch",{on:{"on-change":function(e){return t.statusChange(a)}},model:{value:a.status,callback:function(e){t.$set(a,"status",e)},expression:"row.status"}})]}},{key:"operation",fn:function(e){var a=e.row;return[n("Button",{staticStyle:{"margin-right":"10px"},attrs:{icon:"md-create"},on:{click:function(e){return t.edit(a)}}}),n("Poptip",{attrs:{transfer:"",confirm:"",title:t.$t("deleteTip")},on:{"on-ok":function(e){return t.del(a.id)},"on-cancel":t.cancel}},[n("Button",{attrs:{icon:"ios-trash"}})],1)]}}])}),n("m-page",{attrs:{total:t.totalElements,pageSize:t.pageSize,pageSizeOpts:[10,20,50,100]},on:{"on-change":t.pageChange,"on-page-size-change":t.pageSizeChange},model:{value:t.pageNo,callback:function(e){t.pageNo=e},expression:"pageNo"}}),t.showSpin?n("Spin",{attrs:{size:"large",fix:""}}):t._e(),n("drawer",{attrs:{detail:t.detail},on:{save:function(e){return t.save()}},model:{value:t.showDrawer,callback:function(e){t.showDrawer=e},expression:"showDrawer"}})],1)}),[],!1,null,null,null));e.default=d.exports}}]);