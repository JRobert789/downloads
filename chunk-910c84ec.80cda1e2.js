(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-910c84ec"],{6584:function(t,e,a){"use strict";a("9087")},9087:function(t,e,a){},a8e2:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return u}));var n=a("3835"),s=(a("b680"),a("d36b")),r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.a.t("report.".concat(t),e)},i={shortcuts:[{ttext:s.a.t("fund.today"),code:"today",value:function(){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0);var e=new Date;return e.setHours(23),e.setMinutes(59),e.setSeconds(59),[new Date(t),e]}},{text:s.a.t("fund.yesterday"),code:"yesterday",value:function(){var t=new Date;t.setTime(t.getTime()-864e5),t.setHours(0),t.setMinutes(0),t.setSeconds(0);var e=new Date(t);return e.setHours(23),e.setMinutes(59),e.setSeconds(59),[t,e]}},{text:s.a.t("fund.thisweek"),code:"week",value:function(){var t=new Date,e=t.getDay()||7,a=new Date(t-864e5*(e-1));return a.setHours(0),a.setMinutes(0),a.setSeconds(0),[a,new Date]}},{text:s.a.t("fund.lastweek"),code:"lastWeek",value:function(){var t=new Date,e=t.getDay()||7,a=864e5,n=new Date(t-e*a),s=new Date(t-(e+6)*a);return s.setHours(0),s.setMinutes(0),s.setSeconds(0),n.setHours(23),n.setMinutes(59),n.setSeconds(59),[s,n]}},{text:s.a.t("fund.thismonth"),code:"month",value:function(){var t=new Date;t.setDate(1);var e=new Date(t);e.setHours(0),e.setMinutes(0),e.setSeconds(0);var a=new Date;return a.setHours(23),a.setMinutes(59),a.setSeconds(59),[e,a]}},{text:s.a.t("nearlySevenDays"),value:function(){var t=new Date,e=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setTime(e.getTime()-5184e5),[e,t]}},{text:s.a.t("nearly15Days"),value:function(){var t=new Date,e=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setTime(e.getTime()-12096e5),[e,t]}},{text:s.a.t("nearly30Days"),value:function(){var t=new Date,e=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setTime(e.getTime()-25056e5),[e,t]}}],disabledDate:function(t){return t&&t.valueOf()>Date.now()||t.valueOf()<Date.now()-15552e6}},o=(s.a.t("fund.today"),s.a.t("fund.yesterday"),s.a.t("fund.lastweek"),s.a.t("fund.thismonth"),s.a.t("fund.lastmonth"),s.a.t("nearlySevenDays"),s.a.t("nearly15Days"),s.a.t("nearly30Days"),s.a.t("fund.today"),s.a.t("fund.yesterday"),s.a.t("fund.last7"),s.a.t("fund.thismonth"),s.a.t("fund.lastmonth"),[{key:"0",name:r("decrease")},{key:"1",name:r("increase")}]);function u(t){var e,a=Object(n.a)(t,2),s=a[0],r=a[1];return s=Date.parse(s),e=(r=Date.parse(r))-s,e=Math.abs(e),Math.floor(e/864e5)>30}},f44c:function(t,e,a){"use strict";a.r(e);var n=a("5530"),s=(a("d3b7"),a("159b"),a("a15b"),a("d81d"),a("a8e2")),r={data:function(){return{loading:!1,excelIng:!1,dateOptions:this.$utils.genDateConfig(90),columns:[{type:"selection",width:60,align:"center"},{title:this.$t("activeConfiguration.eventsTitle"),key:"title",align:"center"},{title:this.tfn("player"),key:"username",align:"center"},{title:this.$t("activeConfiguration.activityType"),slot:"activityType",align:"center"},{title:this.tfn("Details"),key:"content",align:"center"},{title:this.tfn("applicationTime"),key:"createTime",align:"center"},{title:this.$t("operation"),width:240,slot:"operation",align:"center"},{title:this.tfn("operateTime"),key:"updateTime",align:"center"},{title:this.tfn("auditOperator"),slot:"updateBy",align:"center"}],dataList:[],tabList:[],form:{date:[null,null],userType:"0",userName:"",status:"-1",type:"-1"},pageNo:1,pageSize:10,totalElements:0,activeList:[{key:1,value:this.$t("activeConfiguration.rechargeReward")},{key:2,value:this.$t("activeConfiguration.registerReward")},{key:3,value:this.$t("activeConfiguration.teamReward")},{key:4,value:this.$t("activeConfiguration.inviteReward")}]}},methods:{tfn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$t("activeConfiguration.".concat(t),e)},excel:function(t){var e=this,a=this.form,n=a.date,s=a.userType,r=a.userName,i=a.status,o=a.type,u={page:this.pageNo,size:this.pageSize,beginTime:this.$utils.formatDate(n[0],"YYYY-MM-DD hh:mm:ss"),endTime:this.$utils.formatDate(n[1],"YYYY-MM-DD hh:mm:ss")};"-1"!==i&&(u.status=i),"-1"!==o&&(u.type=o),r&&"0"===s&&(u.username=r),r&&"1"===s&&(u.highUserName=r),u.exportType=t,this.excelIng=!0,this.$download("/promotion/promotionAudit/tob/export",u).then((function(){e.$Message.success(e.$t("fund.exportSuccessInfo"))})).catch((function(t){e.$Message.error(e.$t("fund.exportErrorInfo")+"ï¼š"+t.message)})).finally((function(){e.excelIng=!1}))},pageChange:function(t){this.pageNo=t,this.query()},pageSizeChange:function(t){this.pageSize=t,this.query()},batchProcessing:function(t){if(this.tabList&&this.tabList.length){var e=[];this.tabList.forEach((function(t){e.push(t.id)}));var a=e.join(",");this.pass(a,t)}else this.$Message.warning(this.tfn("pleaseSelectAtLeastOneOrder"))},pass:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;this.loading=!0,this.$post("/promotion/promotionAudit/tob/batchAudit",{id:e,status:a}).then((function(){t.$Message.success(t.$t("opSuccess")),t.query()})).catch((function(e){t.$Message.error(e.message),t.loading=!1}))},query:function(){var t=this;this.loading=!0;var e=this.form,a=e.date,n=e.userType,s=e.userName,r=e.status,i=e.type,o={page:this.pageNo,size:this.pageSize,beginTime:this.$utils.formatDate(a[0],"YYYY-MM-DD hh:mm:ss"),endTime:this.$utils.formatDate(a[1],"YYYY-MM-DD hh:mm:ss")};"-1"!==r&&(o.status=r),"-1"!==i&&(o.type=i),s&&"0"===n&&(o.username=s),s&&"1"===n&&(o.highUserName=s),this.$get("/promotion/promotionAudit/tob/page",o).then((function(e){var a=e.content,n=e.totalElements;a&&a.length?t.dataList=a.map((function(t){return 0!=+t.status&&(t._disabled=!0),t})):t.dataList=[],t.totalElements=+n})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.loading=!1}))},clearDate:function(){var t=this.$utils.getTodayArr(),e=t[0],a=t[1];this.form.userName="",this.form.status="-1",this.form.userType="0";var s=this.form;this.form=Object(n.a)(Object(n.a)({},s),{},{date:[e,a]})},selectHandle:function(t){this.tabList=t},change:function(t){var e=t[0],a=this.$utils.formatDate(t[1],"YYYY-MM-DD")+" 23:59:59",r=[e,a];Object(s.c)(t)&&(r=[e,a=this.$utils.formatDate(new Date(new Date(e).getTime()+2592e6),"YYYY-MM-DD")+" 23:59:59"],this.$Message.info(this.$t("report.timeSpan"))),this.form=Object(n.a)(Object(n.a)({},this.form),{},{date:r})}},mounted:function(){this.clearDate(),this.query()}},i=r,o=(a("6584"),a("2877")),u=Object(o.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"review__list"},[a("Form",{attrs:{model:t.form,inline:""}},[a("FormItem",{attrs:{label:t.$t("rebate.dateRange"),"label-width":100,prop:"time"}},[a("DatePicker",{staticStyle:{width:"320px"},attrs:{type:"datetimerange",editable:!1,options:t.dateOptions,clearable:!1},on:{"on-change":t.change},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),a("FormItem",{attrs:{prop:"userName"}},[a("Input",{scopedSlots:t._u([{key:"prepend",fn:function(){return[a("Select",{staticStyle:{width:"160px"},model:{value:t.form.userType,callback:function(e){t.$set(t.form,"userType",e)},expression:"form.userType"}},[a("Option",{attrs:{value:"0"}},[t._v(t._s(t.tfn("userAccount")))])],1)]},proxy:!0}]),model:{value:t.form.userName,callback:function(e){t.$set(t.form,"userName",e)},expression:"form.userName"}})],1),a("FormItem",{attrs:{label:t.$t("operation"),prop:"userName","label-width":60}},[a("Select",{staticStyle:{width:"120px","margin-left":"6px"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("Option",{attrs:{value:"-1"}},[t._v(t._s(t.$t("all")))]),a("Option",{attrs:{value:"0"}},[t._v(t._s(t.tfn("unconfirmed")))]),a("Option",{attrs:{value:"1"}},[t._v(t._s(t.tfn("pass")))]),a("Option",{attrs:{value:"2"}},[t._v(t._s(t.tfn("reject")))])],1)],1),a("FormItem",{attrs:{label:t.tfn("activityType"),"label-width":80}},[a("Select",{staticStyle:{width:"120px","margin-left":"6px"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("Option",{attrs:{value:"-1"}},[t._v(t._s(t.$t("all")))]),t._l(t.activeList,(function(e,n){return a("Option",{key:n,attrs:{value:+e.key}},[t._v(t._s(e.value))])}))],2)],1),a("FormItem",[a("Button",{attrs:{type:"primary",icon:"md-search"},on:{click:function(e){return t.query()}}},[t._v(t._s(t._f("lang")("rebate.search")))])],1),a("FormItem",[a("Button",{on:{click:function(e){return t.clearDate()}}},[t._v(t._s(t.tfn("clear")))])],1),a("FormItem",[t.pageauthoritys.auditPermissions?a("Poptip",{attrs:{transfer:"",confirm:"",title:t.tfn("isItThroughTheSelectedOrder")},on:{"on-ok":function(e){return t.batchProcessing(1)}}},[a("Button",{attrs:{type:"primary"}},[t._v(t._s(t.tfn("batchPass")))])],1):t._e()],1),a("FormItem",[t.pageauthoritys.auditPermissions?a("Poptip",{attrs:{transfer:"",confirm:"",title:t.tfn("rejectTheSelectedOrder")},on:{"on-ok":function(e){return t.batchProcessing(2)}}},[a("Button",{attrs:{type:"error"}},[t._v(t._s(t.tfn("bulkRejection")))])],1):t._e()],1),a("FormItem",[a("Dropdown",{attrs:{placement:"bottom-start"},on:{"on-click":t.excel}},[a("Button",{attrs:{type:"primary",loading:t.excelIng},on:{"on-click":function(e){return t.excel(0)}}},[t._v(" "+t._s(t._f("lang")("fund.export"))+" "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"0",disabled:t.excelIng}},[t._v(t._s(t._f("lang")("fund.currentData")))]),a("DropdownItem",{attrs:{name:"1",disabled:t.excelIng}},[t._v(t._s(t._f("lang")("fund.allData")))])],1)],1)],1)],1),a("Table",{attrs:{border:"",columns:t.columns,data:t.dataList,"no-data-text":t.$t("rebate.noData")},on:{"on-selection-change":t.selectHandle},scopedSlots:t._u([{key:"userName",fn:function(e){var n=e.row;return[a("span",[t._v(" "+t._s(n.userName)+" "),a("Tooltip",{attrs:{transfer:"",content:t.tfn("accountException"),placement:"top"}},[n.exFlag?a("Icon",{attrs:{type:"md-alert",color:"#ed4014"}}):t._e()],1)],1)]}},{key:"activityType",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(t.activeList[n.type-1].value))])]}},{key:"operation",fn:function(e){var n=e.row;return[0!=+n.status?[1==+n.status?[a("span",{staticStyle:{color:"#19be6b"}},[t._v(t._s(t.tfn("passed")))])]:t._e(),2==+n.status?[a("span",{staticStyle:{color:"#ed4014"}},[t._v(t._s(t.tfn("rejected")))])]:t._e()]:[[a("Poptip",{attrs:{transfer:"",confirm:"",title:t.tfn("didYouPassThisOrder")},on:{"on-ok":function(e){return t.pass(n.id,1)}}},[a("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"}},[t._v(t._s(t.tfn("pass")))])],1),a("Poptip",{attrs:{transfer:"",confirm:"",title:t.tfn("declineThisOrder")},on:{"on-ok":function(e){return t.pass(n.id,2)}}},[a("Button",[t._v(t._s(t.tfn("reject")))])],1)]]]}},{key:"updateTime",fn:function(e){var n=e.row;return 0!=+n.status?[a("span",[t._v(t._s(n.updateTime))])]:void 0}},{key:"updateBy",fn:function(e){var n=e.row;return 0!=+n.status?[a("span",[t._v(t._s(n.updateBy))])]:void 0}}],null,!0)}),a("m-page",{attrs:{total:t.totalElements,pageSize:t.pageSize,pageSizeOpts:[10,20,50,100]},on:{"on-change":t.pageChange,"on-page-size-change":t.pageSizeChange},model:{value:t.pageNo,callback:function(e){t.pageNo=e},expression:"pageNo"}}),t.loading?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)}),[],!1,null,null,null);e.default=u.exports}}]);