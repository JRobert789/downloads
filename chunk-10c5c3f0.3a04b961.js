(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-10c5c3f0"],{"0629":function(t,e,a){"use strict";a("3273")},3273:function(t,e,a){},"4a8d":function(t,e,a){"use strict";a("b1a5")},aafd:function(t,e,a){"use strict";a.r(e);var s=(a("b680"),a("d3b7"),a("fb6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Drawer",{attrs:{title:"批量名单记录",width:"800"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},[a("div",{staticClass:"relative"},[a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{label:"操作人","label-width":54}},[a("Input",{attrs:{placeholder:"请输入操作人"},model:{value:t.createBy,callback:function(e){t.createBy=e},expression:"createBy"}})],1),a("FormItem",{attrs:{label:"时间","label-width":40}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary",icon:"md-search"},on:{click:function(e){return t.search()}}},[t._v("搜索")])],1)],1),a("m-table",{attrs:{columns:t.columns,data:t.dataList,size:"small"},scopedSlots:t._u([{key:"option",fn:function(e){var s=e.row;return[+s.successNum+ +s.failNum==+s.validNum?a("div",{staticClass:"operation-btn-group"},[+s.successNum>0?a("Button",{attrs:{loading:s.excelSuccess},on:{click:function(e){return t.excel(s.id,1,s)}}},[t._v("成功名单")]):t._e(),+s.failNum>0?a("Button",{attrs:{loading:s.excelError},on:{click:function(e){return t.excel(s.id,0,s)}}},[t._v("失败名单")]):t._e()],1):t._e()]}},{key:"status",fn:function(e){var a=e.row;return[+a.successNum+ +a.failNum==+a.validNum?[t._v(" 处理完成 ")]:[t._v(" 处理中 ")]]}}])}),t.showSpin?a("Spin",{attrs:{size:"large",fix:""}}):t._e(),a("m-page",{attrs:{total:t.totalElements,pageSize:t.pageSize},on:{"on-change":t.query,"on-page-size-change":t.pageSizeChange},model:{value:t.pageNum,callback:function(e){t.pageNum=e},expression:"pageNum"}})],1)])}),n=a("5530"),i=(a("d81d"),{props:{value:{default:!1,type:Boolean}},data:function(){return{createBy:"",time:["",""],columns:[{title:"时间",key:"addTime"},{title:"存入笔数",key:"validNum"},{title:"成功笔数",key:"successNum"},{title:"失败笔数",key:"failNum"},{title:"状态",slot:"status"},{title:"操作人",key:"createBy"},{title:"导出名单",slot:"option"}],dataList:[],totalElements:0,pageNum:1,pageSize:20,showSpin:!1,value2:!1}},watch:{value:function(){this.value?this.query():(this.createBy="",this.time=["",""]),this.value2=this.value},value2:function(){this.$emit("input",this.value2)}},methods:{query:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a={beginTime:this.$utils.formatDate(this.time[0],"YYYY-MM-DD"),endTime:this.$utils.formatDate(this.time[1],"YYYY-MM-DD"),createBy:this.createBy,pageSize:this.pageSize};this.showSpin=!0,this.$get("pay/lotPayManualBatUser/queryRecordPage",Object(n.a)({pageNo:e},a),{"Content-type":"application/json;charset=UTF-8"}).then((function(e){var a=e||{},s=a.totalElements,n=a.content,i=a.number;t.dataList=n.map((function(t){return t.excelSuccess=!1,t.excelError=!1,t})),t.totalElements=+s,t.pageNum=+i})).catch((function(e){t.dataList=[],t.totalElements=0,t.pageNum=1,t.$Message.error(e.message)})).finally((function(){t.showSpin=!1}))},search:function(){this.pageNum=1,this.query()},pageSizeChange:function(t){this.pageSize=t,this.query()},excel:function(t,e,a){var s=this;+e?a.excelSuccess=!0:a.excelError=!0,this.$download("pay/lotPayManualBatUser/exportHandlerRs",{recordId:t,isSuccess:e}).then((function(){s.$Message.success(s.$t("fund.exportSuccessInfo"))})).catch((function(t){s.$Message.error(t.message)})).finally((function(){+e?a.excelSuccess=!1:a.excelError=!1}))}}}),o=i,l=(a("0629"),a("2877")),r={data:function(){return{manualNo:"",userName:"",status:"all",minMoney:null,maxMoney:null,time:this.$utils.getTodayArr(),excelIng:!1,statusList:{},typeList:{102:this.tFn("manualDeposit"),104:this.tFn("negativeAmountReturnToZero"),105:this.tFn("cancelWithdrawal"),116:this.tFn("activityCash"),106:this.tFn("other")},columns:[{title:this.tFn("accountName"),slot:"user"},{title:this.tFn("deposits"),slot:"money"},{title:this.$t("status"),slot:"status"},{title:this.$t("time"),slot:"time"}],dataList:[],totalElements:0,pageNum:1,pageSize:20,showSpin:!1,showDrawer:!1,userType:"-1",summationList:[{title:this.tFn("subtotalOfDepositAmount"),value:"0.00"},{title:this.tFn("totalDepositAmount"),value:"0.00"}],modal1:!1}},methods:{tFn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$t("fundManager.".concat(t),e)},sum:function(t){var e=0;return e+=+t.depositMoney||0,e+=+t.depositDiscount||0,e+=+t.otherDiscount||0},query:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.showSpin=!0;var a=this.minMoney,s=this.maxMoney,n=this.userName,i=this.status,o=this.time,l=this.pageSize,r=this.manualNo,u={startTime:this.$utils.formatDate(o[0],"YYYY-MM-DD")+" 00:00:00",endTime:this.$utils.formatDate(o[1],"YYYY-MM-DD")+" 23:59:59",page:e,size:l};a&&(u.minMoney=(100*a).toFixed()),s&&(u.maxMoney=(100*s).toFixed()),r&&(u.depositNo=r),"all"!==i&&(u.subTradeType=String(i)),n&&(u.userAccountName=n),+this.userType>=0&&(u.isDemo=+this.userType),this.$get("/deposit/order/tob/queryManualPage",u,{"Content-type":"application/json;charset=UTF-8"}).then((function(e){var a=e||{},s=a.totalElements,n=a.content,i=a.page;t.dataList=n,t.totalElements=+s,t.pageNum=+i||1})).catch((function(e){t.dataList=[],t.totalElements=0,t.pageNum=1,t.$Message.error(e.message)})).finally((function(){t.showSpin=!1}))},search:function(){this.pageNum=1,this.query()},clear:function(){this.manualNo="",this.userName="",this.status="all",this.minMoney=null,this.maxMoney=null},pageSizeChange:function(t){this.pageSize=t,this.query()},excel:function(t){var e=this;if(!this.dataList.length||Boolean(+t)&&!this.totalElements)this.$Message.error("无可导出数据，请重新搜索后重试!");else{this.excelIng=!0;var a=this.minMoney,s=this.maxMoney,n=this.userName,i=this.status,o=this.time,l=this.pageSize,r=this.manualNo,u={startTime:this.$utils.formatDate(o[0],"YYYY-MM-DD")+" 00:00:00",endTime:this.$utils.formatDate(o[1],"YYYY-MM-DD")+" 23:59:59"};a&&(u.minMoney=(100*a).toFixed()),s&&(u.maxMoney=(100*s).toFixed()),r&&(u.depositNo=r),"all"!==i&&(u.subTradeType=String(i)),n&&(u.userAccountName=n),+this.userType>=0&&(u.isDemo=+this.userType),+t||(u.page=this.pageNum,u.size=l),this.$download("/deposit/order/tob/exportManualOrder",u).then((function(){e.modal1=!0})).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.excelIng=!1}))}},handledoExcel:function(){this.$router.push("/exportRecord")}},mounted:function(){this.query()},filters:{time:function(t){return t.slice(0,19)},toFixed:function(t){return(t/100).toFixed(2)}},components:{drawer:Object(l.a)(o,s,[],!1,null,null,null).exports}},u=r,c=(a("4a8d"),Object(l.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"inmaneger"},[a("Form",{attrs:{inline:""}},[a("FormItem",[a("Select",{staticClass:"select",model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("Option",{attrs:{value:"all"}},[t._v(t._s(t._f("lang")("all")))]),a("Option",{attrs:{value:"102"}},[t._v(t._s(t.tFn("manualDeposit")))]),a("Option",{attrs:{value:"104"}},[t._v(t._s(t.tFn("negativeAmountReturnToZero")))]),a("Option",{attrs:{value:"105"}},[t._v(t._s(t.tFn("cancelWithdrawal")))]),a("Option",{attrs:{value:"116"}},[t._v(t._s(t.tFn("activityCash")))]),a("Option",{attrs:{value:"106"}},[t._v(t._s(t.tFn("other")))])],1)],1),a("FormItem",{attrs:{label:t.tFn("depositNoteNumber"),"label-width":70}},[a("Input",{attrs:{placeholder:t.tFn("depositNoteNumber")},model:{value:t.manualNo,callback:function(e){t.manualNo=e},expression:"manualNo"}})],1),a("FormItem",{attrs:{label:t.tFn("depositAccount"),"label-width":70}},[a("Input",{attrs:{placeholder:t.tFn("depositAccount")},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}},[a("Select",{staticStyle:{width:"80px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:t.userType,callback:function(e){t.userType=e},expression:"userType"}},[a("Option",{attrs:{value:"-1"}},[t._v(t._s(t._f("lang")("all")))]),a("Option",{attrs:{value:"0"}},[t._v(t._s(t._f("lang")("official")))]),a("Option",{attrs:{value:"2"}},[t._v(t._s(t._f("lang")("test")))])],1)],1)],1),a("FormItem",{attrs:{label:t.tFn("deposits"),"label-width":70}},[a("InputNumber",{attrs:{min:0,placeholder:t.tFn("minimumAmount")},model:{value:t.minMoney,callback:function(e){t.minMoney=e},expression:"minMoney"}})],1),a("FormItem",[a("span",[t._v("-")])]),a("FormItem",[a("InputNumber",{attrs:{min:0,placeholder:t.tFn("maximumAmount")},model:{value:t.maxMoney,callback:function(e){t.maxMoney=e},expression:"maxMoney"}})],1),a("FormItem",[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary",icon:"md-search"},on:{click:function(e){return t.search()}}},[t._v(t._s(t._f("lang")("search")))])],1),a("FormItem",[a("Dropdown",{attrs:{placement:"bottom-start"},on:{"on-click":t.excel}},[a("Button",{attrs:{type:"primary",loading:t.excelIng},on:{"on-click":function(e){return t.excel(0)}}},[t._v(" "+t._s(t.tFn("exportExcel"))+" "),a("Icon",{attrs:{type:"ios-arrow-down"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"0",disabled:t.excelIng}},[t._v(t._s(t.tFn("currentPageData")))]),a("DropdownItem",{attrs:{name:"1",disabled:t.excelIng}},[t._v(t._s(t.tFn("allData")))])],1)],1)],1),a("FormItem",[a("Button",{on:{click:function(e){return t.clear()}}},[t._v(t._s(t._f("lang")("clearSearch")))])],1)],1),a("m-table",{attrs:{columns:t.columns,data:t.dataList,size:"small"},scopedSlots:t._u([{key:"user",fn:function(e){var s=e.row;return[a("ul",[a("li",[a("span",[t._v(t._s(t.tFn("depositNoteNumber")))]),t._v(t._s(s.depositNo))]),a("li",[a("span",[t._v(t._s(t.tFn("accountName")))]),a("span",{staticClass:"name"},[t._v(t._s(s.userAccountName))]),a("Button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.$utils.copy(s.userAccountName)}}},[t._v(t._s(t._f("lang")("copy")))]),2==+s.isDemo?a("span",{staticStyle:{color:"red"}},[t._v("【"+t._s(t.$t("testAccount"))+"】")]):t._e()],1),a("li",[a("span",[t._v(t._s(t.tFn("directAgent")))]),t._v(t._s(s.highUserAccountName))])])]}},{key:"money",fn:function(e){var s=e.row;return[a("ul",[a("li",[a("span",[t._v(t._s(t.tFn("deposits")))]),t._v(t._s(t._f("toFixed")(s.depositMoney)))])])]}},{key:"status",fn:function(e){var s=e.row;return[a("ul",[a("li",[a("span",[t._v(t._s(t.tFn("depositType")))]),t._v(t._s(t.typeList[s.subTradeType]))]),a("li",{staticClass:"remark"},[a("span",[t._v(t._s(t._f("lang")("remark")))]),a("Poptip",{attrs:{title:t.$t("remark"),placement:"right"}},[a("div",{staticClass:"text"},[t._v(t._s(s.remark))]),a("div",{attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(s.remark)+" ")])])],1)])]}},{key:"time",fn:function(e){var s=e.row;return[a("ul",[a("li",[a("span",[t._v(t._s(t._f("lang")("operation")))]),t._v(t._s(t._f("time")(s.createTime)))]),a("li",[a("span",[t._v(t._s(t._f("lang")("operator")))]),t._v(t._s(s.applyerName))])])]}}])}),t.showSpin?a("Spin",{attrs:{size:"large",fix:""}}):t._e(),a("m-page",{attrs:{total:t.totalElements,pageSize:t.pageSize,pageSizeOpts:[10,20,50,100,500]},on:{"on-change":t.query,"on-page-size-change":t.pageSizeChange},model:{value:t.pageNum,callback:function(e){t.pageNum=e},expression:"pageNum"}}),a("drawer",{model:{value:t.showDrawer,callback:function(e){t.showDrawer=e},expression:"showDrawer"}}),a("Modal",{attrs:{title:t.$t("proxy.warnTips"),"ok-text":t.$t("proxy.goNow"),"cancel-text":t.$t("proxy.stayPage")},on:{"on-ok":t.handledoExcel},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("p",[t._v(t._s(t.$t("proxy.exportingTip")))])])],1)}),[],!1,null,null,null));e.default=c.exports},b1a5:function(t,e,a){}}]);