(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-69aedcd1"],{"7b6f":function(e,t,a){"use strict";a.r(t);var n=(a("d3b7"),a("b680"),{data:function(){return{loading:!1,list:[{ratio:60,maxBalancePercent:35,minBalancePercent:10},{ratio:40,maxBalancePercent:50,minBalancePercent:35}]}},methods:{getGrabSet:function(){var e=this;this.loading=!0,this.$get("platform/grabConfig/tob/getList").then((function(t){t.length&&(t[0].ratio=+(t[0].ratio/100).toFixed(0),t[0].maxBalancePercent=+(t[0].maxBalancePercent/100).toFixed(0),t[0].minBalancePercent=+(t[0].minBalancePercent/100).toFixed(0),t[1].ratio=+(t[1].ratio/100).toFixed(0),t[1].maxBalancePercent=+(t[1].maxBalancePercent/100).toFixed(0),t[1].minBalancePercent=+(t[1].minBalancePercent/100).toFixed(0),e.list=t)})).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.loading=!1}))},handleSet:function(){var e=this,t=JSON.parse(JSON.stringify(this.list));t[0].ratio+t[1].ratio===100&&t[0].ratio!==t[1].ratio?t[0].maxBalancePercent<=t[0].minBalancePercent||t[1].maxBalancePercent<=t[1].minBalancePercent?this.$Message.error(this.$t("grabSetErrorTips1")):(t[0].ratio=100*t[0].ratio,t[0].maxBalancePercent=100*t[0].maxBalancePercent,t[0].minBalancePercent=100*t[0].minBalancePercent,t[1].ratio=100*t[1].ratio,t[1].maxBalancePercent=100*t[1].maxBalancePercent,t[1].minBalancePercent=100*t[1].minBalancePercent,this.loading=!0,this.$post("platform/grabConfig/tob/update",t,{"Content-type":"application/json;charset=UTF-8"}).then((function(){e.$Message.success(e.$t("opSuccess")),e.getGrabSet()})).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.loading=!1}))):this.$Message.error(this.$t("grabSetErrorTips"))},resetDate:function(){if(this.list[0].id){var e=this.list[0].id,t=this.list[1].id;this.list=[{ratio:60,maxBalancePercent:35,minBalancePercent:10,id:e},{ratio:40,maxBalancePercent:50,minBalancePercent:35,id:t}]}else this.list=[{ratio:60,maxBalancePercent:35,minBalancePercent:10},{ratio:40,maxBalancePercent:50,minBalancePercent:35}]}},mounted:function(){this.getGrabSet()}}),r=n,i=(a("bf6b"),a("2877")),c=Object(i.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"grabSetWarp"},[a("div",{staticClass:"grabSet"},[a("table",{staticClass:"cmtable"},[a("tr",[a("td",[e._v(e._s(e.$t("Triggerprobability")))]),a("td",[e._v(e._s(e.$t("Matchorderbalance")))])]),e._l(e.list,(function(t,n){return a("tr",{key:n},[a("td",[a("InputNumber",{attrs:{max:100,min:0,formatter:function(e){return e+"%"},parser:function(e){return e.replace("%","")},"active-change":!1,precision:0},model:{value:t.ratio,callback:function(a){e.$set(t,"ratio",a)},expression:"i.ratio"}})],1),a("td",[a("InputNumber",{attrs:{max:100,min:0,formatter:function(e){return e+"%"},parser:function(e){return e.replace("%","")},"active-change":!1,precision:0},model:{value:t.minBalancePercent,callback:function(a){e.$set(t,"minBalancePercent",a)},expression:"i.minBalancePercent"}}),a("span",{staticStyle:{margin:"0 20px"}},[e._v("~")]),a("InputNumber",{attrs:{max:100,min:0,formatter:function(e){return e+"%"},parser:function(e){return e.replace("%","")},"active-change":!1,precision:0},model:{value:t.maxBalancePercent,callback:function(a){e.$set(t,"maxBalancePercent",a)},expression:"i.maxBalancePercent"}})],1)])}))],2),e.loading?a("Spin",{attrs:{size:"large",fix:""}}):e._e(),a("div",{staticStyle:{margin:"10px 0","margin-left":"400px"}},[a("Button",{attrs:{type:"primary"},on:{click:e.handleSet}},[e._v(e._s(e._f("lang")("confirm")))]),a("Button",{staticStyle:{"margin-left":"20px"},on:{click:e.resetDate}},[e._v(e._s(e._f("lang")("reset")))])],1)],1)])}),[],!1,null,null,null);t.default=c.exports},bf6b:function(e,t,a){"use strict";a("d348")},d348:function(e,t,a){}}]);