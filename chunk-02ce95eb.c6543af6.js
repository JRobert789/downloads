(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-02ce95eb"],{5939:function(t,e,a){"use strict";a("d394")},a8e2:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return u}));var n=a("3835"),s=(a("b680"),a("d36b")),r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.a.t("report.".concat(t),e)},i={shortcuts:[{ttext:s.a.t("fund.today"),code:"today",value:function(){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0);var e=new Date;return e.setHours(23),e.setMinutes(59),e.setSeconds(59),[new Date(t),e]}},{text:s.a.t("fund.yesterday"),code:"yesterday",value:function(){var t=new Date;t.setTime(t.getTime()-864e5),t.setHours(0),t.setMinutes(0),t.setSeconds(0);var e=new Date(t);return e.setHours(23),e.setMinutes(59),e.setSeconds(59),[t,e]}},{text:s.a.t("fund.thisweek"),code:"week",value:function(){var t=new Date,e=t.getDay()||7,a=new Date(t-864e5*(e-1));return a.setHours(0),a.setMinutes(0),a.setSeconds(0),[a,new Date]}},{text:s.a.t("fund.lastweek"),code:"lastWeek",value:function(){var t=new Date,e=t.getDay()||7,a=864e5,n=new Date(t-e*a),s=new Date(t-(e+6)*a);return s.setHours(0),s.setMinutes(0),s.setSeconds(0),n.setHours(23),n.setMinutes(59),n.setSeconds(59),[s,n]}},{text:s.a.t("fund.thismonth"),code:"month",value:function(){var t=new Date;t.setDate(1);var e=new Date(t);e.setHours(0),e.setMinutes(0),e.setSeconds(0);var a=new Date;return a.setHours(23),a.setMinutes(59),a.setSeconds(59),[e,a]}},{text:s.a.t("nearlySevenDays"),value:function(){var t=new Date,e=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setTime(e.getTime()-5184e5),[e,t]}},{text:s.a.t("nearly15Days"),value:function(){var t=new Date,e=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setTime(e.getTime()-12096e5),[e,t]}},{text:s.a.t("nearly30Days"),value:function(){var t=new Date,e=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setTime(e.getTime()-25056e5),[e,t]}}],disabledDate:function(t){return t&&t.valueOf()>Date.now()||t.valueOf()<Date.now()-15552e6}},o=(s.a.t("fund.today"),s.a.t("fund.yesterday"),s.a.t("fund.lastweek"),s.a.t("fund.thismonth"),s.a.t("fund.lastmonth"),s.a.t("nearlySevenDays"),s.a.t("nearly15Days"),s.a.t("nearly30Days"),s.a.t("fund.today"),s.a.t("fund.yesterday"),s.a.t("fund.last7"),s.a.t("fund.thismonth"),s.a.t("fund.lastmonth"),[{key:"0",name:r("decrease")},{key:"1",name:r("increase")}]);function u(t){var e,a=Object(n.a)(t,2),s=a[0],r=a[1];return s=Date.parse(s),e=(r=Date.parse(r))-s,e=Math.abs(e),Math.floor(e/864e5)>30}},ceb9:function(t,e,a){"use strict";a.r(e);var n=a("5530"),s=a("53ca"),r=(a("159b"),a("a15b"),a("d3b7"),a("d81d"),a("a8e2")),i={data:function(){return{loading:!1,dateOptions:this.$utils.genDateConfig(90),columns:[{type:"selection",width:60,align:"center"},{title:this.tfn("supervisorAccount"),slot:"username",align:"center"},{title:this.tfn("rewardAmount"),slot:"awardMoney",align:"center"},{title:this.tfn("condition"),slot:"condition",width:250,align:"center"},{title:this.tfn("status"),slot:"status",align:"center"},{title:this.tfn("time1"),slot:"drawTime",align:"center"},{title:this.tfn("time2"),slot:"grantTime;",align:"center"}],dataList:[],tabList:[],form:{date:[null,null],userType:"0",userName:"",timeType:"1",status:"5"},pageNo:1,pageSize:10,totalElements:0,dateDisabled:!0}},methods:{tfn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$t("depositReward.".concat(t),e)},batchProcessing:function(t){if(this.tabList&&this.tabList.length){var e=[];this.tabList.forEach((function(t){e.push(t.id)})),this.pass(e,t)}else this.$Message.warning(this.$t("proxyMark.pleaseSelectAtLeastOneOrder"))},selectHandle:function(t){this.tabList=t},cancel:function(){},pass:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;this.loading=!0,"object"==Object(s.a)(e)?e=e.join(","):"string"==typeof e&&(e=e),this.$post("/activity/cumulativeRewardRecord/tob/updateStatus",{ids:e,status:a}).then((function(){t.$Message.success(t.$t("opSuccess")),t.query()})).catch((function(e){t.$Message.error(e.message),t.loading=!1}))},pageChange:function(t){this.pageNo=t,this.query()},pageSizeChange:function(t){this.pageSize=t,this.query()},query:function(t){var e=this;this.pageNo=t||this.pageNo,this.loading=!0;var a=this.form,n=a.date,s=a.userName,r=a.timeType,i=a.status,o={page:this.pageNo,size:this.pageSize,username:s,timeType:r,status:5==i?"":i,beginTime:1!=r?this.$utils.formatDate(n[0],"YYYY-MM-DD hh:mm:ss"):"",endTime:1!=r?this.$utils.formatDate(n[1],"YYYY-MM-DD hh:mm:ss"):""};this.$get("/activity/cumulativeRewardRecord/tob/page",o).then((function(t){var a=t.content,n=t.totalElements;e.dataList=a.map((function(t){return 4!=+t.status&&(t._disabled=!0),t})),e.totalElements=+n})).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.loading=!1}))},clearDate:function(){this.form.userName="",this.form.status="5";var t=this.form;this.form=Object(n.a)(Object(n.a)({},t),{},{date:["",""]})},showStatus:function(t){var e=t.status;return 1==e?this.tfn("status1"):2==e?this.tfn("status2"):void 0},handleChange:function(t){1==t?(this.dateDisabled=!0,this.form.date=["",""]):(this.dateDisabled=!1,this.form.date=this.$utils.getTodayArr())},change:function(t){var e=t[0],a=this.$utils.formatDate(t[1],"YYYY-MM-DD")+" 23:59:59",s=[e,a];Object(r.c)(t)&&(s=[e,a=this.$utils.formatDate(new Date(new Date(e).getTime()+2592e6),"YYYY-MM-DD")+" 23:59:59"],this.$Message.info(this.$t("report.timeSpan"))),this.form=Object(n.a)(Object(n.a)({},this.form),{},{date:s})},showCondition:function(t){return 0==t.rechargeAmount&&0==t.completedOrderCount?this.tfn("addReWardTitle1")+t.spanOfControl+" ":0==t.rechargeAmount&&0!=t.completedOrderCount?this.tfn("addReWardTitle1")+t.spanOfControl+" "+this.tfn("addReWardTitle1_after")+this.tfn("addReWardTitle3")+" "+t.completedOrderCount:0==t.completedOrderCount&&0!=t.rechargeAmount?this.tfn("addReWardTitle1")+t.spanOfControl+" "+this.tfn("addReWardTitle1_after")+this.tfn("addReWardTitle2")+" "+this.$utils.toYuan(t.rechargeAmount):this.tfn("addReWardTitle1")+t.spanOfControl+" "+this.tfn("addReWardTitle1_after")+this.tfn("addReWardTitle2")+" "+this.$utils.toYuan(t.rechargeAmount)+" "+this.tfn("addReWardTitle1_after")+this.tfn("addReWardTitle3")+t.completedOrderCount+" "+this.tfn("addReWardTitle3_after")}},mounted:function(){this.clearDate(),this.query()}},o=i,u=(a("5939"),a("2877")),c=Object(u.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"review__list"},[a("Form",{attrs:{model:t.form,inline:""}},[a("Select",{staticStyle:{width:"120px","margin-left":"6px"},on:{"on-change":t.handleChange},model:{value:t.form.timeType,callback:function(e){t.$set(t.form,"timeType",e)},expression:"form.timeType"}},[a("Option",{attrs:{value:"1"}},[t._v(t._s(t.tfn("time0")))]),a("Option",{attrs:{value:"2"}},[t._v(t._s(t.tfn("time1")))]),a("Option",{attrs:{value:"3"}},[t._v(t._s(t.tfn("time2")))])],1),a("FormItem",{attrs:{prop:"time"}},[a("DatePicker",{staticStyle:{width:"320px"},attrs:{type:"datetimerange",editable:!1,clearable:!1,disabled:t.dateDisabled},on:{"on-change":t.change},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),a("FormItem",{attrs:{prop:"status"}},[a("span",[t._v(t._s(t.$t("depositReward.status")))]),a("Select",{staticStyle:{width:"120px","margin-left":"6px"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[a("Option",{attrs:{value:"5"}},[t._v(t._s(t.tfn("time0")))]),a("Option",{attrs:{value:"2"}},[t._v(t._s(t.tfn("status2")))]),a("Option",{attrs:{value:"1"}},[t._v(t._s(t.tfn("status1")))]),a("Option",{attrs:{value:"4"}},[t._v(t._s(t.tfn("status3")))])],1)],1),a("FormItem",{attrs:{prop:"userName"}},[a("Input",{scopedSlots:t._u([{key:"prepend",fn:function(){return[t._v(" "+t._s(t.tfn("supervisorAccount"))+" ")]},proxy:!0}]),model:{value:t.form.userName,callback:function(e){t.$set(t.form,"userName",e)},expression:"form.userName"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary",icon:"md-search"},on:{click:function(e){return t.query(1)}}},[t._v(t._s(t._f("lang")("rebate.search")))])],1),a("FormItem",[a("Button",{on:{click:function(e){return t.clearDate()}}},[t._v(t._s(t.tfn("clear")))])],1),a("FormItem",[t.pageauthoritys.reviewPermissions?a("Poptip",{attrs:{transfer:"",confirm:"",title:t.$t("proxyMark.didYouPassThisAudit")},on:{"on-ok":function(e){return t.batchProcessing(1)}}},[a("Button",{attrs:{type:"primary"}},[t._v(t._s(t.$t("activeConfiguration.batchPass")))])],1):t._e()],1),a("FormItem",[t.pageauthoritys.reviewPermissions?a("Poptip",{attrs:{transfer:"",confirm:"",title:t.$t("proxyMark.didYourejectThisAudit")},on:{"on-ok":function(e){return t.batchProcessing(2)}}},[a("Button",{attrs:{type:"error"}},[t._v(t._s(t.$t("activeConfiguration.bulkRejection")))])],1):t._e()],1)],1),a("div",{staticClass:"yc_tip"},[t._v(t._s(t.tfn("abnormalTips")))]),a("Table",{attrs:{border:"",columns:t.columns,data:t.dataList,"no-data-text":t.$t("rebate.noData")},on:{"on-selection-change":t.selectHandle},scopedSlots:t._u([{key:"awardMoney",fn:function(e){var n=e.row;return[a("span",[t._v(t._s((n.awardMoney/100).toFixed(2)))])]}},{key:"username",fn:function(e){var n=e.row;return[a("span",[t._v(" "+t._s(n.username)+" "),a("Tooltip",{attrs:{transfer:"",content:t.tfn("accountException"),placement:"top"}},[n.exFlag?a("Icon",{attrs:{type:"md-alert",color:"#ed4014"}}):t._e()],1)],1)]}},{key:"condition",fn:function(e){var n=e.row;return[a("div",{staticStyle:{"word-break":"keep-all"}},[t._v(t._s(t.showCondition(n)))])]}},{key:"status",fn:function(e){var n=e.row;return[4!=+n.status?[1==+n.status?[a("span",{staticStyle:{color:"#19be6b"}},[t._v(t._s(t.tfn("passed")))])]:t._e(),2==+n.status?[a("span",{staticStyle:{color:"#ed4014"}},[t._v(t._s(t.tfn("rejected")))])]:t._e()]:[[a("Poptip",{attrs:{transfer:"",confirm:"",title:t.tfn("didYouPassThisOrder")},on:{"on-ok":function(e){return t.pass(n.id,1)}}},[a("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"}},[t._v(t._s(t.tfn("pass")))])],1),a("Poptip",{attrs:{transfer:"",confirm:"",title:t.tfn("declineThisOrder")},on:{"on-ok":function(e){return t.pass(n.id,2)}}},[a("Button",[t._v(t._s(t.tfn("reject")))])],1)]]]}},{key:"drawTime",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.drawTime||"-"))])]}},{key:"grantTime;",fn:function(e){var n=e.row;return[a("span",[t._v(t._s(n.grantTime||"-"))])]}}])}),a("m-page",{attrs:{total:t.totalElements,pageSize:t.pageSize,pageSizeOpts:[10,20,50,100]},on:{"on-change":t.pageChange,"on-page-size-change":t.pageSizeChange},model:{value:t.pageNo,callback:function(e){t.pageNo=e},expression:"pageNo"}}),t.loading?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)}),[],!1,null,null,null);e.default=c.exports},d394:function(t,e,a){}}]);