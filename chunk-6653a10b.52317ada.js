(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6653a10b"],{"3ed1":function(t,e,n){"use strict";n.r(e);var a=n("5530"),s=(n("159b"),n("a15b"),n("d3b7"),n("d81d"),n("a8e2")),r={data:function(){return{loading:!1,dateOptions:this.$utils.genDateConfig(90),columns:[{type:"selection",width:60,align:"center"},{title:this.tfn("supervisorAccount"),key:"highUserName",align:"center"},{title:this.tfn("firstDepositReward"),slot:"firstReward",align:"center"},{title:this.tfn("player"),slot:"userName",align:"center"},{title:this.tfn("firstDepositAmount"),slot:"firstAmount",align:"center"},{title:this.tfn("depositTime"),key:"createTime",align:"center"},{title:this.$t("operation"),width:240,slot:"operation",align:"center"},{title:this.tfn("operateTime"),slot:"updateTime",align:"center"},{title:this.tfn("auditOperator"),slot:"updateBy",align:"center"}],dataList:[],tabList:[],form:{date:[null,null],userType:"0",userName:"",status:"-1"},pageNo:1,pageSize:10,totalElements:0}},methods:{tfn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$t("firstDepositReward.".concat(t),e)},cancel:function(){},pageChange:function(t){this.pageNo=t,this.query()},pageSizeChange:function(t){this.pageSize=t,this.query()},batchProcessing:function(t){if(this.tabList&&this.tabList.length){var e=[];this.tabList.forEach((function(t){e.push(t.id)}));var n=e.join(",");this.pass(n,t)}else this.$Message.warning(this.tfn("pleaseSelectAtLeastOneOrder"))},pass:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;this.loading=!0,this.$post("/first/rewardRecord/tob/batchUpdateSataus",{id:e,status:n}).then((function(){t.$Message.success(t.$t("opSuccess")),t.query()})).catch((function(e){t.$Message.error(e.message),t.loading=!1}))},query:function(){var t=this;this.loading=!0;var e=this.form,n=e.date,a=e.userType,s=e.userName,r=e.status,o={page:this.pageNo,size:this.pageSize,beginTime:this.$utils.formatDate(n[0],"YYYY-MM-DD hh:mm:ss"),endTime:this.$utils.formatDate(n[1],"YYYY-MM-DD hh:mm:ss")};"-1"!==r&&(o.status=r),s&&"0"===a&&(o.userName=s),s&&"1"===a&&(o.highUserName=s),this.$get("/first/rewardRecord/tob/page",o).then((function(e){var n=e.content,a=e.totalElements;n&&n.length?t.dataList=n.map((function(t){return 0!=+t.status&&(t._disabled=!0),t})):t.dataList=[],t.totalElements=+a})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.loading=!1}))},clearDate:function(){var t=this.$utils.getTodayArr(),e=t[0],n=t[1];this.form.userName="",this.form.status="-1",this.form.userType="0";var s=this.form;this.form=Object(a.a)(Object(a.a)({},s),{},{date:[e,n]})},selectHandle:function(t){this.tabList=t},change:function(t){var e=t[0],n=this.$utils.formatDate(t[1],"YYYY-MM-DD")+" 23:59:59",r=[e,n];Object(s.c)(t)&&(r=[e,n=this.$utils.formatDate(new Date(new Date(e).getTime()+2592e6),"YYYY-MM-DD")+" 23:59:59"],this.$Message.info(this.$t("report.timeSpan"))),this.form=Object(a.a)(Object(a.a)({},this.form),{},{date:r})}},mounted:function(){this.clearDate(),this.query()}},o=r,i=(n("59ac"),n("2877")),u=Object(i.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"review__list"},[n("Form",{attrs:{model:t.form,inline:""}},[n("FormItem",{attrs:{label:t.$t("rebate.dateRange"),"label-width":100,prop:"time"}},[n("DatePicker",{staticStyle:{width:"320px"},attrs:{type:"datetimerange",editable:!1,options:t.dateOptions,clearable:!1},on:{"on-change":t.change},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),n("FormItem",{attrs:{prop:"userName"}},[n("Input",{scopedSlots:t._u([{key:"prepend",fn:function(){return[n("Select",{staticStyle:{width:"160px"},model:{value:t.form.userType,callback:function(e){t.$set(t.form,"userType",e)},expression:"form.userType"}},[n("Option",{attrs:{value:"0"}},[t._v(t._s(t.tfn("userAccount")))]),n("Option",{attrs:{value:"1"}},[t._v(t._s(t.tfn("supervisorAccount")))])],1)]},proxy:!0}]),model:{value:t.form.userName,callback:function(e){t.$set(t.form,"userName",e)},expression:"form.userName"}})],1),n("FormItem",{attrs:{label:t.$t("operation"),prop:"userName","label-width":60}},[n("Select",{staticStyle:{width:"120px","margin-left":"6px"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[n("Option",{attrs:{value:"-1"}},[t._v(t._s(t.$t("all")))]),n("Option",{attrs:{value:"0"}},[t._v(t._s(t.tfn("unconfirmed")))]),n("Option",{attrs:{value:"1"}},[t._v(t._s(t.tfn("pass")))]),n("Option",{attrs:{value:"2"}},[t._v(t._s(t.tfn("reject")))])],1)],1),n("FormItem",[n("Button",{attrs:{type:"primary",icon:"md-search"},on:{click:function(e){return t.query()}}},[t._v(t._s(t._f("lang")("rebate.search")))])],1),n("FormItem",[n("Button",{on:{click:function(e){return t.clearDate()}}},[t._v(t._s(t.tfn("clear")))])],1),t.pageauthoritys.auditPermissions?n("FormItem",[n("Poptip",{attrs:{transfer:"",confirm:"",title:t.tfn("isItThroughTheSelectedOrder")},on:{"on-ok":function(e){return t.batchProcessing(1)},"on-cancel":t.cancel}},[n("Button",{attrs:{type:"primary"}},[t._v(t._s(t.tfn("batchPass")))])],1)],1):t._e(),t.pageauthoritys.auditPermissions?n("FormItem",[n("Poptip",{attrs:{transfer:"",confirm:"",title:t.tfn("rejectTheSelectedOrder")},on:{"on-ok":function(e){return t.batchProcessing(2)},"on-cancel":t.cancel}},[n("Button",{attrs:{type:"error"}},[t._v(t._s(t.tfn("bulkRejection")))])],1)],1):t._e()],1),n("div",{staticClass:"yc_tip"},[t._v(t._s(t.tfn("abnormalAccountNumber")))]),n("Table",{attrs:{border:"",columns:t.columns,data:t.dataList,"no-data-text":t.$t("rebate.noData")},on:{"on-selection-change":t.selectHandle},scopedSlots:t._u([{key:"firstReward",fn:function(e){var a=e.row;return[n("span",[t._v(t._s((a.firstReward/100).toFixed(2)))])]}},{key:"userName",fn:function(e){var a=e.row;return[n("span",[t._v(" "+t._s(a.userName)+" "),n("Tooltip",{attrs:{transfer:"",content:t.tfn("accountException"),placement:"top"}},[a.exFlag?n("Icon",{attrs:{type:"md-alert",color:"#ed4014"}}):t._e()],1)],1)]}},{key:"firstAmount",fn:function(e){var a=e.row;return[n("span",[t._v(t._s((a.firstAmount/100).toFixed(2)))])]}},{key:"operation",fn:function(e){var a=e.row;return[0!=+a.status?[1==+a.status?[n("span",{staticStyle:{color:"#19be6b"}},[t._v(t._s(t.tfn("passed")))])]:t._e(),2==+a.status?[n("span",{staticStyle:{color:"#ed4014"}},[t._v(t._s(t.tfn("rejected")))])]:t._e()]:[t.pageauthoritys.auditPermissions?[n("Poptip",{attrs:{transfer:"",confirm:"",title:t.tfn("didYouPassThisOrder")},on:{"on-ok":function(e){return t.pass(a.id,1)},"on-cancel":t.cancel}},[n("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"}},[t._v(t._s(t.tfn("pass")))])],1),n("Poptip",{attrs:{transfer:"",confirm:"",title:t.tfn("declineThisOrder")},on:{"on-ok":function(e){return t.pass(a.id,2)},"on-cancel":t.cancel}},[n("Button",[t._v(t._s(t.tfn("reject")))])],1)]:t._e()]]}},{key:"updateTime",fn:function(e){var a=e.row;return 0!=+a.status?[n("span",[t._v(t._s(a.updateTime))])]:void 0}},{key:"updateBy",fn:function(e){var a=e.row;return 0!=+a.status?[n("span",[t._v(t._s(a.updateBy))])]:void 0}}],null,!0)}),n("m-page",{attrs:{total:t.totalElements,pageSize:t.pageSize,pageSizeOpts:[10,20,50,100]},on:{"on-change":t.pageChange,"on-page-size-change":t.pageSizeChange},model:{value:t.pageNo,callback:function(e){t.pageNo=e},expression:"pageNo"}}),t.loading?n("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)}),[],!1,null,null,null);e.default=u.exports},"59ac":function(t,e,n){"use strict";n("ff33")},a8e2:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return u}));var a=n("3835"),s=(n("b680"),n("d36b")),r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.a.t("report.".concat(t),e)},o={shortcuts:[{ttext:s.a.t("fund.today"),code:"today",value:function(){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0);var e=new Date;return e.setHours(23),e.setMinutes(59),e.setSeconds(59),[new Date(t),e]}},{text:s.a.t("fund.yesterday"),code:"yesterday",value:function(){var t=new Date;t.setTime(t.getTime()-864e5),t.setHours(0),t.setMinutes(0),t.setSeconds(0);var e=new Date(t);return e.setHours(23),e.setMinutes(59),e.setSeconds(59),[t,e]}},{text:s.a.t("fund.thisweek"),code:"week",value:function(){var t=new Date,e=t.getDay()||7,n=new Date(t-864e5*(e-1));return n.setHours(0),n.setMinutes(0),n.setSeconds(0),[n,new Date]}},{text:s.a.t("fund.lastweek"),code:"lastWeek",value:function(){var t=new Date,e=t.getDay()||7,n=864e5,a=new Date(t-e*n),s=new Date(t-(e+6)*n);return s.setHours(0),s.setMinutes(0),s.setSeconds(0),a.setHours(23),a.setMinutes(59),a.setSeconds(59),[s,a]}},{text:s.a.t("fund.thismonth"),code:"month",value:function(){var t=new Date;t.setDate(1);var e=new Date(t);e.setHours(0),e.setMinutes(0),e.setSeconds(0);var n=new Date;return n.setHours(23),n.setMinutes(59),n.setSeconds(59),[e,n]}},{text:s.a.t("nearlySevenDays"),value:function(){var t=new Date,e=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setTime(e.getTime()-5184e5),[e,t]}},{text:s.a.t("nearly15Days"),value:function(){var t=new Date,e=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setTime(e.getTime()-12096e5),[e,t]}},{text:s.a.t("nearly30Days"),value:function(){var t=new Date,e=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setTime(e.getTime()-25056e5),[e,t]}}],disabledDate:function(t){return t&&t.valueOf()>Date.now()||t.valueOf()<Date.now()-15552e6}},i=(s.a.t("fund.today"),s.a.t("fund.yesterday"),s.a.t("fund.lastweek"),s.a.t("fund.thismonth"),s.a.t("fund.lastmonth"),s.a.t("nearlySevenDays"),s.a.t("nearly15Days"),s.a.t("nearly30Days"),s.a.t("fund.today"),s.a.t("fund.yesterday"),s.a.t("fund.last7"),s.a.t("fund.thismonth"),s.a.t("fund.lastmonth"),[{key:"0",name:r("decrease")},{key:"1",name:r("increase")}]);function u(t){var e,n=Object(a.a)(t,2),s=n[0],r=n[1];return s=Date.parse(s),e=(r=Date.parse(r))-s,e=Math.abs(e),Math.floor(e/864e5)>30}},ff33:function(t,e,n){}}]);