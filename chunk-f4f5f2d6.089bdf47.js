(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f4f5f2d6"],{9286:function(t,e,a){"use strict";a.r(e);var n=(a("d3b7"),a("d81d"),a("b680"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("RadioGroup",{attrs:{type:"button"},model:{value:t.activeTimeCode,callback:function(e){t.activeTimeCode=e},expression:"activeTimeCode"}},t._l(t.timeBtns,(function(e){return a("Radio",{key:e.code,attrs:{label:e.code}},[t._v(t._s(e.text))])})),1)}),s=(a("7db0"),a("a8e2")),o={props:{value:String},data:function(){return{timeBtns:[{code:"yesterday",text:this.$t("yesterday")},{code:"today",text:this.$t("today")},{code:"week",text:this.$t("thisWeek")},{code:"lastWeek",text:this.$t("lastWeek")},{code:"month",text:this.$t("thisMonth")}],activeTimeCode:"today"}},mounted:function(){this.activeTimeCode=this.value},watch:{activeTimeCode:{handler:function(t){t&&this.$emit("input",t);var e=s.a.shortcuts.find((function(e){return e.code===t}));e.value&&this.$emit("onChange",e.value())},immediate:!0}}},i=o,r=a("2877"),u={name:"dataRanking",data:function(){return{activeDateCode:"today",username:"",dates:this.$utils.getTodayArr(),dateOptions:this.$utils.genDateConfig(90),columns:[{key:"index",title:this.tfn("rank")},{key:"username",title:this.tfn("accountName")},{key:"rechargeAmount",title:this.tfn("rechargeAmount"),sortable:"custom"},{key:"balance",title:this.tfn("balance"),sortable:"custom"},{key:"withdrawAmount",title:this.tfn("withdrawalAmount"),sortable:"custom"},{key:"completedOrderCount",title:this.tfn("orderCount"),sortable:"custom"},{key:"completedOrderAmount",title:this.tfn("orderAmount"),sortable:"custom"},{key:"commissionAmount",title:this.tfn("commission"),sortable:"custom"},{key:"teamCommissionAmount",title:this.tfn("teamCommission"),sortable:"custom"},{key:"rechargeWithdrawDiff",title:this.tfn("rechargeWithdrawalDifference"),sortable:"custom"}],loading:!1,dataList:[],reRenderTable:Math.random()}},components:{dateBtns:Object(r.a)(i,n,[],!1,null,null,null).exports},methods:{tfn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$t("report.".concat(t),e)},changeDate:function(t){this.dates=t,this.dataList=[],this.getData()},pageSizeChange:function(t){this.size=t},onSortChange:function(t){var e=t.key,a=t.order;this.dataList=[],this.getData(e,a)},searchHandler:function(){this.dataList=[],this.reRenderTable=Math.random(),this.getData()},getData:function(t,e){var a=this;if(!this.loading){this.loading=!0;var n={beginTime:this.$utils.formatDate(this.dates[0],"YYYY-MM-DD")+" 00:00:00",endTime:this.$utils.formatDate(this.dates[1],"YYYY-MM-DD")+" 23:59:59"};t&&e&&(n[e]=t),this.username&&(n.username=this.username),this.$get("/report/tob/getReportRank",n).then((function(t){t=t||[],a.dataList=t.map((function(t,e){t.index=e+1;return["balance","commissionAmount","completedOrderAmount","rechargeAmount","rechargeWithdrawDiff","teamCommissionAmount","withdrawAmount"].forEach((function(e){t[e]=(t[e]/100).toFixed(2)})),t}))})).catch((function(t){a.$Message.error(t.message)})).finally((function(){a.loading=!1}))}}}},c=u,d=(a("cbbf"),Object(r.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("m-layout",{staticClass:"dataRanking_wrap",attrs:{nav:[{path:"/dataRanking",name:"数据排行"}]}},[a("dateBtns",{on:{onChange:t.changeDate},model:{value:t.activeDateCode,callback:function(e){t.activeDateCode=e},expression:"activeDateCode"}}),a("div",{staticClass:"search"},[a("div",{staticClass:"search_item"},[a("span",[t._v(t._s(t.tfn("accountName"))+" ")]),a("Input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:t.tfn("accountName")},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("div",{staticClass:"search_item"},[a("span",[t._v(t._s(t._f("lang")("time"))+" ")]),a("DatePicker",{attrs:{type:"daterange",options:t.dateOptions,placement:"bottom-start"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}})],1),a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:t.searchHandler}},[t._v(t._s(t._f("lang")("search")))])],1),a("div",{staticClass:"label"},[a("Table",{key:t.reRenderTable,attrs:{columns:t.columns,data:t.dataList},on:{"on-sort-change":t.onSortChange}})],1),t.loading?a("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)}),[],!1,null,null,null));e.default=d.exports},a8e2:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return u}));var n=a("3835"),s=(a("b680"),a("d36b")),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.a.t("report.".concat(t),e)},i={shortcuts:[{ttext:s.a.t("fund.today"),code:"today",value:function(){var t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0);var e=new Date;return e.setHours(23),e.setMinutes(59),e.setSeconds(59),[new Date(t),e]}},{text:s.a.t("fund.yesterday"),code:"yesterday",value:function(){var t=new Date;t.setTime(t.getTime()-864e5),t.setHours(0),t.setMinutes(0),t.setSeconds(0);var e=new Date(t);return e.setHours(23),e.setMinutes(59),e.setSeconds(59),[t,e]}},{text:s.a.t("fund.thisweek"),code:"week",value:function(){var t=new Date,e=t.getDay()||7,a=new Date(t-864e5*(e-1));return a.setHours(0),a.setMinutes(0),a.setSeconds(0),[a,new Date]}},{text:s.a.t("fund.lastweek"),code:"lastWeek",value:function(){var t=new Date,e=t.getDay()||7,a=864e5,n=new Date(t-e*a),s=new Date(t-(e+6)*a);return s.setHours(0),s.setMinutes(0),s.setSeconds(0),n.setHours(23),n.setMinutes(59),n.setSeconds(59),[s,n]}},{text:s.a.t("fund.thismonth"),code:"month",value:function(){var t=new Date;t.setDate(1);var e=new Date(t);e.setHours(0),e.setMinutes(0),e.setSeconds(0);var a=new Date;return a.setHours(23),a.setMinutes(59),a.setSeconds(59),[e,a]}},{text:s.a.t("nearlySevenDays"),value:function(){var t=new Date,e=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setTime(e.getTime()-5184e5),[e,t]}},{text:s.a.t("nearly15Days"),value:function(){var t=new Date,e=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setTime(e.getTime()-12096e5),[e,t]}},{text:s.a.t("nearly30Days"),value:function(){var t=new Date,e=new Date;return t.setHours(23),t.setMinutes(59),t.setSeconds(59),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setTime(e.getTime()-25056e5),[e,t]}}],disabledDate:function(t){return t&&t.valueOf()>Date.now()||t.valueOf()<Date.now()-15552e6}},r=(s.a.t("fund.today"),s.a.t("fund.yesterday"),s.a.t("fund.lastweek"),s.a.t("fund.thismonth"),s.a.t("fund.lastmonth"),s.a.t("nearlySevenDays"),s.a.t("nearly15Days"),s.a.t("nearly30Days"),s.a.t("fund.today"),s.a.t("fund.yesterday"),s.a.t("fund.last7"),s.a.t("fund.thismonth"),s.a.t("fund.lastmonth"),[{key:"0",name:o("decrease")},{key:"1",name:o("increase")}]);function u(t){var e,a=Object(n.a)(t,2),s=a[0],o=a[1];return s=Date.parse(s),e=(o=Date.parse(o))-s,e=Math.abs(e),Math.floor(e/864e5)>30}},a9a8:function(t,e,a){},cbbf:function(t,e,a){"use strict";a("a9a8")}}]);