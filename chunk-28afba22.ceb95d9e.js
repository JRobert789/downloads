(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-28afba22"],{"86d7":function(e,t,a){"use strict";a("b7d3")},b7d3:function(e,t,a){},ee7d:function(e,t,a){"use strict";a.r(t);var s=a("3835"),r=a("5530"),i=(a("d3b7"),a("ac1f"),a("5319"),a("1276"),a("b680"),a("d36b")),n=[{key:"teamBetAmount",name:"团队总余额"},{key:"proxyBetAmount",name:"团队总充值"},{key:"subBetAmount",name:"团队总提现"},{key:"bonus",name:"团队佣金"},{key:"proxyBonusAmount",name:"团队流水"},{key:"selfBonusAmount",name:"团队人数"}],o=[{title:i.a.t("rebate.playerUsername"),key:"userName"},{title:i.a.t("rebate.levels"),key:"rankLevel"},{title:i.a.t("rebate.totalTeamBalance"),key:"teamAmount",count:function(e){return((+e||0)/100).toFixed(2)}},{title:i.a.t("rebate.teamTotalDeposit"),key:"teamRecharge",count:function(e){return((+e||0)/100).toFixed(2)}},{title:i.a.t("rebate.teamTotalWithdrawal"),key:"teamWithdraw",count:function(e){return((+e||0)/100).toFixed(2)}},{title:i.a.t("rebate.totalTeamCommission"),key:"teamBonus",count:function(e){return((+e||0)/100).toFixed(2)}},{title:i.a.t("rebate.teamFlow"),key:"teamStream",count:function(e){return((+e||0)/100).toFixed(2)}},{title:i.a.t("rebate.numberOfTeam"),key:"teamNum"},{title:i.a.t("rebate.newTeamMember"),key:"teamNewNum"},{title:i.a.t("rebate.teamFirstDepositNumber"),key:"teamFistRechargeNum"},{title:i.a.t("rebate.numberOfActiveTeamMembers"),key:"teamBehaviorNum"},{title:i.a.t("rebate.numberOfDirectUsers"),key:"subNum"}],m={data:function(){return{showDrawer:!1,excelloading:!1,dateOptions:this.$utils.genDateConfig(90),orderField_s:n,columns:o,gameList:[],dataList:[],bonus:0,levelPath:[],levelMap:{},formItem:{date:[null,null],userName:""},gameType:"",toUserId:"",proxyName:"",showSpin:!1,pageNo:1,pageSize:10,totalElements:0,lastDate:[null,null]}},methods:{query:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(""!==this.formItem.userName){this.showSpin=!0,t&&(this.pageNo=1),a&&(this.proxyName="",this.toUserId="");var s=this.formItem,r=s.date,i=s.userName,n={page:this.pageNo,limit:this.pageSize,gameType:this.gameType,proxyName:this.proxyName,toUserId:this.toUserId,userName:i,startTime:this.$utils.formatDate(r[0],"YYYY-MM-DD hh:mm:ss"),endTime:this.$utils.formatDate(r[1],"YYYY-MM-DD hh:mm:ss")};this.$post("/user/comminssion/tob/getCommissionBonus",n).then((function(t){var a=t.sumBonus,s=t.bonus,r=t.bonus.totalElements;e.bonus=a,e.dataList=[s],e.totalElements=+r})).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.showSpin=!1}))}else this.$Message.error(this.$t("rebate.pleaseEnterTheUserNameBeforeQueryingTheData"))},searchNext:function(e){var t=e.userName,a=e.toUserId;this.proxyName=t,this.toUserId=a,this.levelMap[t]=a;var s=this.formItem;s.userName&&(this.formItem=Object(r.a)(Object(r.a)({},s),{},{userName:""})),this.query(!0)},goUp:function(){var e=this.levelPath,t=e.length;if(t>1){var a=e[t-2].loginName;this.proxyName=a,this.toUserId=this.levelMap[a],this.query(!0)}else this.query(!0,!0)},loadexcel:function(){var e=this;if(this.dataList.length){var t=this.formItem,a=t.date,s=t.userName,r={excelType:0,gameType:this.gameType,userName:s,startTime:this.$utils.formatDate(a[0],"YYYY-MM-DD hh:mm:ss"),endTime:this.$utils.formatDate(a[1],"YYYY-MM-DD hh:mm:ss")};this.excelloading=!0,this.$download("/user/activity/exportBonusExcel",r).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.excelloading=!1}))}else this.$Message.error(this.$t("rebate.noDataExport"))},pageChange:function(e){this.pageNo=e,this.query()},pageSizeChange:function(e){this.pageSize=e,this.query(!0)},clearDate:function(){var e=this.$utils.getTodayArr(),t=e[0],a=e[1],s=this.formItem;this.formItem=Object(r.a)(Object(r.a)({},s),{},{date:[t,a]})},change:function(e,t){var a=Object(s.a)(e,2),i=a[0],n=a[1],o=this.$utils.formatDate(this.lastDate[0])||"1990-01-01 00:00:00",m=this.$utils.formatDate(this.lastDate[1])||"1990-01-01 23:59:59",l=this.formItem,u=[];"date"===t&&(u.push(i.replace("00:00:00",o.split(" ")[1])),u.push(n.replace("00:00:00",m.split(" ")[1])),this.formItem=Object(r.a)(Object(r.a)({},l),{},{date:u})),this.lastDate=this.formItem.date}},mounted:function(){this.clearDate()}},l=m,u=(a("86d7"),a("2877")),c=Object(u.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Form",{attrs:{model:e.formItem,inline:""}},[a("FormItem",{attrs:{label:e.$t("rebate.dateRange"),"label-width":120,prop:"time"}},[a("DatePicker",{staticStyle:{width:"320px"},attrs:{type:"datetimerange",editable:!1,options:e.dateOptions,clearable:!1},on:{"on-change":e.change},model:{value:e.formItem.date,callback:function(t){e.$set(e.formItem,"date",t)},expression:"formItem.date"}})],1),a("FormItem",{attrs:{label:e.$t("rebate.playerUsername"),prop:"userName","label-width":150}},[a("Input",{staticClass:"operationlog-input",attrs:{placeholder:e.$t("rebate.pleaseEnterUserName")},model:{value:e.formItem.userName,callback:function(t){e.$set(e.formItem,"userName",t)},expression:"formItem.userName"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary",icon:"md-search"},on:{click:function(t){return e.query()}}},[e._v(e._s(e._f("lang")("rebate.search")))])],1),e.levelPath.length?a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.goUp()}}},[e._v(e._s(e._f("lang")("rebate.return")))])],1):e._e()],1),a("div",{staticClass:"rebate__path"},[e.levelPath.length?a("div",{staticClass:"path"},[e._v(" "+e._s(e._f("lang")("rebate.hierarchicalPath"))+" "),a("span",{on:{click:function(t){return e.query(!0,!0)}}},[e._v(e._s(e._f("lang")("rebate.default")))]),e._l(e.levelPath,(function(t){return[e._v(" / "),a("span",{key:t.loginName,on:{click:function(a){e.proxyName=t.loginName,e.toUserId=e.levelMap[t.loginName],e.query(!0)}}},[e._v(e._s(t.loginName))])]}))],2):e._e()]),a("m-table",{attrs:{border:"",columns:e.columns,data:e.dataList,"no-data-text":e.$t("rebate.noData")},scopedSlots:e._u([{key:"option",fn:function(t){var s=t.row;return[a("a",{on:{click:function(t){return e.searchNext(s)}}},[e._v(e._s(e._f("lang")("rebate.check")))])]}}])}),a("p",{staticStyle:{marginTop:"20px"}},[e._v(e._s(e._f("lang")("rebate.commissionHint1")))]),a("p",[e._v(e._s(e._f("lang")("rebate.commissionHint2")))]),e.showSpin?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)}),[],!1,null,null,null);t.default=c.exports}}]);