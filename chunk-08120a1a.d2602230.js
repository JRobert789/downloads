(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-08120a1a"],{"08cdf":function(t,e,a){},d435:function(t,e,a){"use strict";a.r(e);var s=a("3835"),l=(a("ac1f"),a("5319"),a("1276"),a("b64b"),a("159b"),a("99af"),a("d3b7"),a("d81d"),a("3d01")),i=[{name:"入款",checkList:[],list:{}},{name:"出款",checkList:[],list:{}},{name:"待出款",checkList:[],list:{}},{name:"解除出款",checkList:[],list:{}},{name:"额度转换",checkList:[],list:{}}],n={name:"lotlogpayflow",components:{Nav:l.a},data:function(){var t=this.$utils.getTodayArr(),e=t[0],a=t[1];return{dateoptions:{disabledDate:this.$utils.genDateConfig(10,["today","yesterday","lastWeek","thisMonth","lastMonth","sevent"]).disabledDate},date:[e,a],lastDate:[e,a],loading:!1,status:"0",type:"1",username:"",typemap:i,total:0,page:1,limit:50,dataList:[],showRef:!1}},methods:{change:function(t,e){var a=Object(s.a)(t,2),l=a[0],i=a[1],n=this.$utils.formatDate(this.lastDate[0])||"1990-01-01 00:00:00",o=this.$utils.formatDate(this.lastDate[1])||"1990-01-01 23:59:59";"date"===e&&(this.date=[l.replace("00:00:00",n.split(" ")[1]),i.replace("00:00:00",o.split(" ")[1])]),this.lastDate=this.date},selectAll:function(t,e){if("all"!==e){var a=t.checkList.length==Object.keys(t.list).length;t.checkList=a?[]:Object.keys(t.list)}else{var s=this.typemap.every((function(t){return t.checkList.length==Object.keys(t.list).length}));this.typemap.forEach((function(t){t.checkList=s?[]:Object.keys(t.list)}))}},pageChange:function(t){this.page=t,this.getData()},pageSizeChange:function(t){this.limit=t,this.getData(!0)},getData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&(this.page=1),!this.username)return this.$Message.error(this.$t("inputUserNameTip"));this.loading=!0;var a=this.typemap.reduce((function(t,e){return t.concat(e.checkList)}),[]),s={page:this.page,size:this.limit,userType:0,tradeType:"0"===this.status?"":this.status,startTime:this.$utils.formatDate(this.date[0]),endTime:this.$utils.formatDate(this.date[1])};if(a.length){var l="";a.forEach((function(t){l+=t+","})),s.subTradeType=l.substring(0,l.length-1)}"1"===this.type?s.username=this.username:s.payNo=this.username,this.$get("/funds/log/tob/queryPage",s).then((function(e){for(var a in e.subTradeTypeMap)"1"===a.substr(0,1)?t.typemap[0].list[a]=e.subTradeTypeMap[a]:"2"===a.substr(0,1)?t.typemap[1].list[a]=e.subTradeTypeMap[a]:"3"===a.substr(0,1)?t.typemap[2].list[a]=e.subTradeTypeMap[a]:"4"===a.substr(0,1)?t.typemap[3].list[a]=e.subTradeTypeMap[a]:"5"===a.substr(0,1)&&(t.typemap[4].list[a]=e.subTradeTypeMap[a]);t.total=+e.userFundsLog.totalElements,t.dataList=e.userFundsLog.content.map((function(e){return e.tradeType=t.$t("lotlogpayflow.p"+e.tradeType),e.subTradeType=t.$t("tradeTypes."+e.subTradeType),e.payType=t.$t("lotlogpayflow."+e.payType),e}))})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.loading=!1}))},copy:function(t){this.$utils.copy(t)?this.$Message.success(this.$t("copySuccessfully")):this.$Message.error(this.$t("copyFailedPleaseCopyManually"))},getResetDate:function(){var t=this;this.$get("/funds/log/tob/allType").then((function(e){for(var a in e.subTradeTypeMap)"1"===a.substr(0,1)?t.typemap[0].list[a]=e.subTradeTypeMap[a]:"2"===a.substr(0,1)?t.typemap[1].list[a]=e.subTradeTypeMap[a]:"3"===a.substr(0,1)?t.typemap[2].list[a]=e.subTradeTypeMap[a]:"4"===a.substr(0,1)?t.typemap[3].list[a]=e.subTradeTypeMap[a]:"5"===a.substr(0,1)&&(t.typemap[4].list[a]=e.subTradeTypeMap[a])})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.showRef=!0}))}},mounted:function(){this.getResetDate(),this.$route.query.loginName&&(this.username=this.$route.query.loginName)}},o=n,r=(a("e397"),a("2877")),p=Object(r.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lotlogpayflow"},[t.loading?a("Spin",{attrs:{fix:""}}):t._e(),a("Nav",{attrs:{nav:[{path:"/logpayflow",name:t.nowpagetitle}]}}),a("div",{staticClass:"lotlogpayflowbox"},[a("Select",{staticStyle:{width:"150px","margin-right":"10px"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("Option",{attrs:{value:"0"}},[t._v(t._s(t._f("lang")("lotlogpayflow.selectAll")))]),a("Option",{attrs:{value:"1"}},[t._v(t._s(t._f("lang")("tradeTypes.101")))]),a("Option",{attrs:{value:"2"}},[t._v(t._s(t._f("lang")("lotlogpayflow.p2")))]),a("Option",{attrs:{value:"3"}},[t._v(t._s(t._f("lang")("freeze")))]),a("Option",{attrs:{value:"4"}},[t._v(t._s(t._f("lang")("tradeTypes.401")))])],1),t._v(" "+t._s(t._f("lang")("fm.userAccount"))+" "),a("Input",{staticStyle:{width:"150px","margin-right":"10px"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("DatePicker",{staticStyle:{width:"330px"},attrs:{type:"datetimerange",editable:!1,clearable:!1,options:t.dateoptions,placeholder:"请选择时间"},on:{"on-change":t.change},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),a("Poptip",{attrs:{width:"900",placement:"bottom"}},[a("Button",{staticStyle:{margin:"0 10px"},attrs:{type:"primary"}},[t._v(t._s(t._f("lang")("lotlogpayflow.selectTransactionType")))]),a("div",{attrs:{slot:"content"},slot:"content"},[a("div",{staticStyle:{"margin-top":"10px"}},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.selectAll(null,"all")}}},[t._v(t._s(t._f("lang")("lotlogpayflow.selectAll")))])],1),a("Divider"),t.showRef?a("div",{staticClass:"typeselectbox"},t._l(t.typemap,(function(e){return a("div",{key:e.name},[Object.keys(e.list).length?a("Button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return t.selectAll(e)}}},[t._v(t._s(t._f("lang")("lotlogpayflow.selectAllBelow")))]):t._e(),a("CheckboxGroup",{model:{value:e.checkList,callback:function(a){t.$set(e,"checkList",a)},expression:"item.checkList"}},t._l(e.list,(function(e,s){return a("div",{key:s},[a("Checkbox",{attrs:{label:s}},[t._v(" "+t._s(t._f("lang")("tradeTypes."+s))+" ")])],1)})),0)],1)})),0):t._e()],1)],1),a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:function(e){return t.getData(!0)}}},[t._v(t._s(t._f("lang")("search")))]),a("table",{staticClass:"cmtable",staticStyle:{"margin-top":"10px"}},[a("tr",[a("th",[t._v(t._s(t._f("lang")("lotlogpayflow.userAccount")))]),a("th",[t._v(t._s(t._f("lang")("lotlogpayflow.transactionAmount")))]),a("th",[t._v(t._s(t._f("lang")("lotlogpayflow.accountBalance")))]),a("th",[t._v(t._s(t._f("lang")("lotlogpayflow.pendingWithdrawalAmount")))]),a("th",[t._v(t._s(t._f("lang")("lotlogpayflow.transactionType")))]),a("th",[t._v(t._s(t._f("lang")("lotlogpayflow.transactionSubcategory")))]),a("th",[t._v(t._s(t._f("lang")("lotlogpayflow.paymentMethod")))]),a("th",[t._v(t._s(t._f("lang")("lotlogpayflow.remark")))]),a("th",[t._v(t._s(t._f("lang")("lotlogpayflow.orderNumber")))]),a("th",[t._v(t._s(t._f("lang")("lotlogpayflow.creationTime")))])]),t._l(t.dataList,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.username)+" "),a("Button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.copy(e.username)}}},[t._v(t._s(t._f("lang")("copy")))])],1),a("td",[t._v(t._s("出款"===e.tradeType||"待出款"===e.tradeType||"转出"===e.subTradeType?"-":"+")+t._s(t._f("tofix")(e.amount/100,2)))]),a("td",[t._v(t._s(t._f("tofix")(e.canAmount/100,2)))]),a("td",[t._v(t._s(t._f("tofix")(e.freezeAmount/100,2)))]),a("td",[t._v(t._s(e.tradeType))]),a("td",[t._v(t._s(e.subTradeType))]),a("td",[t._v(t._s(e.payType))]),a("td",{staticClass:"warpTd"},[t._v(t._s(e.remark))]),a("td",[t._v(t._s(e.payNo))]),a("td",[t._v(t._s(e.createTime))])])})),t.dataList.length?t._e():a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"10"}},[t._v(t._s(t.$t("Nodata")))])])],2),a("div",{staticClass:"tablebottom"},[a("div",{staticClass:"static"},[t._v(t._s(t._f("lang")("pageDate",{total:t.total,page:t.page,allpage:Math.ceil(t.total/t.limit)})))]),a("Page",{staticStyle:{float:"right"},attrs:{current:t.page,pageSize:t.limit,total:t.total,"show-sizer":"","show-elevator":"","page-size-opts":[10,20,50,100,500]},on:{"on-change":t.pageChange,"on-page-size-change":t.pageSizeChange}})],1)],1)],1)}),[],!1,null,null,null);e.default=p.exports},e397:function(t,e,a){"use strict";a("08cdf")}}]);