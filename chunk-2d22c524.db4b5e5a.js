(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d22c524"],{f378:function(t,e,i){"use strict";i.r(e);var a=(i("d3b7"),i("159b"),{data:function(){return{total:0,page:1,limit:20,dataList:[],date:[null,null],showSpin:!1,userName:"",columns:[{type:"selection",width:60,align:"center"},{title:this.$t("demotion.tableList1"),key:"userName"},{title:this.$t("demotion.tableList2"),key:"rankLevel"},{title:this.$t("demotion.tableList3"),key:"cycleInviteCount"},{title:this.$t("demotion.tableList4"),key:"inviteTotal"},{title:this.$t("demotion.tableList5"),key:"totalDeposit"},{title:this.$t("demotion.tableList6"),key:"totalWithdraw"},{title:this.$t("demotion.tableList7"),slot:"handleDemotion"}]}},methods:{query:function(){var t=this;this.showSpin=!0,this.$get("/user/tob/getUserDowngradeReportTable",{searchName:this.userName,page:this.page,limit:this.limit}).then((function(e){t.dataList=e.resultPage.content||[],t.total=+e.resultPage.totalElements||0})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.showSpin=!1}))},pageChange:function(t){this.page=t,this.query()},pageSizeChange:function(t){this.limit=t,this.query()},handledemition:function(t){var e=this;this.showSpin=!0,this.$post("/user/tob/downgradeUser",{userIds:t.id}).then((function(){e.$Message.success(e.$t("operateSuccess")),e.query()})).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.showSpin=!1}))},demotionAll:function(){var t=this;if(this.$refs.selection.getSelection().length){var e="";this.$refs.selection.getSelection().forEach((function(t){e=e+t.id+","})),this.showSpin=!0,this.$post("/user/tob/downgradeUser",{userIds:e}).then((function(){t.$Message.success(t.$t("operateSuccess")),t.query()})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.showSpin=!1}))}else this.$Message.error(this.$t("demotion.handledemitionNoTips"))}},mounted:function(){this.query()}}),n=a,o=i("2877"),s=Object(o.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Form",{attrs:{inline:""}},[i("FormItem",{attrs:{label:t.$t("rebate.playerUsername"),prop:"userName","label-width":90}},[i("Input",{staticClass:"operationlog-input",attrs:{placeholder:t.$t("rebate.pleaseEnterUserName")},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}})],1),i("FormItem",[i("Button",{attrs:{type:"primary",icon:"md-search"},on:{click:function(e){t.page=1,t.query()}}},[t._v(t._s(t._f("lang")("rebate.search")))]),t.pageauthoritys.demotionAll?i("Poptip",{attrs:{confirm:"",title:t.$t("demotion.handledemitionTips"),placement:"bottom"},on:{"on-ok":t.demotionAll}},[i("Button",{staticStyle:{"margin-left":"30px"},attrs:{type:"error"}},[t._v(t._s(t._f("lang")("demotion.handleDemotion")))])],1):t._e()],1)],1),i("Table",{ref:"selection",staticStyle:{overflow:"visible"},attrs:{columns:t.columns,data:t.dataList,"no-data-text":t.$t("rebate.noData")},scopedSlots:t._u([{key:"handleDemotion",fn:function(e){var a=e.row;return[t.pageauthoritys.demotion?i("Poptip",{attrs:{confirm:"",title:t.$t("demotion.handledemitionTips"),placement:"top"},on:{"on-ok":function(e){return t.handledemition(a)}}},[i("a",[t._v(t._s(t._f("lang")("demotion.demition")))])]):t._e()]}}])}),i("div",{staticClass:"tablebottom"},[i("div",{staticClass:"static"},[t._v(t._s(t._f("lang")("pageDate",{total:t.total,page:t.page,allpage:Math.ceil(t.total/t.limit)})))]),i("Page",{staticStyle:{float:"right"},attrs:{current:t.page,pageSize:t.limit,total:t.total,"show-sizer":"","show-elevator":"","page-size-opts":[20,50,100,500]},on:{"on-change":t.pageChange,"on-page-size-change":t.pageSizeChange}})],1),t.showSpin?i("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)}),[],!1,null,null,null);e.default=s.exports}}]);