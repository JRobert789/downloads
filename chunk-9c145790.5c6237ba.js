(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9c145790"],{"12d3":function(t,e,a){"use strict";a("66be")},4855:function(t,e,a){"use strict";a.r(e);var n=(a("d3b7"),a("a9e3"),{data:function(){return{formItem:{functionName:"",limitType:0,limitValue:100,transferMin:0,transferMax:0,limitRank:"1",selectList:[]},handleShowChange:!1,loading:!1,ruleValidate:{functionName:[{required:!0,message:this.$t("fm.pleaseEnterTheFunctionName"),trigger:"blur"},{type:"string",min:2,message:this.$t("fm.theLengthOfFunctionNameCannotBeLessThan2Characters"),trigger:"blur"}]}}},methods:{handleChange:function(){this.formItem.rateValueFloatMins>this.formItem.rateValueFloatMaxs&&(this.formItem.rateValueFloatMaxs=this.formItem.rateValueFloatMins+1e-6)},getlist:function(){var t=this;this.loading=!0,this.$post("/incr/manager/tob/getManger").then((function(e){var a=e.manager;t.formItem.id=a.id||"",t.formItem.selectList=e.levelMap,t.formItem.functionName=a.functionName,t.formItem.transferMin=+a.transferMin/100||null,t.formItem.transferMax=+a.transferMax/100||null,t.formItem.limitType=Number(a.limitType),1===t.formItem.limitType?t.formItem.limitRank=String(a.limitRank):2===t.formItem.limitType&&(t.formItem.limitValue=+a.limitValue/100||0)})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.loading=!1}))},saveSet:function(t){var e=this,a=this.formItem,n=a.limitValue,i=a.transferMin,m=a.transferMax,r=a.limitType,s=1e10;return i>m&&null!==m?this.$Message.error(this.$t("fm.maximumTransferInAmountHint")):2===r&&n>s||i>s||m>s?this.$Message.error(this.$t("fm.maxNumberLimit",{money:s})):void this.$refs[t].validate((function(t){if(t){var a={id:e.formItem.id||"",functionName:e.formItem.functionName,limitType:Number(e.formItem.limitType),transferMin:Math.round(100*e.formItem.transferMin),transferMax:Math.round(100*e.formItem.transferMax)||""};1===a.limitType&&(a.limitRank=e.formItem.limitRank),2===a.limitType&&(a.limitValue=Math.round(100*e.formItem.limitValue)||0),e.loading=!0,e.$post("/incr/manager/tob/saveOrUpdateManager",a).then((function(){e.$Message.success(e.$t("fm.successfullyModified"))})).catch((function(t){e.$Message.error(t.message)})).finally((function(){e.loading=!1}))}else e.$Message.error(e.$t("fm.pleaseEnterValueAddedName"))}))}},mounted:function(){this.getlist()}}),i=n,m=(a("12d3"),a("2877")),r=Object(m.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"funcitionSetWarp"},[t.loading?a("Spin",{attrs:{fix:""}}):t._e(),a("Form",{ref:"formValidate",attrs:{"label-width":200,model:t.formItem,rules:t.ruleValidate}},[[a("div",{staticClass:"top"},[a("p",[t._v(t._s(t._f("lang")("menu.functionSetting")))])]),a("FormItem",{attrs:{label:t.$t("fm.functionName"),prop:"functionName"}},[a("Input",{staticClass:"width100",attrs:{disabled:t.handleShowChange},model:{value:t.formItem.functionName,callback:function(e){t.$set(t.formItem,"functionName",e)},expression:"formItem.functionName"}})],1),a("div",{staticClass:"top"},[a("p",[t._v(t._s(t._f("lang")("fm.conditionSetting")))])]),a("FormItem",{attrs:{label:t.$t("fm.userRestrictions")}},[a("RadioGroup",{model:{value:t.formItem.limitType,callback:function(e){t.$set(t.formItem,"limitType",e)},expression:"formItem.limitType"}},[a("Radio",{attrs:{label:0,disabled:t.handleShowChange}},[t._v(t._s(t._f("lang")("fm.notLimited")))]),a("Radio",{attrs:{label:1,disabled:t.handleShowChange}},[t._v(t._s(t._f("lang")("fm.userLevel")))]),a("Radio",{attrs:{label:2,disabled:t.handleShowChange}},[t._v(t._s(t._f("lang")("fm.cumulativeDepositAmount")))])],1),1===t.formItem.limitType?a("Select",{staticClass:"width100",model:{value:t.formItem.limitRank,callback:function(e){t.$set(t.formItem,"limitRank",e)},expression:"formItem.limitRank"}},t._l(Object.keys(t.formItem.selectList),(function(e){return a("Option",{key:e,attrs:{value:e,disabled:t.handleShowChange}},[t._v(t._s(e))])})),1):t._e(),2===t.formItem.limitType?a("InputNumber",{staticClass:"width100",attrs:{disabled:t.handleShowChange,"active-change":!1},model:{value:t.formItem.limitValue,callback:function(e){t.$set(t.formItem,"limitValue",e)},expression:"formItem.limitValue"}}):t._e()],1),a("FormItem",{attrs:{label:t.$t("fm.transferRestrictions")}},[a("span",{staticStyle:{"margin-right":"8px"}},[t._v(t._s(t._f("lang")("fm.minimumTransferAmount")))]),a("InputNumber",{staticClass:"width100",attrs:{disabled:t.handleShowChange,"active-change":!1,min:1},model:{value:t.formItem.transferMin,callback:function(e){t.$set(t.formItem,"transferMin",e)},expression:"formItem.transferMin"}}),a("span",{staticClass:"marginLeft"},[t._v(t._s(t._f("lang")("fm.minimumAmountIs1USD")))]),a("h3",{staticStyle:{height:"5px"}}),a("span",{staticStyle:{"margin-right":"8px"}},[t._v(t._s(t._f("lang")("fm.maximumTransferInAmount")))]),a("InputNumber",{staticClass:"width100",attrs:{disabled:t.handleShowChange,"active-change":!1},model:{value:t.formItem.transferMax,callback:function(e){t.$set(t.formItem,"transferMax",e)},expression:"formItem.transferMax"}}),a("span",{staticClass:"marginLeft"},[t._v(t._s(t._f("lang")("fm.maximumTransferInAmountHint")))])],1),t.handleShowChange?t._e():a("FormItem",[t.pageauthoritys.save?a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.saveSet("formValidate")}}},[t._v(t._s(t._f("lang")("confirm")))]):t._e(),a("Button",{staticClass:"marginLeft",on:{click:function(e){t.handleShowChange=!0}}},[t._v(t._s(t._f("lang")("cancel")))])],1)]],2)],1)}),[],!1,null,null,null);e.default=r.exports},"66be":function(t,e,a){}}]);