(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e4e6b0f8"],{"8fbc":function(t,e,a){"use strict";a.r(e);var i=a("3835"),s=(a("a9e3"),a("d3b7"),a("d81d"),{name:"rewards",data:function(){return{dateConfig:{selectType:1,list:[{value:1,text:this.fn("registrationTime")},{value:2,text:this.fn("distributionTime")}],value:[new Date,new Date]},accountConfig:{selectType:0,list:[{value:0,text:this.fn("account")},{value:1,text:this.fn("directSuperior")}],value:""},statusConfig:{list:[{value:"all",text:this.$t("all")},{value:0,text:this.fn("issuing")},{value:1,text:this.fn("issued")},{value:2,text:this.fn("issueFailed")}],selectType:"all"},columns:[{title:this.fn("account"),key:"username"},{title:this.fn("directSuperior"),key:"proxyUsername"},{title:this.fn("registrationTime"),key:"registerDate"},{title:this.fn("rewardAmount"),key:"formatGiveAmount"},{title:this.fn("distributionTime"),key:"giveDate"},{title:this.fn("releaseStatus"),key:"formatStatus"}],dataList:[],pageConfig:{page:1,totalElements:0,pageSizeArray:[20,30,50],size:20},loading:!1}},mounted:function(){this.getList(1)},methods:{formatStatus:function(t){return[this.fn("issuing"),this.fn("issued"),this.fn("issueFailed")][t]||t},pageSizeChange:function(t){this.pageConfig.size=Number(t),this.getList(1)},getList:function(t){var e=this;if(!this.loading){this.loading=!0;var a=this.dateConfig,s=this.accountConfig,n=this.statusConfig,o=this.pageConfig,l=n.selectType,u=Object(i.a)(a.value,2),c=u[0],r=u[1],f={startTime:this.$utils.formatDate(c,"YYYY-MM-DD"),endTime:this.$utils.formatDate(r,"YYYY-MM-DD"),status:"all"===l?"":l,page:o.page=t,searchTimeType:a.selectType,size:o.size};if(s.value)f[["username","proxyUsername"][s.selectType]]=s.value;this.$get("/activity/registerReward/tob/page",f).then((function(t){var a=t||{content:[],totalElements:0},i=a.content,s=a.totalElements;e.pageConfig.totalElements=Number(s)||0,e.dataList=i.map((function(t){var a=t.giveAmount,i=t.status;return Object.assign(t,{formatGiveAmount:e.$utils.toYuan(a),formatStatus:e.formatStatus(i)})}))})).catch((function(t){e.$Message.error(t.message),e.dataList=[]})).finally((function(){e.loading=!1}))}},fn:function(t){return this.$t("registrationRewards.".concat(t))},resetHandler:function(){var t=this.dateConfig,e=this.accountConfig,a=this.statusConfig;t.selectType=1,t.value=[new Date,new Date],e.selectType=0,e.value="",a.selectType="all"}}}),n=s,o=(a("ce01"),a("2877")),l=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rewards"},[t.loading?a("Spin",{attrs:{size:"large",fix:""}}):t._e(),a("Form",{attrs:{inline:""}},[a("FormItem",[a("div",{staticClass:"select_wrap"},[a("Select",{model:{value:t.dateConfig.selectType,callback:function(e){t.$set(t.dateConfig,"selectType",e)},expression:"dateConfig.selectType"}},t._l(t.dateConfig.list,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.text))])})),1)],1),a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",placement:"bottom-end"},model:{value:t.dateConfig.value,callback:function(e){t.$set(t.dateConfig,"value",e)},expression:"dateConfig.value"}})],1),a("FormItem",[a("div",{staticClass:"select_wrap"},[a("Select",{model:{value:t.accountConfig.selectType,callback:function(e){t.$set(t.accountConfig,"selectType",e)},expression:"accountConfig.selectType"}},t._l(t.accountConfig.list,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.text))])})),1)],1),a("Input",{staticStyle:{width:"120px"},model:{value:t.accountConfig.value,callback:function(e){t.$set(t.accountConfig,"value",e)},expression:"accountConfig.value"}})],1),a("FormItem",[t._v(" "+t._s(t.$t("status"))+" "),a("div",{staticClass:"select_wrap"},[a("Select",{model:{value:t.statusConfig.selectType,callback:function(e){t.$set(t.statusConfig,"selectType",e)},expression:"statusConfig.selectType"}},t._l(t.statusConfig.list,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.text))])})),1)],1)]),a("FormItem",[a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:function(e){return t.getList(1)}}},[t._v(" "+t._s(t.$t("search"))+" ")])],1),a("FormItem",[a("Button",{on:{click:t.resetHandler}},[t._v(" "+t._s(t.$t("reset"))+" ")])],1)],1),a("m-table",{attrs:{border:"",columns:t.columns,data:t.dataList}}),a("m-page",{attrs:{total:t.pageConfig.totalElements,pageSizeOpts:t.pageConfig.pageSizeArray,pageSize:t.pageConfig.size},on:{"on-change":t.getList,"on-page-size-change":t.pageSizeChange},model:{value:t.pageConfig.page,callback:function(e){t.$set(t.pageConfig,"page",e)},expression:"pageConfig.page"}})],1)}),[],!1,null,"72497584",null);e.default=l.exports},ce01:function(t,e,a){"use strict";a("e497")},e497:function(t,e,a){}}]);