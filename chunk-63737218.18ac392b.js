(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-63737218"],{a7d5:function(i,t,e){},c115:function(i,t,e){"use strict";e.r(t);var n=(e("4d63"),e("ac1f"),e("25f0"),e("a9e3"),e("d81d"),e("b680"),e("d3b7"),{data:function(){return{loading:!1,serviceChargeRatio:.01,orderNum:1,withdrawTime:24,withdrawTimeEnd:null,minMoney:2,moneyLimit:[],falg:!0}},methods:{handleSave:function(){var i=this,t=new RegExp("^(([1-9]{1}\\d*)|([0]{1}))(\\.(\\d){0,2})?$"),e=new RegExp("^[0-9]+$");if(!t.test(this.serviceChargeRatio))return this.$Message.info(this.$t("siteConfig.payVaditate1")),void(this.falg=!1);if(!t.test(this.minMoney))return this.$Message.info(this.$t("siteConfig.payVaditate1")),void(this.falg=!1);if(!t.test(this.serviceChargeRatio))return this.$Message.info(this.$t("siteConfig.payVaditate2")),void(this.falg=!1);if(!e.test(Number(this.orderNum)))return this.$Message.info(this.$t("siteConfig.payVaditate4")),void(this.falg=!1);if(this.moneyLimit.map((function(n){return t.test(n.money)?e.test(n.num)?void 0:(i.$Message.info(i.$t("siteConfig.payVaditate5")),void(i.falg=!1)):(i.$Message.info(i.$t("siteConfig.payVaditate3")),void(i.falg=!1))})),this.falg){this.moneyLimit.map((function(i){i.money=(100*i.money).toFixed(0)})),this.loading=!0;var n=this.withdrawTime,a=this.withdrawTimeEnd;this.$post("/platform/withdrawConfig/tob/saveWithdrawConfig",{serviceChargeRatio:(1e3*this.serviceChargeRatio).toFixed(0),orderNum:this.orderNum,withdrawTime:n,withdrawTimeEnd:a,minMoney:(100*this.minMoney).toFixed(0),moneyLimit:JSON.stringify(this.moneyLimit)}).then((function(){i.$Message.success(i.$t("operateSuccess"))})).catch((function(t){i.$Message.error(t.message)})).finally((function(){i.query(),i.loading=!1}))}},query:function(){var i=this;this.loading=!0,this.$get("/platform/withdrawConfig/tob/getWithdrawConfig").then((function(t){var e=t.serviceChargeRatio,n=t.orderNum,a=t.moneyLimit,s=t.minMoney,o=t.withdrawTime,r=t.withdrawTimeEnd;i.serviceChargeRatio=e/1e3,i.orderNum=n,i.withdrawTime=+o||24,i.withdrawTimeEnd=+r||null,i.minMoney=Number(s)/100,i.moneyLimit=JSON.parse(a),i.moneyLimit.map((function(i){i.money=i.money/100}))})).catch((function(t){i.$Message.error(t.message)})).finally((function(){i.loading=!1}))}},mounted:function(){this.query()},components:{}}),a=n,s=(e("ed8c"),e("2877")),o=Object(s.a)(a,(function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"payFormWarp"},[i.loading?e("Spin",{attrs:{fix:""}}):i._e(),e("div",{staticClass:"formWarp"},[e("div",{staticClass:"formItem"},[e("span",[i._v(i._s(i._f("lang")("siteConfig.serviceChargeRatio")))]),e("div",{staticClass:"inputnumber-group"},[e("span",[i._v(i._s(i._f("lang")("siteConfig.handingFee")))]),e("InputNumber",{staticClass:"width-120",attrs:{min:0},model:{value:i.serviceChargeRatio,callback:function(t){i.serviceChargeRatio=t},expression:"serviceChargeRatio"}}),e("span",[i._v("%")])],1)]),e("div",{staticClass:"formItem"},[e("span",[i._v(i._s(i._f("lang")("siteConfig.needOrderNum")))]),e("div",{staticClass:"inputnumber-group"},[e("span",[i._v(i._s(i._f("lang")("siteConfig.orderNum")))]),e("InputNumber",{staticClass:"width-120",attrs:{min:1},model:{value:i.orderNum,callback:function(t){i.orderNum=t},expression:"orderNum"}})],1)]),e("div",{staticClass:"formItem"},[e("span",[i._v(i._s(i._f("lang")("siteConfig.withdrawalTime")))]),e("div",{staticClass:"inputnumber-group"},[e("span",[i._v(i._s(i._f("lang")("siteConfig.time")))]),e("InputNumber",{staticClass:"width-time",attrs:{min:1,max:99999,formatter:function(i){return parseInt(i)},parser:function(i){return parseInt(i)},"active-change":!1},model:{value:i.withdrawTime,callback:function(t){i.withdrawTime=t},expression:"withdrawTime"}}),i._v(" ~ "),e("InputNumber",{staticClass:"width-time",attrs:{max:99999,min:1},model:{value:i.withdrawTimeEnd,callback:function(t){i.withdrawTimeEnd=t},expression:"withdrawTimeEnd"}}),e("span",[i._v(i._s(i._f("lang")("siteConfig.hours")))])],1)]),e("div",{staticClass:"formItem"},[e("span",[i._v(i._s(i._f("lang")("siteConfig.minMoney")))]),e("div",{staticClass:"inputnumber-group"},[e("span",[i._v(i._s(i._f("lang")("siteConfig.money")))]),e("InputNumber",{staticClass:"width-120",attrs:{min:2,"active-change":!1},model:{value:i.minMoney,callback:function(t){i.minMoney=t},expression:"minMoney"}}),e("span",[i._v(i._s(i.$currency))])],1)]),e("div",{staticClass:"formItem"},[e("span",[i._v(i._s(i._f("lang")("siteConfig.moneyLimit")))]),e("div",{staticClass:"formRight"},i._l(i.moneyLimit,(function(t,n){return e("div",{key:n,staticClass:"inputnumber-group"},[e("span",[i._v("Lv"+i._s(t.level)+" ")]),e("Input",{staticClass:"width-100 m-r-5",model:{value:t.money,callback:function(e){i.$set(t,"money",e)},expression:"i.money"}}),i._v(i._s(i.$currency)+" "),e("InputNumber",{staticClass:"m-r-5",attrs:{"active-change":!1,min:1},model:{value:t.num,callback:function(e){i.$set(t,"num",e)},expression:"i.num"}}),i._v(i._s(i._f("lang")("siteConfig.times2"))+" ")],1)})),0)]),e("div",{staticClass:"formItem"},[e("span"),e("Button",{attrs:{type:"primary",disabled:!i.pageauthoritys.save},on:{click:i.handleSave}},[i._v(i._s(i._f("lang")("siteConfig.save")))])],1)])],1)}),[],!1,null,null,null);t.default=o.exports},ed8c:function(i,t,e){"use strict";e("a7d5")}}]);