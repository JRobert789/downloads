(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-15f277ac"],{"01a7":function(t,e,a){"use strict";a.r(e);var s={name:"exportRecord",components:{Nav:(a("caad"),a("2532"),a("d3b7"),a("3d01")).a},data:function(){return{status:"0",columns:[{title:this.tFn("fileName"),key:"name"},{title:this.tFn("type"),slot:"type"},{title:this.tFn("status"),slot:"status"},{title:this.tFn("gmtCreate"),key:"gmtCreate"},{title:this.tFn("handle"),slot:"handle"}],dataList:[],chooseList:[{key:"0",name:this.tFn("allType")},{key:"2",name:this.tFn("exportSuccess")},{key:"1",name:this.tFn("exporting")},{key:"3",name:this.tFn("fileExpired")},{key:"4",name:this.tFn("exportFailed")}],totalElements:0,pageNum:1,pageSize:10,loading:!1}},methods:{tFn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.includes("exportRecord.")||(t="exportRecord.".concat(t)),this.$t(t,e)},getExportReport:function(){var t=this;this.loading=!0,this.$post("/download/tob/queryDownloadPage",{page:this.pageNum,limit:this.pageSize,status:"0"===this.status?"":this.status},{"Content-type":"application/json"}).then((function(e){t.dataList=e.content,t.totalElements=+e.totalElements})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.loading=!1}))},pageSizeChange:function(t){this.pageSize=t,this.getExportReport()}},mounted:function(){this.getExportReport()}},n=s,o=(a("f263"),a("2877")),i=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"exportRecordWarp"},[a("Nav",{attrs:{nav:[{path:"/exportRecord",name:t.nowpagetitle}]}}),t.loading?a("Spin",{attrs:{fix:""}}):t._e(),a("div",{staticClass:"exportRecord"},[a("p",{staticClass:"tipTop"},[t._v(t._s(t.tFn("exportRecordTip")))]),a("Form",{attrs:{inline:""}},[a("FormItem",{attrs:{label:t.tFn("fileStatus"),"label-width":80}},[a("Select",{staticStyle:{width:"140px"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.chooseList,(function(e){return a("Option",{key:e.key,attrs:{value:e.key}},[t._v(t._s(e.name))])})),1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.pageNum=1,t.getExportReport()}}},[t._v(t._s(t._f("lang")("query")))])],1)],1),a("m-table",{attrs:{columns:t.columns,data:t.dataList,size:"small"},scopedSlots:t._u([{key:"status",fn:function(e){var s=e.row;return[2===s.status?a("span",{staticStyle:{color:"green"}},[t._v(" "+t._s(t.tFn("exportSuccess"))+" ")]):t._e(),1===s.status?a("span",{staticStyle:{color:"blue"}},[t._v(" "+t._s(t.tFn("exporting"))+" ")]):t._e(),3===s.status?a("span",[t._v(" "+t._s(t.tFn("fileExpired"))+" ")]):t._e(),4===s.status?a("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(t.tFn("exportFailed"))+" ")]):t._e()]}},{key:"handle",fn:function(e){var s=e.row;return[2===s.status?a("a",{staticStyle:{color:"blue",cursor:"pointer"},attrs:{href:s.fullPath}},[t._v(t._s(t.tFn("downLoad")))]):a("span",[t._v(" - ")])]}}])},[a("template",{slot:"type"},[a("span",[t._v(" "+t._s(t.tFn("userData"))+" ")])])],2),a("m-page",{attrs:{total:t.totalElements,pageSize:t.pageSize},on:{"on-change":t.getExportReport,"on-page-size-change":t.pageSizeChange},model:{value:t.pageNum,callback:function(e){t.pageNum=e},expression:"pageNum"}})],1)],1)}),[],!1,null,null,null);e.default=i.exports},2379:function(t,e,a){},f263:function(t,e,a){"use strict";a("2379")}}]);