(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0e1c1a"],{"7c91":function(t,e,o){"use strict";o.r(e);var s=(o("d81d"),o("d3b7"),{data:function(){return{loading:!1,value1:!1,styleForm:{id:"",colour:"",style:"",skin:""},columns:[{title:"首页样式",slot:"style"},{title:"风格样式",slot:"colour"},{title:"皮肤样式",slot:"skin"},{title:"设置时间",key:"updateTime"},{title:"操作",key:"operation",slot:"operation",width:280}],dataList:[],id:"",form1:[],form2:[],form3:[]}},computed:{},methods:{showName1:function(t){var e="";return this.form1.map((function(o){o.dictKey!=t.style||(e=o.dictValue)})),e},showName2:function(t){var e="";return this.form2.map((function(o){o.dictKey!=t.colour||(e=o.dictValue)})),e},showName3:function(t){var e="";return this.form3.map((function(o){o.dictKey!=t.skin||(e=o.dictValue)})),e},query:function(){var t=this;this.loading=!0,this.$get("/platform/siteStyle/tob/getSiteStyle").then((function(e){t.dataList=[e.siteStyle],t.id=e.siteStyle.id,t.form1=e.indexStyleList,t.form2=e.colourStyleList,t.form3=e.skinStyleList})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.loading=!1}))},handleEdit:function(){this.value1=!0,this.styleForm=JSON.parse(JSON.stringify(this.dataList[0]))},saveEdit:function(){var t=this;this.loading=!0,this.styleForm.id=this.id,this.$post("/platform/siteStyle/tob/saveSiteStyle",{id:this.styleForm.id,colour:this.styleForm.colour,style:this.styleForm.style,skin:this.styleForm.skin}).then((function(){t.$Message.success("保存成功"),t.value1=!1,t.query()})).catch((function(e){t.$Message.error(e.message)})).finally((function(){t.loading=!1}))}},components:{},mounted:function(){this.query()}}),i=s,l=o("2877"),n=Object(l.a)(i,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"style-configuration"},[t.loading?o("Spin",{attrs:{fix:""}}):t._e(),o("Table",{attrs:{border:"",columns:t.columns,data:t.dataList},scopedSlots:t._u([{key:"style",fn:function(e){var o=e.row;return[t._v(" "+t._s(t.showName1(o))+" ")]}},{key:"colour",fn:function(e){var o=e.row;return[t._v(" "+t._s(t.showName2(o))+" ")]}},{key:"skin",fn:function(e){var o=e.row;return[t._v(" "+t._s(t.showName3(o))+" ")]}}])},[o("template",{slot:"operation"},[o("div",{staticClass:"operation-btn-group"},[o("Button",{staticStyle:{"margin-left":"20px"},attrs:{size:"small",type:"warning"},on:{click:t.handleEdit}},[t._v("编辑")])],1)])],2),o("Modal",{attrs:{title:"编辑"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}},[[o("Form",{ref:"form",attrs:{"label-width":120,model:t.styleForm}},[o("FormItem",{attrs:{label:"首页样式："}},[o("Select",{staticStyle:{width:"200px"},model:{value:t.styleForm.style,callback:function(e){t.$set(t.styleForm,"style",e)},expression:"styleForm.style"}},t._l(t.form1,(function(e,s){return o("Option",{key:s,attrs:{value:e.dictKey}},[t._v(t._s(e.dictValue))])})),1)],1),o("FormItem",{attrs:{label:"色调样式："}},[o("Select",{staticStyle:{width:"200px"},model:{value:t.styleForm.colour,callback:function(e){t.$set(t.styleForm,"colour",e)},expression:"styleForm.colour"}},t._l(t.form2,(function(e,s){return o("Option",{key:s,attrs:{value:e.dictKey}},[t._v(t._s(e.dictValue))])})),1)],1),o("FormItem",{attrs:{label:"皮肤样式："}},[o("Select",{staticStyle:{width:"200px"},model:{value:t.styleForm.skin,callback:function(e){t.$set(t.styleForm,"skin",e)},expression:"styleForm.skin"}},t._l(t.form3,(function(e,s){return o("Option",{key:s,attrs:{value:e.dictKey}},[t._v(t._s(e.dictValue))])})),1)],1)],1)],o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"text"},on:{click:function(e){t.value1=!1}}},[t._v("取消")]),o("Button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确定")])],1)],2)],1)}),[],!1,null,null,null);e.default=n.exports}}]);